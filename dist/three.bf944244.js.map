{"version":3,"sources":["js/three.js"],"names":["global","factory","exports","module","define","amd","globalThis","self","THREE","runtime","Op","Object","prototype","hasOwn","hasOwnProperty","undefined$1","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","obj","key","value","defineProperty","enumerable","configurable","writable","err","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","_invoke","makeInvokeMethod","tryCatch","fn","arg","type","call","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","constructor","displayName","defineIteratorMethods","forEach","method","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","__await","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","then","unwrapped","error","previousPromise","enqueue","callInvokeWithMethodAndArg","async","Promise","iter","next","done","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","info","resultName","nextLoc","toString","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","keys","object","reverse","length","pop","iterable","iteratorMethod","isNaN","i","skipTempReset","prev","charAt","slice","stop","rootEntry","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","_catch","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","Function","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","GLSL1","GLSL3","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","undefined","_defineProperties","target","props","descriptor","_createClass","Constructor","protoProps","staticProps","_inheritsLoose","subClass","superClass","_setPrototypeOf","o","p","_assertThisInitialized","ReferenceError","_unsupportedIterableToArray","minLen","_arrayLikeToArray","n","Array","from","test","arr","len","arr2","_createForOfIteratorHelperLoose","allowArrayLike","it","isArray","bind","EventDispatcher","assign","addEventListener","listener","_listeners","listeners","indexOf","hasEventListener","removeEventListener","listenerArray","index","splice","dispatchEvent","event","array","l","_lut","_seed","MathUtils","DEG2RAD","Math","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toUpperCase","clamp","min","max","euclideanModulo","m","mapLinear","x","a1","a2","b1","b2","lerp","y","t","damp","lambda","dt","exp","pingpong","abs","smoothstep","smootherstep","randInt","low","high","floor","randFloat","randFloatSpread","range","seededRandom","s","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","pow","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","q","a","b","c","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","Vector2","_proto","setScalar","scalar","setX","setY","setComponent","getComponent","clone","copy","v","add","w","addVectors","addScalar","addScaledVector","sub","subVectors","subScalar","multiply","multiplyScalar","divide","divideScalar","applyMatrix3","e","elements","clampScalar","minVal","maxVal","clampLength","round","roundToZero","negate","dot","cross","lengthSq","sqrt","manhattanLength","normalize","angle","atan2","distanceTo","distanceToSquared","dx","dy","manhattanDistanceTo","setLength","alpha","lerpVectors","v1","v2","equals","fromArray","offset","toArray","fromBufferAttribute","attribute","getX","getY","rotateAround","center","get","isVector2","Matrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","identity","me","extractBasis","xAxis","yAxis","zAxis","setFromMatrix3Column","setFromMatrix4","multiplyMatrices","premultiply","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","determinant","d","f","g","h","invert","t11","t12","t13","det","detInv","transpose","tmp","getNormalMatrix","matrix4","transposeIntoArray","r","setUvTransform","tx","ty","sx","sy","rotation","cx","cy","scale","rotate","theta","translate","matrix","isMatrix3","_canvas","ImageUtils","getDataURL","image","src","HTMLCanvasElement","canvas","document","createElementNS","width","height","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","_EventDispatcher","mapping","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","_this","DEFAULT_IMAGE","DEFAULT_MAPPING","mipmaps","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","version","onUpdate","updateMatrix","source","toJSON","meta","isRootObject","textures","output","metadata","images","url","isDataTexture","serializeImage","dispose","transformUv","uv","isTexture","HTMLImageElement","ImageBitmap","data","Vector4","z","setZ","setW","applyMatrix4","setAxisAngleFromQuaternion","acos","setAxisAngleFromRotationMatrix","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","isVector4","WebGLRenderTarget","options","depth","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","setTexture","setSize","isWebGLRenderTarget","WebGLMultisampleRenderTarget","_WebGLRenderTarget","samples","isWebGLMultisampleRenderTarget","Quaternion","_x","_y","_z","_w","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","Number","EPSILON","tDir","multiplyQuaternionsFlat","_onChangeCallback","quaternion","setFromEuler","euler","update","isEuler","_order","c1","c3","s1","s3","setFromAxisAngle","axis","halfAngle","setFromRotationMatrix","trace","_s","_s2","_s3","setFromUnitVectors","vFrom","vTo","EPS","angleTo","rotateTowards","step","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","_onChange","callback","isQuaternion","Vector3","multiplyVectors","applyEuler","applyQuaternion","_quaternion","applyAxisAngle","applyNormalMatrix","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","denominator","projectOnPlane","planeNormal","_vector","reflect","normal","dz","setFromSpherical","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","setFromMatrixColumn","sz","isVector3","Box3","Infinity","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","count","setFromPoints","points","makeEmpty","il","expandByPoint","setFromCenterAndSize","size","halfSize","_vector$1","setFromObject","expandByObject","box","isEmpty","getCenter","getSize","point","expandByVector","vector","expandByScalar","updateWorldMatrix","geometry","boundingBox","computeBoundingBox","_box","union","children","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","triangle","_center","_extents","_v0","_v1","_v2","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","distanceToPoint","clampedPoint","getBoundingSphere","intersect","_points","isBox3","_testAxis","v0","extents","j","p0","p1","p2","_box$1","Sphere","optionalCenter","maxRadiusSq","radiusSum","deltaLengthSq","getBoundingBox","getMaxScaleOnAxis","_vector$2","_segCenter","_segDir","_diff","_edge1","_edge2","_normal","Ray","origin","direction","ray","at","lookAt","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","backfaceCulling","DdN","sign","DdQxE2","DdE1xQ","QdN","Matrix4","n14","n24","n34","n41","n42","n43","n44","copyPosition","setFromMatrix3","makeBasis","extractRotation","scaleX","_v1$1","scaleY","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","_ce","_cf","_de","_df","_ae","_af","_be","_bf","ac","ad","bc","bd","_ac","_ad","_bc","_bd","makeRotationFromQuaternion","compose","_zero","_one","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","t14","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","makeScale","makeShear","position","x2","y2","z2","wx","wy","wz","decompose","_m1","invSX","invSY","invSZ","makePerspective","left","right","top","bottom","near","far","makeOrthographic","isMatrix4","_matrix","_quaternion$1","Euler","DefaultOrder","asin","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","RotationOrders","Layers","mask","channel","enable","enableAll","toggle","disable","disableAll","layers","_object3DId","_v1$2","_q1","_m1$1","_target","_position","_scale","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","parent","DefaultUp","onRotationChange","onQuaternionChange","defineProperties","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","animations","userData","isObject3D","onBeforeRender","onAfterRender","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","distance","translateX","translateY","translateZ","localToWorld","worldToLocal","isCamera","isLight","remove","clear","attach","getObjectById","id","getObjectByProperty","getObjectByName","child","getWorldPosition","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","updateMatrixWorld","force","updateParents","updateChildren","geometries","materials","shapes","skeletons","JSON","stringify","isInstancedMesh","instanceMatrix","serialize","library","element","isMesh","isLine","isPoints","parameters","shape","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","_i","_l","_i2","_i3","animation","extractFromCache","_shapes","cache","recursive","parse","_vector1","_vector2","_normalMatrix","Plane","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","delta","start","intersectsLine","startSign","endSign","end","coplanarPoint","optionalNormalMatrix","referencePoint","isPlane","_v0$1","_v1$3","_v2$1","_v3","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","u","getUV","p3","uv1","uv2","uv3","isFrontFacing","setFromPointsAndIndices","i0","i1","i2","getArea","getMidpoint","getPlane","d4","vc","d5","d6","vb","va","materialId","Material","fog","blending","side","vertexColors","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","toneMapped","isMaterial","onBeforeCompile","customProgramCacheKey","setValues","newValue","flatShading","currentValue","isColor","isRoot","color","getHex","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","map","matcap","alphaMap","lightMap","lightMapIntensity","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","reflectivity","refractionRatio","combine","envMapIntensity","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","_data","srcPlanes","dstPlanes","_colorKeywords","_hslA","_hslB","hue2rgb","SRGBToLinear","LinearToSRGB","Color","setRGB","setHex","setStyle","hex","setHSL","style","handleAlpha","string","parseFloat","exec","components","parseInt","setColorName","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","copyLinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHexString","getHSL","hue","saturation","lightness","getStyle","offsetHSL","addColors","color1","color2","lerpColors","lerpHSL","normalized","NAMES","MeshBasicMaterial","_Material","isMeshBasicMaterial","_vector$3","_vector2$1","BufferAttribute","itemSize","usage","updateRange","isBufferAttribute","onUploadCallback","setUsage","copyAt","index1","index2","copyArray","copyColorsArray","colors","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXY","setXYZ","setXYZW","onUpload","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float16BufferAttribute","isFloat16BufferAttribute","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","arrayMax","TYPED_ARRAYS","getTypedArray","buffer","_id","_m1$2","_obj","_offset","_box$2","_boxMorphTargets","_vector$4","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","groups","boundingSphere","drawRange","isBufferGeometry","getIndex","setIndex","getAttribute","setAttribute","deleteAttribute","hasAttribute","addGroup","materialIndex","clearGroups","setDrawRange","needsUpdate","tangent","computeBoundingSphere","morphAttributesPosition","isGLBufferAttribute","morphAttribute","_il","_il2","_morphAttribute","jl","computeFaceNormals","computeTangents","indices","positions","normals","uvs","nVertices","tangents","tan1","tan2","vA","vB","vC","uvA","uvB","uvC","sdir","tdir","handleTriangle","isFinite","group","tmp2","n2","handleVertex","_i4","_il3","_group","_start","_count","_j","_jl","computeVertexNormals","positionAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","_i5","_il4","_i6","_il5","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","array2","geometry2","newAttribute","_name","morphArray","_attribute","_newAttribute","_i7","_key","attributeData","hasMorphAttributes","_key2","attributeArray","_attribute2","_attributeData","_name2","_i8","_inverseMatrix","_ray","_sphere","_vA","_vB","_vC","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA","_uvB","_uvC","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersection","morphPosition","groupMaterial","checkBufferGeometryIntersection","faceIndex","face","_end","_a","_b","_c","_groupMaterial","_start2","_end2","_a2","_b2","_c2","_start3","_end3","_a3","_b3","_c3","isGeometry","checkIntersection","morphInfluences","influence","boneTransform","BoxGeometry","_BufferGeometry","widthSegments","heightSegments","depthSegments","scope","vertices","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","_iy","_ix","cloneUniforms","property","mergeUniforms","uniforms","merged","UniformsUtils","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","isShaderMaterial","uniform","Camera","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","enabled","offsetX","offsetY","clearViewOffset","skew","CubeCamera","_Object3D","renderTarget","isWebGLCubeRenderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderer","scene","_this$children","currentXrEnabled","xr","currentRenderTarget","getRenderTarget","setRenderTarget","render","CubeTexture","_Texture","_needsFlipEnvMap","isCubeTexture","WebGLCubeRenderTarget","dummy","isInteger","fromEquirectangularTexture","shader","tEquirect","mesh","currentMinFilter","stencil","DataTexture","_sphere$1","_vector$5","Frustum","p4","p5","planes","frustum","setFromProjectionMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","intersectsSprite","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","isInterleavedBufferAttribute","deleteBuffer","delete","cached","elementSize","PlaneGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmissionmap_fragment","transmissionmap_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","background","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","transmission","transmissionMap","WebGLBackground","cubemaps","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","isScene","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","toneMapping","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBindingStates","maxVertexAttributes","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","setup","program","updateBuffers","getBindingState","bindVertexArrayObject","saveCache","setupVertexAttributes","createVertexArrayObject","createVertexArray","createVertexArrayOES","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","programMap","stateMap","newAttributes","enabledAttributes","attributeDivisors","cachedAttributes","geometryAttributes","attributesNum","cachedAttribute","geometryAttribute","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","_extension","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","stride","vertexAttribIPointer","isInstancedBufferGeometry","programAttributes","getAttributes","materialDefaultAttributeValues","programAttribute","isInstancedInterleavedBuffer","_maxInstanceCount","isInstancedBufferAttribute","_buffer","_type","instanceColor","_buffer2","_type2","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","resetDefaultState","WebGLBufferRenderer","mode","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","has","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","useCache","materialProperties","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLCubeMaps","mapTextureMapping","cubemap","onTextureDispose","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","memory","updateWireframeAttribute","geometryIndex","geometryPosition","_array","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","numericalSort","absNumericalSort","WebGLMorphtargets","influencesList","workInfluences","objectInfluences","influences","sort","MAX_SAFE_INTEGER","morphInfluencesSum","_influence","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateMap","buffergeometry","onInstancedMeshDispose","instancedMesh","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueT1","unit","uniform1i","safeSetTexture2D","setValueT2DArray1","setTexture2DArray","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueV1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","getSingularSetter","setValueV1fArray","uniform1fv","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueT1Array","units","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","updateCache","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","path","pathLength","lastIndex","match","matchEnd","idIsIndex","subscript","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","addLineNumbers","split","join","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","trim","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","WebGLProgram","cacheKey","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","versionString","isRawShaderMaterial","shaderName","instancing","instancingColor","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","vertexUvs","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","outputEncoding","depthPacking","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","cachedUniforms","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getMaxBones","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","getParameters","shadows","environment","isMeshStandardMaterial","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","WebGLRenderLists","lists","renderCallDepth","list","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","_uniforms","penumbra","_shadow","_shadowUniforms","isRectAreaLight","_uniforms2","isPointLight","_uniforms3","_shadow2","_shadowUniforms2","isHemisphereLight","_uniforms4","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","setupView","_uniforms5","_uniforms6","_uniforms7","_uniforms8","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","setupLightsView","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_renderer","_objects","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizontal","HORIZONTAL_PASS","fullScreenTri","fullScreenMesh","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","mapPass","_pars","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","VSMPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","k","kl","depthMaterial","_depthMaterial","WebGLState","_equationToGL","_factorToGL","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","enabledCapabilities","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","texImage3D","WebGLTextures","_gl","utils","_wrappingToGL","_filterToGL","_videoTextures","useOffscreenCanvas","OffscreenCanvas","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","log2","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","uploadTexture","setTextureCube","uploadCubeTexture","wrappingToGL","filterToGL","setTextureParameters","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","initTexture","pixelStorei","convert","glInternalFormat","mipmap","isDepthTexture","isCompressedTexture","isCompressed","cubeImage","_mipmap","mipmapImage","_j2","_mipmap2","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","_samples","_glInternalFormat","_samples2","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","isRenderTarget3D","createFramebuffer","glTextureType","isTexture3D","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","cameras","isArrayCamera","Group","isGroup","WebXRController","_targetRay","_grip","_hand","getHandSpace","joints","inputState","pinching","getTargetRaySpace","getGripSpace","disconnect","inputSource","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","hand","visibilityState","_iterator","_step","inputjoint","jointPose","getJointPose","jointName","_joint","joint","transform","jointRadius","indexTip","thumbTip","distanceToPinch","threshold","handedness","getPose","targetRaySpace","gripSpace","WebXRManager","framebufferScaleFactor","referenceSpaceType","pose","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","isPresenting","getController","controller","getControllerGrip","getHand","onSessionEvent","onSessionEnd","setFramebuffer","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","_ref","_callee","layerInit","baseLayer","_callee$","_context","onInputSourcesChange","getContextAttributes","xrCompatible","makeXRCompatible","antialias","XRWebGLLayer","updateRenderState","requestReferenceSpace","inputSources","removed","added","_inputSource","_controller","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","updateCamera","getCamera","depthNear","depthFar","onAnimationFrameCallback","getViewerPose","views","cameraVRNeedsUpdate","WebGLMaterials","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","refreshUniformsCommon","isMeshLambertMaterial","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","uvScaleMap","uv2ScaleMap","createCanvasElement","display","WebGLRenderer","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","renderListStack","renderStateStack","domElement","sortObjects","toneMappingExposure","_isContextLost","_framebuffer","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","isWebGL1Renderer","shift","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","setTransparentSort","bits","preventDefault","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","programInfo","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","positionArray","normalArray","uvArray","colorArray","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","compile","compiled","material2","initMaterial","window","projectObject","opaqueObjects","transparentObjects","renderObjects","isLOD","isImmediateRenderObject","_geometry","_material","camera2","lightsStateVersion","programCacheKey","programChange","needsLights","materialNeedsLights","progUniforms","uniformsList","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","_textureProperties","layer","framebufferTextureLayer","readRenderTargetPixels","activeCubeFaceIndex","restore","textureFormat","halfFloatSupportedByExt","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","compressedTexSubImage2D","copyTextureToTexture3D","sourceBox","_srcTexture$image","glTarget","unpackRowLen","unpackImageHeight","unpackSkipPixels","unpackSkipRows","unpackSkipImages","texSubImage3D","resetState","__THREE_DEVTOOLS__","CustomEvent","detail","WebGL1Renderer","_WebGLRenderer","FogExp2","Fog","Scene","InterleavedBuffer","isInterleavedBuffer","arrayBuffers","_uuid","ib","_vector$6","InterleavedBufferAttribute","interleavedBuffer","interleavedBuffers","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA$1","_vB$1","_vC$1","_uvA$1","_uvB$1","_uvC$1","Sprite","float32Array","transformVertex","vertexPosition","mvPosition","_v1$4","_v2$2","LOD","_currentLevel","levels","addLevel","getCurrentLevel","getObjectForDistance","_basePosition","_skinIndex","_skinWeight","_vector$7","_matrix$1","SkinnedMesh","bindMatrixInverse","calculateInverses","normalizeSkinWeights","skinWeight","skinIndex","weight","boneIndex","boneInverses","Bone","isBone","_offsetMatrix","_identityMatrix","Skeleton","inverse","bone","_bone","getBoneByName","fromJSON","json","boneInverse","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","getColorAt","getMatrixAt","raycastTimes","instanceId","setColorAt","setMatrixAt","linecap","linejoin","_inverseMatrix$1","_ray$1","_sphere$2","Line","computeLineDistances","lineDistances","params","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","_distSq","_distance","_start$1","_end$1","LineSegments","LineLoop","_Line","_inverseMatrix$2","_ray$2","_sphere$3","_position$1","Points","testPoint","rayPointDistanceSq","intersectPoint","distanceToRay","VideoTexture","video","updateVideo","requestVideoFrameCallback","hasVideoFrameCallback","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","CircleGeometry","segments","thetaStart","thetaLength","vertex","segment","CylinderGeometry","radiusTop","radiusBottom","radialSegments","openEnded","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","_x2","_x3","ConeGeometry","_CylinderGeometry","PolyhedronGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","azi","correctUV","DodecahedronGeometry","_PolyhedronGeometry","_v0$2","_v1$5","_normal$1","_triangle","EdgesGeometry","thresholdAngle","precisionPoints","thresholdDot","indexAttr","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","jNext","vecHash0","vecHash1","reverseHash","index0","_edgeData$key","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","invSize","eliminateHoles","earcutLinked","clockwise","last","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sectorContainsSector","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","px","py","intersectsPolygon","middleInside","q1","q2","o1","o2","o3","o4","onSegment","num","inside","Node","an","bp","sum","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","faces","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","computeFrenetFrames","shapePoints","extractPoints","hl","ahole","_h","_hl","_ahole","concat","scalePt2","pt","vec","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","_h2","_hl2","_ahole2","_k","_bs","vert","_h3","_hl3","_ahole3","_vert","bs","_vert2","binormals","_vert3","_t","_bs2","_vert4","_h4","_hl4","_ahole4","_vert5","buildLidFaces","buildSideFaces","_i9","f3","_i10","_face","_i11","_face2","_i12","_face3","layeroffset","sidewalls","_h5","_hl5","_ahole5","_k2","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","_toJSON","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","IcosahedronGeometry","LatheGeometry","phiStart","phiLength","inverseSegments","base","n1","_base","OctahedronGeometry","ParametricGeometry","func","slices","stacks","pu","pv","sliceCount","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","radiusStep","thetaSegmentLevel","_segment","ShapeGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","_shapeHole","_l2","_l3","_toJSON$1","SphereGeometry","thetaEnd","grid","verticesRow","uOffset","TetrahedronGeometry","TextGeometry","_ExtrudeGeometry","text","font","isFont","generateShapes","TorusGeometry","tube","tubularSegments","arc","TorusKnotGeometry","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","cs","TubeGeometry","closed","frames","P","generateBufferData","generateSegment","generateIndices","getPointAt","WireframeGeometry","edge","edges","ol","edge1","edge2","Geometries","freeze","BoxBufferGeometry","CircleBufferGeometry","ConeBufferGeometry","CylinderBufferGeometry","DodecahedronBufferGeometry","ExtrudeBufferGeometry","IcosahedronBufferGeometry","LatheBufferGeometry","OctahedronBufferGeometry","ParametricBufferGeometry","PlaneBufferGeometry","PolyhedronBufferGeometry","RingBufferGeometry","ShapeBufferGeometry","SphereBufferGeometry","TetrahedronBufferGeometry","TextBufferGeometry","TorusBufferGeometry","TorusKnotBufferGeometry","TubeBufferGeometry","RawShaderMaterial","_ShaderMaterial","ior","_LineBasicMaterial","Materials","AnimationUtils","arraySlice","to","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","_loop","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","referenceOffset","referenceValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetOffset","targetValueSize","referenceValue","startIndex","endIndex","_startIndex","_endIndex","interpolant","_startIndex2","_endIndex2","evaluate","resultBuffer","referenceQuat","numTimes","valueStart","valueEnd","_ret","blendMode","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","_giveUpAt","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","trackType","getInterpolation","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","timeOffset","timeScale","startTime","endTime","nKeys","validate","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","_readOffset","_writeOffset","TypedKeyframeTrack","BooleanKeyframeTrack","_KeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","jsonTracks","frameTime","parseKeyframeTrack","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","morphTarget","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","_m","animationKey","boneName","getTrackTypeForValueTypeName","typeName","toLowerCase","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","DefaultLoadingManager","Loader","manager","crossOrigin","withCredentials","resourcePath","requestHeader","load","loadAsync","setCrossOrigin","setWithCredentials","setPath","setResourcePath","setRequestHeader","loading","FileLoader","setTimeout","dataUriRegex","dataUriRegexResult","request","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","XMLHttpRequest","open","callbacks","_callback","overrideMimeType","header","send","setResponseType","setMimeType","AnimationLoader","_Loader","CompressedTextureLoader","loaded","loadTexture","texDatas","mipmapCount","isCubemap","ImageLoader","onImageLoad","onImageError","substr","CubeTextureLoader","urls","DataTextureLoader","texData","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","t2","pt1","pt2","getTangentAt","mat","MAX_VALUE","tz","_theta","EllipseCurve","_Curve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","twoPi","deltaAngle","samePoints","isEllipseCurve","ArcCurve","_EllipseCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","pz","CatmullRomCurve3","curveType","intPoint","isCatmullRomCurve3","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","diff","lens","cacheLengths","sums","Path","_CurvePath","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","Shape","_Path","getPointsHoles","holesPts","Light","HemisphereLight","_Light","_lightPositionWorld","_lookTarget","LightShadow","_frameExtents","_viewportCount","_viewports","shadowMatrix","viewportIndex","SpotLightShadow","_LightShadow","isSpotLightShadow","SpotLight","power","_projScreenMatrix$1","_lightPositionWorld$1","_lookTarget$1","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","_Camera","scaleW","scaleH","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","zero","getAt","coeff","getIrradianceAt","addScaledSH","getBasisAt","shBasis","isSphericalHarmonics3","LightProbe","MaterialLoader","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","lastIndexOf","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","getArrayBuffer","arrayBuffer","typedArray","bufferAttribute","_typedArray","bufferAttributeConstr","_bufferAttribute","_interleavedBuffer","_typedArray2","drawcalls","offsets","ObjectLoader","parseAnimations","parseShapes","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseSkeletons","bindSkeletons","hasImages","geometryShapes","bufferGeometryLoader","details","_shape","loadImage","deserializeImage","currentUrl","deserializedImage","_deserializedImage","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","objectAnimations","setTexturePath","ImageBitmapLoader","createImageBitmap","fetch","isImageBitmapLoader","setOptions","fetchOptions","credentials","headers","res","blob","colorSpaceConversion","imageBitmap","catch","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","_tmpPath","_tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","tmpPath","tmpShape","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","_sIdx","_sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","paths","createPaths","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","familyName","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","substring","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","_LightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","now","getElapsedTime","getDelta","newTime","performance","Date","_position$2","_quaternion$3","_scale$1","_orientation","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","getInput","removeFilter","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","Audio","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","filters","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setMediaStreamSource","mediaStream","createMediaStreamSource","setBuffer","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","pause","getFilters","setFilters","getDetune","getPlaybackRate","getLoop","setLoop","setLoopStart","setLoopEnd","getVolume","setVolume","_position$3","_quaternion$4","_scale$2","_orientation$1","PositionalAudio","_Audio","panner","createPanner","panningModel","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","PropertyMixer","binding","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","accumulateAdditive","weightAdditive","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","root","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","getValue_direct","getValue_array","resolvedProperty","getValue_arrayElement","getValue_toArray","SetterByBindingTypeAndVersioning","setValue_direct","targetObject","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","getValue_unbound","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","inUse","bindingsPerObject","indicesByUUID","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","_lastIndex","_lastObject","_m2","_bindingsForPath","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","setTime","timeInSeconds","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedInterleavedBuffer","GLBufferAttribute","setType","setItemSize","setCount","Raycaster","PointCloud","ascSort","_intersectObject","setFromCamera","coords","intersectObject","intersectObjects","Spherical","other","makeSafe","setFromCartesianCoords","Cylindrical","_vector$8","Box2","isBox2","_startP","_startEnd","Line3","distanceSq","closestPointToPointParameter","clampToLine","startEnd2","startEnd_startP","ImmediateRenderObject","_vector$9","SpotLightHelper","cone","coneLength","coneWidth","_vector$a","_boneMatrix","_matrixWorldInv","SkeletonHelper","_LineSegments","getBoneList","isSkeletonHelper","boneList","PointLightHelper","_Mesh","sphereSize","_vector$b","_color1","_color2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","_color","_v","_v1$6","_v2$3","_v3$1","DirectionalLightHelper","lightPlane","targetLine","_vector$c","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box$3","BoxHelper","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setColor","AxesHelper","_floatView","_int32View","DataUtils","toHalfFloat","val","_ENCODINGS","LOD_MIN","LOD_MAX","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","MAX_SAMPLES","ENCODINGS","backgroundMaterial","backgroundBox","_flatCamera","_createPlanes2","_createPlanes","_lodPlanes","_sizeLods","_sigmas","_clearColor","_oldTarget","PHI","INV_PHI","_axisDirections","convertLinearToRGBE","maxComponent","fExp","PMREMGenerator","_pingPongRenderTarget","_blurMaterial","_getBlurShader","_equirectShader","_cubemapShader","_compileMaterial","fromScene","sigma","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","fromEquirectangular","equirectangular","_fromTexture","fromCubemap","compileCubemapShader","_getCubemapShader","compileEquirectangularShader","_getEquirectShader","outputTarget","_setViewport","_textureToCubeUV","_isLDR","_createRenderTarget","tmpMesh","cubeCamera","upSign","forwardSign","originalAutoClear","useSolidColor","col","poleAxis","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","STANDARD_DEVIATIONS","blurMesh","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","outputSize","lod","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","shaderMaterial","_getCommonVertexShader","_getEncodings","LineStrip","LinePieces","NoColors","FaceColors","VertexColors","MeshFaceMaterial","MultiMaterial","isMultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","fromPoints","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","Handlers","XHRLoader","BinaryTextureLoader","empty","isIntersectionBox","isIntersectionSphere","setFromMatrix","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","getInverse","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","barycoordFromPoint","midpoint","prototypenormal","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","getChildByName","renderDepth","getWorldRotation","applyMatrix","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","computeOffsets","removeAttribute","maxInstancedCount","linePrecision","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","transparency","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","toneMappingWhitePoint","renderReverseSided","renderSingleSided","WebGLRenderTargetCube","audioLoader","getData","updateCubeMap","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","LensFlare","revision","__THREE__"],"mappings":"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","file":"three.bf944244.js","sourceRoot":"..","sourcesContent":["// threejs.org/license\n(function(global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n        typeof define === 'function' && define.amd ? define(['exports'], factory) :\n        (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global.THREE = {}));\n}(this, (function(exports) {\n    'use strict';\n\n    /**\n     * Copyright (c) 2014-present, Facebook, Inc.\n     *\n     * This source code is licensed under the MIT license found in the\n     * LICENSE file in the root directory of this source tree.\n     */\n    var runtime = function(exports) {\n\n        var Op = Object.prototype;\n        var hasOwn = Op.hasOwnProperty;\n        var undefined$1; // More compressible than void 0.\n\n        var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n        var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n        var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n        var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n        function define(obj, key, value) {\n            Object.defineProperty(obj, key, {\n                value: value,\n                enumerable: true,\n                configurable: true,\n                writable: true\n            });\n            return obj[key];\n        }\n\n        try {\n            // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n            define({}, \"\");\n        } catch (err) {\n            define = function define(obj, key, value) {\n                return obj[key] = value;\n            };\n        }\n\n        function wrap(innerFn, outerFn, self, tryLocsList) {\n            // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n            var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n            var generator = Object.create(protoGenerator.prototype);\n            var context = new Context(tryLocsList || []); // The ._invoke method unifies the implementations of the .next,\n            // .throw, and .return methods.\n\n            generator._invoke = makeInvokeMethod(innerFn, self, context);\n            return generator;\n        }\n\n        exports.wrap = wrap; // Try/catch helper to minimize deoptimizations. Returns a completion\n        // record like context.tryEntries[i].completion. This interface could\n        // have been (and was previously) designed to take a closure to be\n        // invoked without arguments, but in all the cases we care about we\n        // already have an existing method we want to call, so there's no need\n        // to create a new function object. We can even get away with assuming\n        // the method takes exactly one argument, since that happens to be true\n        // in every case, so we don't have to touch the arguments object. The\n        // only additional allocation required is the completion record, which\n        // has a stable shape and so hopefully should be cheap to allocate.\n\n        function tryCatch(fn, obj, arg) {\n            try {\n                return {\n                    type: \"normal\",\n                    arg: fn.call(obj, arg)\n                };\n            } catch (err) {\n                return {\n                    type: \"throw\",\n                    arg: err\n                };\n            }\n        }\n\n        var GenStateSuspendedStart = \"suspendedStart\";\n        var GenStateSuspendedYield = \"suspendedYield\";\n        var GenStateExecuting = \"executing\";\n        var GenStateCompleted = \"completed\"; // Returning this object from the innerFn has the same effect as\n        // breaking out of the dispatch switch statement.\n\n        var ContinueSentinel = {}; // Dummy constructor functions that we use as the .constructor and\n        // .constructor.prototype properties for functions that return Generator\n        // objects. For full spec compliance, you may wish to configure your\n        // minifier not to mangle the names of these two functions.\n\n        function Generator() {}\n\n        function GeneratorFunction() {}\n\n        function GeneratorFunctionPrototype() {} // This is a polyfill for %IteratorPrototype% for environments that\n        // don't natively support it.\n\n\n        var IteratorPrototype = {};\n\n        IteratorPrototype[iteratorSymbol] = function() {\n            return this;\n        };\n\n        var getProto = Object.getPrototypeOf;\n        var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n\n        if (NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n            // This environment has a native %IteratorPrototype%; use it instead\n            // of the polyfill.\n            IteratorPrototype = NativeIteratorPrototype;\n        }\n\n        var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n        GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n        GeneratorFunctionPrototype.constructor = GeneratorFunction;\n        GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"); // Helper for defining the .next, .throw, and .return methods of the\n        // Iterator interface in terms of a single ._invoke method.\n\n        function defineIteratorMethods(prototype) {\n            [\"next\", \"throw\", \"return\"].forEach(function(method) {\n                define(prototype, method, function(arg) {\n                    return this._invoke(method, arg);\n                });\n            });\n        }\n\n        exports.isGeneratorFunction = function(genFun) {\n            var ctor = typeof genFun === \"function\" && genFun.constructor;\n            return ctor ? ctor === GeneratorFunction || // For the native GeneratorFunction constructor, the best we can\n                // do is to check its .name property.\n                (ctor.displayName || ctor.name) === \"GeneratorFunction\" : false;\n        };\n\n        exports.mark = function(genFun) {\n            if (Object.setPrototypeOf) {\n                Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n            } else {\n                genFun.__proto__ = GeneratorFunctionPrototype;\n                define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n            }\n\n            genFun.prototype = Object.create(Gp);\n            return genFun;\n        }; // Within the body of any async function, `await x` is transformed to\n        // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n        // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n        // meant to be awaited.\n\n\n        exports.awrap = function(arg) {\n            return {\n                __await: arg\n            };\n        };\n\n        function AsyncIterator(generator, PromiseImpl) {\n            function invoke(method, arg, resolve, reject) {\n                var record = tryCatch(generator[method], generator, arg);\n\n                if (record.type === \"throw\") {\n                    reject(record.arg);\n                } else {\n                    var result = record.arg;\n                    var value = result.value;\n\n                    if (value && typeof value === \"object\" && hasOwn.call(value, \"__await\")) {\n                        return PromiseImpl.resolve(value.__await).then(function(value) {\n                            invoke(\"next\", value, resolve, reject);\n                        }, function(err) {\n                            invoke(\"throw\", err, resolve, reject);\n                        });\n                    }\n\n                    return PromiseImpl.resolve(value).then(function(unwrapped) {\n                        // When a yielded Promise is resolved, its final value becomes\n                        // the .value of the Promise<{value,done}> result for the\n                        // current iteration.\n                        result.value = unwrapped;\n                        resolve(result);\n                    }, function(error) {\n                        // If a rejected Promise was yielded, throw the rejection back\n                        // into the async generator function so it can be handled there.\n                        return invoke(\"throw\", error, resolve, reject);\n                    });\n                }\n            }\n\n            var previousPromise;\n\n            function enqueue(method, arg) {\n                function callInvokeWithMethodAndArg() {\n                    return new PromiseImpl(function(resolve, reject) {\n                        invoke(method, arg, resolve, reject);\n                    });\n                }\n\n                return previousPromise = // If enqueue has been called before, then we want to wait until\n                    // all previous Promises have been resolved before calling invoke,\n                    // so that results are always delivered in the correct order. If\n                    // enqueue has not been called before, then it is important to\n                    // call invoke immediately, without waiting on a callback to fire,\n                    // so that the async generator function has the opportunity to do\n                    // any necessary setup in a predictable way. This predictability\n                    // is why the Promise constructor synchronously invokes its\n                    // executor callback, and why async functions synchronously\n                    // execute code before the first await. Since we implement simple\n                    // async functions in terms of async generators, it is especially\n                    // important to get this right, even though it requires care.\n                    previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, // Avoid propagating failures to Promises returned by later\n                        // invocations of the iterator.\n                        callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n            } // Define the unified helper method that is used to implement .next,\n            // .throw, and .return (see defineIteratorMethods).\n\n\n            this._invoke = enqueue;\n        }\n\n        defineIteratorMethods(AsyncIterator.prototype);\n\n        AsyncIterator.prototype[asyncIteratorSymbol] = function() {\n            return this;\n        };\n\n        exports.AsyncIterator = AsyncIterator; // Note that simple async functions are implemented on top of\n        // AsyncIterator objects; they just return a Promise for the value of\n        // the final result produced by the iterator.\n\n        exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n            if (PromiseImpl === void 0) PromiseImpl = Promise;\n            var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n            return exports.isGeneratorFunction(outerFn) ? iter // If outerFn is a generator, return the full iterator.\n                :\n                iter.next().then(function(result) {\n                    return result.done ? result.value : iter.next();\n                });\n        };\n\n        function makeInvokeMethod(innerFn, self, context) {\n            var state = GenStateSuspendedStart;\n            return function invoke(method, arg) {\n                if (state === GenStateExecuting) {\n                    throw new Error(\"Generator is already running\");\n                }\n\n                if (state === GenStateCompleted) {\n                    if (method === \"throw\") {\n                        throw arg;\n                    } // Be forgiving, per 25.3.3.3.3 of the spec:\n                    // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n\n\n                    return doneResult();\n                }\n\n                context.method = method;\n                context.arg = arg;\n\n                while (true) {\n                    var delegate = context.delegate;\n\n                    if (delegate) {\n                        var delegateResult = maybeInvokeDelegate(delegate, context);\n\n                        if (delegateResult) {\n                            if (delegateResult === ContinueSentinel) continue;\n                            return delegateResult;\n                        }\n                    }\n\n                    if (context.method === \"next\") {\n                        // Setting context._sent for legacy support of Babel's\n                        // function.sent implementation.\n                        context.sent = context._sent = context.arg;\n                    } else if (context.method === \"throw\") {\n                        if (state === GenStateSuspendedStart) {\n                            state = GenStateCompleted;\n                            throw context.arg;\n                        }\n\n                        context.dispatchException(context.arg);\n                    } else if (context.method === \"return\") {\n                        context.abrupt(\"return\", context.arg);\n                    }\n\n                    state = GenStateExecuting;\n                    var record = tryCatch(innerFn, self, context);\n\n                    if (record.type === \"normal\") {\n                        // If an exception is thrown from innerFn, we leave state ===\n                        // GenStateExecuting and loop back for another invocation.\n                        state = context.done ? GenStateCompleted : GenStateSuspendedYield;\n\n                        if (record.arg === ContinueSentinel) {\n                            continue;\n                        }\n\n                        return {\n                            value: record.arg,\n                            done: context.done\n                        };\n                    } else if (record.type === \"throw\") {\n                        state = GenStateCompleted; // Dispatch the exception by looping back around to the\n                        // context.dispatchException(context.arg) call above.\n\n                        context.method = \"throw\";\n                        context.arg = record.arg;\n                    }\n                }\n            };\n        } // Call delegate.iterator[context.method](context.arg) and handle the\n        // result, either by returning a { value, done } result from the\n        // delegate iterator, or by modifying context.method and context.arg,\n        // setting context.delegate to null, and returning the ContinueSentinel.\n\n\n        function maybeInvokeDelegate(delegate, context) {\n            var method = delegate.iterator[context.method];\n\n            if (method === undefined$1) {\n                // A .throw or .return when the delegate iterator has no .throw\n                // method always terminates the yield* loop.\n                context.delegate = null;\n\n                if (context.method === \"throw\") {\n                    // Note: [\"return\"] must be used for ES3 parsing compatibility.\n                    if (delegate.iterator[\"return\"]) {\n                        // If the delegate iterator has a return method, give it a\n                        // chance to clean up.\n                        context.method = \"return\";\n                        context.arg = undefined$1;\n                        maybeInvokeDelegate(delegate, context);\n\n                        if (context.method === \"throw\") {\n                            // If maybeInvokeDelegate(context) changed context.method from\n                            // \"return\" to \"throw\", let that override the TypeError below.\n                            return ContinueSentinel;\n                        }\n                    }\n\n                    context.method = \"throw\";\n                    context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n                }\n\n                return ContinueSentinel;\n            }\n\n            var record = tryCatch(method, delegate.iterator, context.arg);\n\n            if (record.type === \"throw\") {\n                context.method = \"throw\";\n                context.arg = record.arg;\n                context.delegate = null;\n                return ContinueSentinel;\n            }\n\n            var info = record.arg;\n\n            if (!info) {\n                context.method = \"throw\";\n                context.arg = new TypeError(\"iterator result is not an object\");\n                context.delegate = null;\n                return ContinueSentinel;\n            }\n\n            if (info.done) {\n                // Assign the result of the finished delegate to the temporary\n                // variable specified by delegate.resultName (see delegateYield).\n                context[delegate.resultName] = info.value; // Resume execution at the desired location (see delegateYield).\n\n                context.next = delegate.nextLoc; // If context.method was \"throw\" but the delegate handled the\n                // exception, let the outer generator proceed normally. If\n                // context.method was \"next\", forget context.arg since it has been\n                // \"consumed\" by the delegate iterator. If context.method was\n                // \"return\", allow the original .return call to continue in the\n                // outer generator.\n\n                if (context.method !== \"return\") {\n                    context.method = \"next\";\n                    context.arg = undefined$1;\n                }\n            } else {\n                // Re-yield the result returned by the delegate method.\n                return info;\n            } // The delegate iterator is finished, so forget it and continue with\n            // the outer generator.\n\n\n            context.delegate = null;\n            return ContinueSentinel;\n        } // Define Generator.prototype.{next,throw,return} in terms of the\n        // unified ._invoke helper method.\n\n\n        defineIteratorMethods(Gp);\n        define(Gp, toStringTagSymbol, \"Generator\"); // A Generator should always return itself as the iterator object when the\n        // @@iterator function is called on it. Some browsers' implementations of the\n        // iterator prototype chain incorrectly implement this, causing the Generator\n        // object to not be returned from this call. This ensures that doesn't happen.\n        // See https://github.com/facebook/regenerator/issues/274 for more details.\n\n        Gp[iteratorSymbol] = function() {\n            return this;\n        };\n\n        Gp.toString = function() {\n            return \"[object Generator]\";\n        };\n\n        function pushTryEntry(locs) {\n            var entry = {\n                tryLoc: locs[0]\n            };\n\n            if (1 in locs) {\n                entry.catchLoc = locs[1];\n            }\n\n            if (2 in locs) {\n                entry.finallyLoc = locs[2];\n                entry.afterLoc = locs[3];\n            }\n\n            this.tryEntries.push(entry);\n        }\n\n        function resetTryEntry(entry) {\n            var record = entry.completion || {};\n            record.type = \"normal\";\n            delete record.arg;\n            entry.completion = record;\n        }\n\n        function Context(tryLocsList) {\n            // The root entry object (effectively a try statement without a catch\n            // or a finally block) gives us a place to store values thrown from\n            // locations where there is no enclosing try statement.\n            this.tryEntries = [{\n                tryLoc: \"root\"\n            }];\n            tryLocsList.forEach(pushTryEntry, this);\n            this.reset(true);\n        }\n\n        exports.keys = function(object) {\n            var keys = [];\n\n            for (var key in object) {\n                keys.push(key);\n            }\n\n            keys.reverse(); // Rather than returning an object with a next method, we keep\n            // things simple and return the next function itself.\n\n            return function next() {\n                while (keys.length) {\n                    var key = keys.pop();\n\n                    if (key in object) {\n                        next.value = key;\n                        next.done = false;\n                        return next;\n                    }\n                } // To avoid creating an additional object, we just hang the .value\n                // and .done properties off the next function object itself. This\n                // also ensures that the minifier will not anonymize the function.\n\n\n                next.done = true;\n                return next;\n            };\n        };\n\n        function values(iterable) {\n            if (iterable) {\n                var iteratorMethod = iterable[iteratorSymbol];\n\n                if (iteratorMethod) {\n                    return iteratorMethod.call(iterable);\n                }\n\n                if (typeof iterable.next === \"function\") {\n                    return iterable;\n                }\n\n                if (!isNaN(iterable.length)) {\n                    var i = -1,\n                        next = function next() {\n                            while (++i < iterable.length) {\n                                if (hasOwn.call(iterable, i)) {\n                                    next.value = iterable[i];\n                                    next.done = false;\n                                    return next;\n                                }\n                            }\n\n                            next.value = undefined$1;\n                            next.done = true;\n                            return next;\n                        };\n\n                    return next.next = next;\n                }\n            } // Return an iterator with no values.\n\n\n            return {\n                next: doneResult\n            };\n        }\n\n        exports.values = values;\n\n        function doneResult() {\n            return {\n                value: undefined$1,\n                done: true\n            };\n        }\n\n        Context.prototype = {\n            constructor: Context,\n            reset: function reset(skipTempReset) {\n                this.prev = 0;\n                this.next = 0; // Resetting context._sent for legacy support of Babel's\n                // function.sent implementation.\n\n                this.sent = this._sent = undefined$1;\n                this.done = false;\n                this.delegate = null;\n                this.method = \"next\";\n                this.arg = undefined$1;\n                this.tryEntries.forEach(resetTryEntry);\n\n                if (!skipTempReset) {\n                    for (var name in this) {\n                        // Not sure about the optimal order of these conditions:\n                        if (name.charAt(0) === \"t\" && hasOwn.call(this, name) && !isNaN(+name.slice(1))) {\n                            this[name] = undefined$1;\n                        }\n                    }\n                }\n            },\n            stop: function stop() {\n                this.done = true;\n                var rootEntry = this.tryEntries[0];\n                var rootRecord = rootEntry.completion;\n\n                if (rootRecord.type === \"throw\") {\n                    throw rootRecord.arg;\n                }\n\n                return this.rval;\n            },\n            dispatchException: function dispatchException(exception) {\n                if (this.done) {\n                    throw exception;\n                }\n\n                var context = this;\n\n                function handle(loc, caught) {\n                    record.type = \"throw\";\n                    record.arg = exception;\n                    context.next = loc;\n\n                    if (caught) {\n                        // If the dispatched exception was caught by a catch block,\n                        // then let that catch block handle the exception normally.\n                        context.method = \"next\";\n                        context.arg = undefined$1;\n                    }\n\n                    return !!caught;\n                }\n\n                for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n                    var entry = this.tryEntries[i];\n                    var record = entry.completion;\n\n                    if (entry.tryLoc === \"root\") {\n                        // Exception thrown outside of any try block that could handle\n                        // it, so set the completion value of the entire function to\n                        // throw the exception.\n                        return handle(\"end\");\n                    }\n\n                    if (entry.tryLoc <= this.prev) {\n                        var hasCatch = hasOwn.call(entry, \"catchLoc\");\n                        var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n                        if (hasCatch && hasFinally) {\n                            if (this.prev < entry.catchLoc) {\n                                return handle(entry.catchLoc, true);\n                            } else if (this.prev < entry.finallyLoc) {\n                                return handle(entry.finallyLoc);\n                            }\n                        } else if (hasCatch) {\n                            if (this.prev < entry.catchLoc) {\n                                return handle(entry.catchLoc, true);\n                            }\n                        } else if (hasFinally) {\n                            if (this.prev < entry.finallyLoc) {\n                                return handle(entry.finallyLoc);\n                            }\n                        } else {\n                            throw new Error(\"try statement without catch or finally\");\n                        }\n                    }\n                }\n            },\n            abrupt: function abrupt(type, arg) {\n                for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n                    var entry = this.tryEntries[i];\n\n                    if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n                        var finallyEntry = entry;\n                        break;\n                    }\n                }\n\n                if (finallyEntry && (type === \"break\" || type === \"continue\") && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc) {\n                    // Ignore the finally entry if control is not jumping to a\n                    // location outside the try/catch block.\n                    finallyEntry = null;\n                }\n\n                var record = finallyEntry ? finallyEntry.completion : {};\n                record.type = type;\n                record.arg = arg;\n\n                if (finallyEntry) {\n                    this.method = \"next\";\n                    this.next = finallyEntry.finallyLoc;\n                    return ContinueSentinel;\n                }\n\n                return this.complete(record);\n            },\n            complete: function complete(record, afterLoc) {\n                if (record.type === \"throw\") {\n                    throw record.arg;\n                }\n\n                if (record.type === \"break\" || record.type === \"continue\") {\n                    this.next = record.arg;\n                } else if (record.type === \"return\") {\n                    this.rval = this.arg = record.arg;\n                    this.method = \"return\";\n                    this.next = \"end\";\n                } else if (record.type === \"normal\" && afterLoc) {\n                    this.next = afterLoc;\n                }\n\n                return ContinueSentinel;\n            },\n            finish: function finish(finallyLoc) {\n                for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n                    var entry = this.tryEntries[i];\n\n                    if (entry.finallyLoc === finallyLoc) {\n                        this.complete(entry.completion, entry.afterLoc);\n                        resetTryEntry(entry);\n                        return ContinueSentinel;\n                    }\n                }\n            },\n            \"catch\": function _catch(tryLoc) {\n                for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n                    var entry = this.tryEntries[i];\n\n                    if (entry.tryLoc === tryLoc) {\n                        var record = entry.completion;\n\n                        if (record.type === \"throw\") {\n                            var thrown = record.arg;\n                            resetTryEntry(entry);\n                        }\n\n                        return thrown;\n                    }\n                } // The context.catch method must only be called with a location\n                // argument that corresponds to a known catch block.\n\n\n                throw new Error(\"illegal catch attempt\");\n            },\n            delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n                this.delegate = {\n                    iterator: values(iterable),\n                    resultName: resultName,\n                    nextLoc: nextLoc\n                };\n\n                if (this.method === \"next\") {\n                    // Deliberately forget the last sent value so that we don't\n                    // accidentally pass it on to the delegate.\n                    this.arg = undefined$1;\n                }\n\n                return ContinueSentinel;\n            }\n        }; // Regardless of whether this script is executing as a CommonJS module\n        // or not, return the runtime object so that we can declare the variable\n        // regeneratorRuntime in the outer scope, which allows this module to be\n        // injected easily by `bin/regenerator --include-runtime script.js`.\n\n        return exports;\n    }( // If this script is executing as a CommonJS module, use module.exports\n        // as the regeneratorRuntime namespace. Otherwise create a new empty\n        // object. Either way, the resulting object will be used to initialize\n        // the regeneratorRuntime variable at the top of this file.\n        typeof module === \"object\" ? module.exports : {});\n\n    try {\n        regeneratorRuntime = runtime;\n    } catch (accidentalStrictMode) {\n        // This module should not be running in strict mode, so the above\n        // assignment should always work unless something is misconfigured. Just\n        // in case runtime.js accidentally runs in strict mode, we can escape\n        // strict mode using a global Function call. This could conceivably fail\n        // if a Content Security Policy forbids using Function, but in that case\n        // the proper solution is to fix the accidental strict mode problem. If\n        // you've misconfigured your bundler to force strict mode and applied a\n        // CSP to forbid Function, and you're not willing to fix either of those\n        // problems, please detail your unique predicament in a GitHub issue.\n        Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n    }\n\n    var REVISION = '126';\n    var MOUSE = {\n        LEFT: 0,\n        MIDDLE: 1,\n        RIGHT: 2,\n        ROTATE: 0,\n        DOLLY: 1,\n        PAN: 2\n    };\n    var TOUCH = {\n        ROTATE: 0,\n        PAN: 1,\n        DOLLY_PAN: 2,\n        DOLLY_ROTATE: 3\n    };\n    var CullFaceNone = 0;\n    var CullFaceBack = 1;\n    var CullFaceFront = 2;\n    var CullFaceFrontBack = 3;\n    var BasicShadowMap = 0;\n    var PCFShadowMap = 1;\n    var PCFSoftShadowMap = 2;\n    var VSMShadowMap = 3;\n    var FrontSide = 0;\n    var BackSide = 1;\n    var DoubleSide = 2;\n    var FlatShading = 1;\n    var SmoothShading = 2;\n    var NoBlending = 0;\n    var NormalBlending = 1;\n    var AdditiveBlending = 2;\n    var SubtractiveBlending = 3;\n    var MultiplyBlending = 4;\n    var CustomBlending = 5;\n    var AddEquation = 100;\n    var SubtractEquation = 101;\n    var ReverseSubtractEquation = 102;\n    var MinEquation = 103;\n    var MaxEquation = 104;\n    var ZeroFactor = 200;\n    var OneFactor = 201;\n    var SrcColorFactor = 202;\n    var OneMinusSrcColorFactor = 203;\n    var SrcAlphaFactor = 204;\n    var OneMinusSrcAlphaFactor = 205;\n    var DstAlphaFactor = 206;\n    var OneMinusDstAlphaFactor = 207;\n    var DstColorFactor = 208;\n    var OneMinusDstColorFactor = 209;\n    var SrcAlphaSaturateFactor = 210;\n    var NeverDepth = 0;\n    var AlwaysDepth = 1;\n    var LessDepth = 2;\n    var LessEqualDepth = 3;\n    var EqualDepth = 4;\n    var GreaterEqualDepth = 5;\n    var GreaterDepth = 6;\n    var NotEqualDepth = 7;\n    var MultiplyOperation = 0;\n    var MixOperation = 1;\n    var AddOperation = 2;\n    var NoToneMapping = 0;\n    var LinearToneMapping = 1;\n    var ReinhardToneMapping = 2;\n    var CineonToneMapping = 3;\n    var ACESFilmicToneMapping = 4;\n    var CustomToneMapping = 5;\n    var UVMapping = 300;\n    var CubeReflectionMapping = 301;\n    var CubeRefractionMapping = 302;\n    var EquirectangularReflectionMapping = 303;\n    var EquirectangularRefractionMapping = 304;\n    var CubeUVReflectionMapping = 306;\n    var CubeUVRefractionMapping = 307;\n    var RepeatWrapping = 1000;\n    var ClampToEdgeWrapping = 1001;\n    var MirroredRepeatWrapping = 1002;\n    var NearestFilter = 1003;\n    var NearestMipmapNearestFilter = 1004;\n    var NearestMipMapNearestFilter = 1004;\n    var NearestMipmapLinearFilter = 1005;\n    var NearestMipMapLinearFilter = 1005;\n    var LinearFilter = 1006;\n    var LinearMipmapNearestFilter = 1007;\n    var LinearMipMapNearestFilter = 1007;\n    var LinearMipmapLinearFilter = 1008;\n    var LinearMipMapLinearFilter = 1008;\n    var UnsignedByteType = 1009;\n    var ByteType = 1010;\n    var ShortType = 1011;\n    var UnsignedShortType = 1012;\n    var IntType = 1013;\n    var UnsignedIntType = 1014;\n    var FloatType = 1015;\n    var HalfFloatType = 1016;\n    var UnsignedShort4444Type = 1017;\n    var UnsignedShort5551Type = 1018;\n    var UnsignedShort565Type = 1019;\n    var UnsignedInt248Type = 1020;\n    var AlphaFormat = 1021;\n    var RGBFormat = 1022;\n    var RGBAFormat = 1023;\n    var LuminanceFormat = 1024;\n    var LuminanceAlphaFormat = 1025;\n    var RGBEFormat = RGBAFormat;\n    var DepthFormat = 1026;\n    var DepthStencilFormat = 1027;\n    var RedFormat = 1028;\n    var RedIntegerFormat = 1029;\n    var RGFormat = 1030;\n    var RGIntegerFormat = 1031;\n    var RGBIntegerFormat = 1032;\n    var RGBAIntegerFormat = 1033;\n    var RGB_S3TC_DXT1_Format = 33776;\n    var RGBA_S3TC_DXT1_Format = 33777;\n    var RGBA_S3TC_DXT3_Format = 33778;\n    var RGBA_S3TC_DXT5_Format = 33779;\n    var RGB_PVRTC_4BPPV1_Format = 35840;\n    var RGB_PVRTC_2BPPV1_Format = 35841;\n    var RGBA_PVRTC_4BPPV1_Format = 35842;\n    var RGBA_PVRTC_2BPPV1_Format = 35843;\n    var RGB_ETC1_Format = 36196;\n    var RGB_ETC2_Format = 37492;\n    var RGBA_ETC2_EAC_Format = 37496;\n    var RGBA_ASTC_4x4_Format = 37808;\n    var RGBA_ASTC_5x4_Format = 37809;\n    var RGBA_ASTC_5x5_Format = 37810;\n    var RGBA_ASTC_6x5_Format = 37811;\n    var RGBA_ASTC_6x6_Format = 37812;\n    var RGBA_ASTC_8x5_Format = 37813;\n    var RGBA_ASTC_8x6_Format = 37814;\n    var RGBA_ASTC_8x8_Format = 37815;\n    var RGBA_ASTC_10x5_Format = 37816;\n    var RGBA_ASTC_10x6_Format = 37817;\n    var RGBA_ASTC_10x8_Format = 37818;\n    var RGBA_ASTC_10x10_Format = 37819;\n    var RGBA_ASTC_12x10_Format = 37820;\n    var RGBA_ASTC_12x12_Format = 37821;\n    var RGBA_BPTC_Format = 36492;\n    var SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\n    var SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\n    var SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\n    var SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\n    var SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\n    var SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\n    var SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\n    var SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\n    var SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\n    var SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\n    var SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\n    var SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\n    var SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\n    var SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\n    var LoopOnce = 2200;\n    var LoopRepeat = 2201;\n    var LoopPingPong = 2202;\n    var InterpolateDiscrete = 2300;\n    var InterpolateLinear = 2301;\n    var InterpolateSmooth = 2302;\n    var ZeroCurvatureEnding = 2400;\n    var ZeroSlopeEnding = 2401;\n    var WrapAroundEnding = 2402;\n    var NormalAnimationBlendMode = 2500;\n    var AdditiveAnimationBlendMode = 2501;\n    var TrianglesDrawMode = 0;\n    var TriangleStripDrawMode = 1;\n    var TriangleFanDrawMode = 2;\n    var LinearEncoding = 3000;\n    var sRGBEncoding = 3001;\n    var GammaEncoding = 3007;\n    var RGBEEncoding = 3002;\n    var LogLuvEncoding = 3003;\n    var RGBM7Encoding = 3004;\n    var RGBM16Encoding = 3005;\n    var RGBDEncoding = 3006;\n    var BasicDepthPacking = 3200;\n    var RGBADepthPacking = 3201;\n    var TangentSpaceNormalMap = 0;\n    var ObjectSpaceNormalMap = 1;\n    var ZeroStencilOp = 0;\n    var KeepStencilOp = 7680;\n    var ReplaceStencilOp = 7681;\n    var IncrementStencilOp = 7682;\n    var DecrementStencilOp = 7683;\n    var IncrementWrapStencilOp = 34055;\n    var DecrementWrapStencilOp = 34056;\n    var InvertStencilOp = 5386;\n    var NeverStencilFunc = 512;\n    var LessStencilFunc = 513;\n    var EqualStencilFunc = 514;\n    var LessEqualStencilFunc = 515;\n    var GreaterStencilFunc = 516;\n    var NotEqualStencilFunc = 517;\n    var GreaterEqualStencilFunc = 518;\n    var AlwaysStencilFunc = 519;\n    var StaticDrawUsage = 35044;\n    var DynamicDrawUsage = 35048;\n    var StreamDrawUsage = 35040;\n    var StaticReadUsage = 35045;\n    var DynamicReadUsage = 35049;\n    var StreamReadUsage = 35041;\n    var StaticCopyUsage = 35046;\n    var DynamicCopyUsage = 35050;\n    var StreamCopyUsage = 35042;\n    var GLSL1 = '100';\n    var GLSL3 = '300 es';\n\n    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n        try {\n            var info = gen[key](arg);\n            var value = info.value;\n        } catch (error) {\n            reject(error);\n            return;\n        }\n\n        if (info.done) {\n            resolve(value);\n        } else {\n            Promise.resolve(value).then(_next, _throw);\n        }\n    }\n\n    function _asyncToGenerator(fn) {\n        return function() {\n            var self = this,\n                args = arguments;\n            return new Promise(function(resolve, reject) {\n                var gen = fn.apply(self, args);\n\n                function _next(value) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n                }\n\n                function _throw(err) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n                }\n\n                _next(undefined);\n            });\n        };\n    }\n\n    function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if (\"value\" in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n\n    function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n    }\n\n    function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n\n        _setPrototypeOf(subClass, superClass);\n    }\n\n    function _setPrototypeOf(o, p) {\n        _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n            o.__proto__ = p;\n            return o;\n        };\n\n        return _setPrototypeOf(o, p);\n    }\n\n    function _assertThisInitialized(self) {\n        if (self === void 0) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n    }\n\n    function _unsupportedIterableToArray(o, minLen) {\n        if (!o) return;\n        if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n        var n = Object.prototype.toString.call(o).slice(8, -1);\n        if (n === \"Object\" && o.constructor) n = o.constructor.name;\n        if (n === \"Map\" || n === \"Set\") return Array.from(o);\n        if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n    }\n\n    function _arrayLikeToArray(arr, len) {\n        if (len == null || len > arr.length) len = arr.length;\n\n        for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n        return arr2;\n    }\n\n    function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n        var it;\n\n        if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n            if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n                if (it) o = it;\n                var i = 0;\n                return function() {\n                    if (i >= o.length) return {\n                        done: true\n                    };\n                    return {\n                        done: false,\n                        value: o[i++]\n                    };\n                };\n            }\n\n            throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n        }\n\n        it = o[Symbol.iterator]();\n        return it.next.bind(it);\n    }\n\n    /**\n     * https://github.com/mrdoob/eventdispatcher.js/\n     */\n    function EventDispatcher() {}\n\n    Object.assign(EventDispatcher.prototype, {\n        addEventListener: function addEventListener(type, listener) {\n            if (this._listeners === undefined) this._listeners = {};\n            var listeners = this._listeners;\n\n            if (listeners[type] === undefined) {\n                listeners[type] = [];\n            }\n\n            if (listeners[type].indexOf(listener) === -1) {\n                listeners[type].push(listener);\n            }\n        },\n        hasEventListener: function hasEventListener(type, listener) {\n            if (this._listeners === undefined) return false;\n            var listeners = this._listeners;\n            return listeners[type] !== undefined && listeners[type].indexOf(listener) !== -1;\n        },\n        removeEventListener: function removeEventListener(type, listener) {\n            if (this._listeners === undefined) return;\n            var listeners = this._listeners;\n            var listenerArray = listeners[type];\n\n            if (listenerArray !== undefined) {\n                var index = listenerArray.indexOf(listener);\n\n                if (index !== -1) {\n                    listenerArray.splice(index, 1);\n                }\n            }\n        },\n        dispatchEvent: function dispatchEvent(event) {\n            if (this._listeners === undefined) return;\n            var listeners = this._listeners;\n            var listenerArray = listeners[event.type];\n\n            if (listenerArray !== undefined) {\n                event.target = this; // Make a copy, in case listeners are removed while iterating.\n\n                var array = listenerArray.slice(0);\n\n                for (var i = 0, l = array.length; i < l; i++) {\n                    array[i].call(this, event);\n                }\n            }\n        }\n    });\n\n    var _lut = [];\n\n    for (var i = 0; i < 256; i++) {\n        _lut[i] = (i < 16 ? '0' : '') + i.toString(16);\n    }\n\n    var _seed = 1234567;\n    var MathUtils = {\n        DEG2RAD: Math.PI / 180,\n        RAD2DEG: 180 / Math.PI,\n        generateUUID: function generateUUID() {\n            // http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n            var d0 = Math.random() * 0xffffffff | 0;\n            var d1 = Math.random() * 0xffffffff | 0;\n            var d2 = Math.random() * 0xffffffff | 0;\n            var d3 = Math.random() * 0xffffffff | 0;\n            var uuid = _lut[d0 & 0xff] + _lut[d0 >> 8 & 0xff] + _lut[d0 >> 16 & 0xff] + _lut[d0 >> 24 & 0xff] + '-' + _lut[d1 & 0xff] + _lut[d1 >> 8 & 0xff] + '-' + _lut[d1 >> 16 & 0x0f | 0x40] + _lut[d1 >> 24 & 0xff] + '-' + _lut[d2 & 0x3f | 0x80] + _lut[d2 >> 8 & 0xff] + '-' + _lut[d2 >> 16 & 0xff] + _lut[d2 >> 24 & 0xff] + _lut[d3 & 0xff] + _lut[d3 >> 8 & 0xff] + _lut[d3 >> 16 & 0xff] + _lut[d3 >> 24 & 0xff]; // .toUpperCase() here flattens concatenated strings to save heap memory space.\n\n            return uuid.toUpperCase();\n        },\n        clamp: function clamp(value, min, max) {\n            return Math.max(min, Math.min(max, value));\n        },\n        // compute euclidian modulo of m % n\n        // https://en.wikipedia.org/wiki/Modulo_operation\n        euclideanModulo: function euclideanModulo(n, m) {\n            return (n % m + m) % m;\n        },\n        // Linear mapping from range <a1, a2> to range <b1, b2>\n        mapLinear: function mapLinear(x, a1, a2, b1, b2) {\n            return b1 + (x - a1) * (b2 - b1) / (a2 - a1);\n        },\n        // https://en.wikipedia.org/wiki/Linear_interpolation\n        lerp: function lerp(x, y, t) {\n            return (1 - t) * x + t * y;\n        },\n        // http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\n        damp: function damp(x, y, lambda, dt) {\n            return MathUtils.lerp(x, y, 1 - Math.exp(-lambda * dt));\n        },\n        // https://www.desmos.com/calculator/vcsjnyz7x4\n        pingpong: function pingpong(x, length) {\n            if (length === void 0) {\n                length = 1;\n            }\n\n            return length - Math.abs(MathUtils.euclideanModulo(x, length * 2) - length);\n        },\n        // http://en.wikipedia.org/wiki/Smoothstep\n        smoothstep: function smoothstep(x, min, max) {\n            if (x <= min) return 0;\n            if (x >= max) return 1;\n            x = (x - min) / (max - min);\n            return x * x * (3 - 2 * x);\n        },\n        smootherstep: function smootherstep(x, min, max) {\n            if (x <= min) return 0;\n            if (x >= max) return 1;\n            x = (x - min) / (max - min);\n            return x * x * x * (x * (x * 6 - 15) + 10);\n        },\n        // Random integer from <low, high> interval\n        randInt: function randInt(low, high) {\n            return low + Math.floor(Math.random() * (high - low + 1));\n        },\n        // Random float from <low, high> interval\n        randFloat: function randFloat(low, high) {\n            return low + Math.random() * (high - low);\n        },\n        // Random float from <-range/2, range/2> interval\n        randFloatSpread: function randFloatSpread(range) {\n            return range * (0.5 - Math.random());\n        },\n        // Deterministic pseudo-random float in the interval [ 0, 1 ]\n        seededRandom: function seededRandom(s) {\n            if (s !== undefined) _seed = s % 2147483647; // Park-Miller algorithm\n\n            _seed = _seed * 16807 % 2147483647;\n            return (_seed - 1) / 2147483646;\n        },\n        degToRad: function degToRad(degrees) {\n            return degrees * MathUtils.DEG2RAD;\n        },\n        radToDeg: function radToDeg(radians) {\n            return radians * MathUtils.RAD2DEG;\n        },\n        isPowerOfTwo: function isPowerOfTwo(value) {\n            return (value & value - 1) === 0 && value !== 0;\n        },\n        ceilPowerOfTwo: function ceilPowerOfTwo(value) {\n            return Math.pow(2, Math.ceil(Math.log(value) / Math.LN2));\n        },\n        floorPowerOfTwo: function floorPowerOfTwo(value) {\n            return Math.pow(2, Math.floor(Math.log(value) / Math.LN2));\n        },\n        setQuaternionFromProperEuler: function setQuaternionFromProperEuler(q, a, b, c, order) {\n            // Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n            // rotations are applied to the axes in the order specified by 'order'\n            // rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n            // angles are in radians\n            var cos = Math.cos;\n            var sin = Math.sin;\n            var c2 = cos(b / 2);\n            var s2 = sin(b / 2);\n            var c13 = cos((a + c) / 2);\n            var s13 = sin((a + c) / 2);\n            var c1_3 = cos((a - c) / 2);\n            var s1_3 = sin((a - c) / 2);\n            var c3_1 = cos((c - a) / 2);\n            var s3_1 = sin((c - a) / 2);\n\n            switch (order) {\n                case 'XYX':\n                    q.set(c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13);\n                    break;\n\n                case 'YZY':\n                    q.set(s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13);\n                    break;\n\n                case 'ZXZ':\n                    q.set(s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13);\n                    break;\n\n                case 'XZX':\n                    q.set(c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13);\n                    break;\n\n                case 'YXY':\n                    q.set(s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13);\n                    break;\n\n                case 'ZYZ':\n                    q.set(s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13);\n                    break;\n\n                default:\n                    console.warn('THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order);\n            }\n        }\n    };\n\n    var Vector2 = /*#__PURE__*/ function() {\n        function Vector2(x, y) {\n            if (x === void 0) {\n                x = 0;\n            }\n\n            if (y === void 0) {\n                y = 0;\n            }\n\n            this.x = x;\n            this.y = y;\n        }\n\n        var _proto = Vector2.prototype;\n\n        _proto.set = function set(x, y) {\n            this.x = x;\n            this.y = y;\n            return this;\n        };\n\n        _proto.setScalar = function setScalar(scalar) {\n            this.x = scalar;\n            this.y = scalar;\n            return this;\n        };\n\n        _proto.setX = function setX(x) {\n            this.x = x;\n            return this;\n        };\n\n        _proto.setY = function setY(y) {\n            this.y = y;\n            return this;\n        };\n\n        _proto.setComponent = function setComponent(index, value) {\n            switch (index) {\n                case 0:\n                    this.x = value;\n                    break;\n\n                case 1:\n                    this.y = value;\n                    break;\n\n                default:\n                    throw new Error('index is out of range: ' + index);\n            }\n\n            return this;\n        };\n\n        _proto.getComponent = function getComponent(index) {\n            switch (index) {\n                case 0:\n                    return this.x;\n\n                case 1:\n                    return this.y;\n\n                default:\n                    throw new Error('index is out of range: ' + index);\n            }\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor(this.x, this.y);\n        };\n\n        _proto.copy = function copy(v) {\n            this.x = v.x;\n            this.y = v.y;\n            return this;\n        };\n\n        _proto.add = function add(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n                return this.addVectors(v, w);\n            }\n\n            this.x += v.x;\n            this.y += v.y;\n            return this;\n        };\n\n        _proto.addScalar = function addScalar(s) {\n            this.x += s;\n            this.y += s;\n            return this;\n        };\n\n        _proto.addVectors = function addVectors(a, b) {\n            this.x = a.x + b.x;\n            this.y = a.y + b.y;\n            return this;\n        };\n\n        _proto.addScaledVector = function addScaledVector(v, s) {\n            this.x += v.x * s;\n            this.y += v.y * s;\n            return this;\n        };\n\n        _proto.sub = function sub(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n                return this.subVectors(v, w);\n            }\n\n            this.x -= v.x;\n            this.y -= v.y;\n            return this;\n        };\n\n        _proto.subScalar = function subScalar(s) {\n            this.x -= s;\n            this.y -= s;\n            return this;\n        };\n\n        _proto.subVectors = function subVectors(a, b) {\n            this.x = a.x - b.x;\n            this.y = a.y - b.y;\n            return this;\n        };\n\n        _proto.multiply = function multiply(v) {\n            this.x *= v.x;\n            this.y *= v.y;\n            return this;\n        };\n\n        _proto.multiplyScalar = function multiplyScalar(scalar) {\n            this.x *= scalar;\n            this.y *= scalar;\n            return this;\n        };\n\n        _proto.divide = function divide(v) {\n            this.x /= v.x;\n            this.y /= v.y;\n            return this;\n        };\n\n        _proto.divideScalar = function divideScalar(scalar) {\n            return this.multiplyScalar(1 / scalar);\n        };\n\n        _proto.applyMatrix3 = function applyMatrix3(m) {\n            var x = this.x,\n                y = this.y;\n            var e = m.elements;\n            this.x = e[0] * x + e[3] * y + e[6];\n            this.y = e[1] * x + e[4] * y + e[7];\n            return this;\n        };\n\n        _proto.min = function min(v) {\n            this.x = Math.min(this.x, v.x);\n            this.y = Math.min(this.y, v.y);\n            return this;\n        };\n\n        _proto.max = function max(v) {\n            this.x = Math.max(this.x, v.x);\n            this.y = Math.max(this.y, v.y);\n            return this;\n        };\n\n        _proto.clamp = function clamp(min, max) {\n            // assumes min < max, componentwise\n            this.x = Math.max(min.x, Math.min(max.x, this.x));\n            this.y = Math.max(min.y, Math.min(max.y, this.y));\n            return this;\n        };\n\n        _proto.clampScalar = function clampScalar(minVal, maxVal) {\n            this.x = Math.max(minVal, Math.min(maxVal, this.x));\n            this.y = Math.max(minVal, Math.min(maxVal, this.y));\n            return this;\n        };\n\n        _proto.clampLength = function clampLength(min, max) {\n            var length = this.length();\n            return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n        };\n\n        _proto.floor = function floor() {\n            this.x = Math.floor(this.x);\n            this.y = Math.floor(this.y);\n            return this;\n        };\n\n        _proto.ceil = function ceil() {\n            this.x = Math.ceil(this.x);\n            this.y = Math.ceil(this.y);\n            return this;\n        };\n\n        _proto.round = function round() {\n            this.x = Math.round(this.x);\n            this.y = Math.round(this.y);\n            return this;\n        };\n\n        _proto.roundToZero = function roundToZero() {\n            this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n            return this;\n        };\n\n        _proto.negate = function negate() {\n            this.x = -this.x;\n            this.y = -this.y;\n            return this;\n        };\n\n        _proto.dot = function dot(v) {\n            return this.x * v.x + this.y * v.y;\n        };\n\n        _proto.cross = function cross(v) {\n            return this.x * v.y - this.y * v.x;\n        };\n\n        _proto.lengthSq = function lengthSq() {\n            return this.x * this.x + this.y * this.y;\n        };\n\n        _proto.length = function length() {\n            return Math.sqrt(this.x * this.x + this.y * this.y);\n        };\n\n        _proto.manhattanLength = function manhattanLength() {\n            return Math.abs(this.x) + Math.abs(this.y);\n        };\n\n        _proto.normalize = function normalize() {\n            return this.divideScalar(this.length() || 1);\n        };\n\n        _proto.angle = function angle() {\n            // computes the angle in radians with respect to the positive x-axis\n            var angle = Math.atan2(-this.y, -this.x) + Math.PI;\n            return angle;\n        };\n\n        _proto.distanceTo = function distanceTo(v) {\n            return Math.sqrt(this.distanceToSquared(v));\n        };\n\n        _proto.distanceToSquared = function distanceToSquared(v) {\n            var dx = this.x - v.x,\n                dy = this.y - v.y;\n            return dx * dx + dy * dy;\n        };\n\n        _proto.manhattanDistanceTo = function manhattanDistanceTo(v) {\n            return Math.abs(this.x - v.x) + Math.abs(this.y - v.y);\n        };\n\n        _proto.setLength = function setLength(length) {\n            return this.normalize().multiplyScalar(length);\n        };\n\n        _proto.lerp = function lerp(v, alpha) {\n            this.x += (v.x - this.x) * alpha;\n            this.y += (v.y - this.y) * alpha;\n            return this;\n        };\n\n        _proto.lerpVectors = function lerpVectors(v1, v2, alpha) {\n            this.x = v1.x + (v2.x - v1.x) * alpha;\n            this.y = v1.y + (v2.y - v1.y) * alpha;\n            return this;\n        };\n\n        _proto.equals = function equals(v) {\n            return v.x === this.x && v.y === this.y;\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            this.x = array[offset];\n            this.y = array[offset + 1];\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === void 0) {\n                array = [];\n            }\n\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            array[offset] = this.x;\n            array[offset + 1] = this.y;\n            return array;\n        };\n\n        _proto.fromBufferAttribute = function fromBufferAttribute(attribute, index, offset) {\n            if (offset !== undefined) {\n                console.warn('THREE.Vector2: offset has been removed from .fromBufferAttribute().');\n            }\n\n            this.x = attribute.getX(index);\n            this.y = attribute.getY(index);\n            return this;\n        };\n\n        _proto.rotateAround = function rotateAround(center, angle) {\n            var c = Math.cos(angle),\n                s = Math.sin(angle);\n            var x = this.x - center.x;\n            var y = this.y - center.y;\n            this.x = x * c - y * s + center.x;\n            this.y = x * s + y * c + center.y;\n            return this;\n        };\n\n        _proto.random = function random() {\n            this.x = Math.random();\n            this.y = Math.random();\n            return this;\n        };\n\n        _createClass(Vector2, [{\n            key: \"width\",\n            get: function get() {\n                return this.x;\n            },\n            set: function set(value) {\n                this.x = value;\n            }\n        }, {\n            key: \"height\",\n            get: function get() {\n                return this.y;\n            },\n            set: function set(value) {\n                this.y = value;\n            }\n        }]);\n\n        return Vector2;\n    }();\n\n    Vector2.prototype.isVector2 = true;\n\n    var Matrix3 = /*#__PURE__*/ function() {\n        function Matrix3() {\n            this.elements = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n            if (arguments.length > 0) {\n                console.error('THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.');\n            }\n        }\n\n        var _proto = Matrix3.prototype;\n\n        _proto.set = function set(n11, n12, n13, n21, n22, n23, n31, n32, n33) {\n            var te = this.elements;\n            te[0] = n11;\n            te[1] = n21;\n            te[2] = n31;\n            te[3] = n12;\n            te[4] = n22;\n            te[5] = n32;\n            te[6] = n13;\n            te[7] = n23;\n            te[8] = n33;\n            return this;\n        };\n\n        _proto.identity = function identity() {\n            this.set(1, 0, 0, 0, 1, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.copy = function copy(m) {\n            var te = this.elements;\n            var me = m.elements;\n            te[0] = me[0];\n            te[1] = me[1];\n            te[2] = me[2];\n            te[3] = me[3];\n            te[4] = me[4];\n            te[5] = me[5];\n            te[6] = me[6];\n            te[7] = me[7];\n            te[8] = me[8];\n            return this;\n        };\n\n        _proto.extractBasis = function extractBasis(xAxis, yAxis, zAxis) {\n            xAxis.setFromMatrix3Column(this, 0);\n            yAxis.setFromMatrix3Column(this, 1);\n            zAxis.setFromMatrix3Column(this, 2);\n            return this;\n        };\n\n        _proto.setFromMatrix4 = function setFromMatrix4(m) {\n            var me = m.elements;\n            this.set(me[0], me[4], me[8], me[1], me[5], me[9], me[2], me[6], me[10]);\n            return this;\n        };\n\n        _proto.multiply = function multiply(m) {\n            return this.multiplyMatrices(this, m);\n        };\n\n        _proto.premultiply = function premultiply(m) {\n            return this.multiplyMatrices(m, this);\n        };\n\n        _proto.multiplyMatrices = function multiplyMatrices(a, b) {\n            var ae = a.elements;\n            var be = b.elements;\n            var te = this.elements;\n            var a11 = ae[0],\n                a12 = ae[3],\n                a13 = ae[6];\n            var a21 = ae[1],\n                a22 = ae[4],\n                a23 = ae[7];\n            var a31 = ae[2],\n                a32 = ae[5],\n                a33 = ae[8];\n            var b11 = be[0],\n                b12 = be[3],\n                b13 = be[6];\n            var b21 = be[1],\n                b22 = be[4],\n                b23 = be[7];\n            var b31 = be[2],\n                b32 = be[5],\n                b33 = be[8];\n            te[0] = a11 * b11 + a12 * b21 + a13 * b31;\n            te[3] = a11 * b12 + a12 * b22 + a13 * b32;\n            te[6] = a11 * b13 + a12 * b23 + a13 * b33;\n            te[1] = a21 * b11 + a22 * b21 + a23 * b31;\n            te[4] = a21 * b12 + a22 * b22 + a23 * b32;\n            te[7] = a21 * b13 + a22 * b23 + a23 * b33;\n            te[2] = a31 * b11 + a32 * b21 + a33 * b31;\n            te[5] = a31 * b12 + a32 * b22 + a33 * b32;\n            te[8] = a31 * b13 + a32 * b23 + a33 * b33;\n            return this;\n        };\n\n        _proto.multiplyScalar = function multiplyScalar(s) {\n            var te = this.elements;\n            te[0] *= s;\n            te[3] *= s;\n            te[6] *= s;\n            te[1] *= s;\n            te[4] *= s;\n            te[7] *= s;\n            te[2] *= s;\n            te[5] *= s;\n            te[8] *= s;\n            return this;\n        };\n\n        _proto.determinant = function determinant() {\n            var te = this.elements;\n            var a = te[0],\n                b = te[1],\n                c = te[2],\n                d = te[3],\n                e = te[4],\n                f = te[5],\n                g = te[6],\n                h = te[7],\n                i = te[8];\n            return a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n        };\n\n        _proto.invert = function invert() {\n            var te = this.elements,\n                n11 = te[0],\n                n21 = te[1],\n                n31 = te[2],\n                n12 = te[3],\n                n22 = te[4],\n                n32 = te[5],\n                n13 = te[6],\n                n23 = te[7],\n                n33 = te[8],\n                t11 = n33 * n22 - n32 * n23,\n                t12 = n32 * n13 - n33 * n12,\n                t13 = n23 * n12 - n22 * n13,\n                det = n11 * t11 + n21 * t12 + n31 * t13;\n            if (det === 0) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0);\n            var detInv = 1 / det;\n            te[0] = t11 * detInv;\n            te[1] = (n31 * n23 - n33 * n21) * detInv;\n            te[2] = (n32 * n21 - n31 * n22) * detInv;\n            te[3] = t12 * detInv;\n            te[4] = (n33 * n11 - n31 * n13) * detInv;\n            te[5] = (n31 * n12 - n32 * n11) * detInv;\n            te[6] = t13 * detInv;\n            te[7] = (n21 * n13 - n23 * n11) * detInv;\n            te[8] = (n22 * n11 - n21 * n12) * detInv;\n            return this;\n        };\n\n        _proto.transpose = function transpose() {\n            var tmp;\n            var m = this.elements;\n            tmp = m[1];\n            m[1] = m[3];\n            m[3] = tmp;\n            tmp = m[2];\n            m[2] = m[6];\n            m[6] = tmp;\n            tmp = m[5];\n            m[5] = m[7];\n            m[7] = tmp;\n            return this;\n        };\n\n        _proto.getNormalMatrix = function getNormalMatrix(matrix4) {\n            return this.setFromMatrix4(matrix4).invert().transpose();\n        };\n\n        _proto.transposeIntoArray = function transposeIntoArray(r) {\n            var m = this.elements;\n            r[0] = m[0];\n            r[1] = m[3];\n            r[2] = m[6];\n            r[3] = m[1];\n            r[4] = m[4];\n            r[5] = m[7];\n            r[6] = m[2];\n            r[7] = m[5];\n            r[8] = m[8];\n            return this;\n        };\n\n        _proto.setUvTransform = function setUvTransform(tx, ty, sx, sy, rotation, cx, cy) {\n            var c = Math.cos(rotation);\n            var s = Math.sin(rotation);\n            this.set(sx * c, sx * s, -sx * (c * cx + s * cy) + cx + tx, -sy * s, sy * c, -sy * (-s * cx + c * cy) + cy + ty, 0, 0, 1);\n            return this;\n        };\n\n        _proto.scale = function scale(sx, sy) {\n            var te = this.elements;\n            te[0] *= sx;\n            te[3] *= sx;\n            te[6] *= sx;\n            te[1] *= sy;\n            te[4] *= sy;\n            te[7] *= sy;\n            return this;\n        };\n\n        _proto.rotate = function rotate(theta) {\n            var c = Math.cos(theta);\n            var s = Math.sin(theta);\n            var te = this.elements;\n            var a11 = te[0],\n                a12 = te[3],\n                a13 = te[6];\n            var a21 = te[1],\n                a22 = te[4],\n                a23 = te[7];\n            te[0] = c * a11 + s * a21;\n            te[3] = c * a12 + s * a22;\n            te[6] = c * a13 + s * a23;\n            te[1] = -s * a11 + c * a21;\n            te[4] = -s * a12 + c * a22;\n            te[7] = -s * a13 + c * a23;\n            return this;\n        };\n\n        _proto.translate = function translate(tx, ty) {\n            var te = this.elements;\n            te[0] += tx * te[2];\n            te[3] += tx * te[5];\n            te[6] += tx * te[8];\n            te[1] += ty * te[2];\n            te[4] += ty * te[5];\n            te[7] += ty * te[8];\n            return this;\n        };\n\n        _proto.equals = function equals(matrix) {\n            var te = this.elements;\n            var me = matrix.elements;\n\n            for (var i = 0; i < 9; i++) {\n                if (te[i] !== me[i]) return false;\n            }\n\n            return true;\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            for (var i = 0; i < 9; i++) {\n                this.elements[i] = array[i + offset];\n            }\n\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === void 0) {\n                array = [];\n            }\n\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            var te = this.elements;\n            array[offset] = te[0];\n            array[offset + 1] = te[1];\n            array[offset + 2] = te[2];\n            array[offset + 3] = te[3];\n            array[offset + 4] = te[4];\n            array[offset + 5] = te[5];\n            array[offset + 6] = te[6];\n            array[offset + 7] = te[7];\n            array[offset + 8] = te[8];\n            return array;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().fromArray(this.elements);\n        };\n\n        return Matrix3;\n    }();\n\n    Matrix3.prototype.isMatrix3 = true;\n\n    var _canvas;\n\n    var ImageUtils = {\n        getDataURL: function getDataURL(image) {\n            if (/^data:/i.test(image.src)) {\n                return image.src;\n            }\n\n            if (typeof HTMLCanvasElement == 'undefined') {\n                return image.src;\n            }\n\n            var canvas;\n\n            if (image instanceof HTMLCanvasElement) {\n                canvas = image;\n            } else {\n                if (_canvas === undefined) _canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n                _canvas.width = image.width;\n                _canvas.height = image.height;\n\n                var context = _canvas.getContext('2d');\n\n                if (image instanceof ImageData) {\n                    context.putImageData(image, 0, 0);\n                } else {\n                    context.drawImage(image, 0, 0, image.width, image.height);\n                }\n\n                canvas = _canvas;\n            }\n\n            if (canvas.width > 2048 || canvas.height > 2048) {\n                return canvas.toDataURL('image/jpeg', 0.6);\n            } else {\n                return canvas.toDataURL('image/png');\n            }\n        }\n    };\n\n    var textureId = 0;\n\n    var Texture = /*#__PURE__*/ function(_EventDispatcher) {\n        _inheritsLoose(Texture, _EventDispatcher);\n\n        function Texture(image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {\n            var _this;\n\n            if (image === void 0) {\n                image = Texture.DEFAULT_IMAGE;\n            }\n\n            if (mapping === void 0) {\n                mapping = Texture.DEFAULT_MAPPING;\n            }\n\n            if (wrapS === void 0) {\n                wrapS = ClampToEdgeWrapping;\n            }\n\n            if (wrapT === void 0) {\n                wrapT = ClampToEdgeWrapping;\n            }\n\n            if (magFilter === void 0) {\n                magFilter = LinearFilter;\n            }\n\n            if (minFilter === void 0) {\n                minFilter = LinearMipmapLinearFilter;\n            }\n\n            if (format === void 0) {\n                format = RGBAFormat;\n            }\n\n            if (type === void 0) {\n                type = UnsignedByteType;\n            }\n\n            if (anisotropy === void 0) {\n                anisotropy = 1;\n            }\n\n            if (encoding === void 0) {\n                encoding = LinearEncoding;\n            }\n\n            _this = _EventDispatcher.call(this) || this;\n            Object.defineProperty(_assertThisInitialized(_this), 'id', {\n                value: textureId++\n            });\n            _this.uuid = MathUtils.generateUUID();\n            _this.name = '';\n            _this.image = image;\n            _this.mipmaps = [];\n            _this.mapping = mapping;\n            _this.wrapS = wrapS;\n            _this.wrapT = wrapT;\n            _this.magFilter = magFilter;\n            _this.minFilter = minFilter;\n            _this.anisotropy = anisotropy;\n            _this.format = format;\n            _this.internalFormat = null;\n            _this.type = type;\n            _this.offset = new Vector2(0, 0);\n            _this.repeat = new Vector2(1, 1);\n            _this.center = new Vector2(0, 0);\n            _this.rotation = 0;\n            _this.matrixAutoUpdate = true;\n            _this.matrix = new Matrix3();\n            _this.generateMipmaps = true;\n            _this.premultiplyAlpha = false;\n            _this.flipY = true;\n            _this.unpackAlignment = 4; // valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n            // Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n            //\n            // Also changing the encoding after already used by a Material will not automatically make the Material\n            // update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\n            _this.encoding = encoding;\n            _this.version = 0;\n            _this.onUpdate = null;\n            return _this;\n        }\n\n        var _proto = Texture.prototype;\n\n        _proto.updateMatrix = function updateMatrix() {\n            this.matrix.setUvTransform(this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y);\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(source) {\n            this.name = source.name;\n            this.image = source.image;\n            this.mipmaps = source.mipmaps.slice(0);\n            this.mapping = source.mapping;\n            this.wrapS = source.wrapS;\n            this.wrapT = source.wrapT;\n            this.magFilter = source.magFilter;\n            this.minFilter = source.minFilter;\n            this.anisotropy = source.anisotropy;\n            this.format = source.format;\n            this.internalFormat = source.internalFormat;\n            this.type = source.type;\n            this.offset.copy(source.offset);\n            this.repeat.copy(source.repeat);\n            this.center.copy(source.center);\n            this.rotation = source.rotation;\n            this.matrixAutoUpdate = source.matrixAutoUpdate;\n            this.matrix.copy(source.matrix);\n            this.generateMipmaps = source.generateMipmaps;\n            this.premultiplyAlpha = source.premultiplyAlpha;\n            this.flipY = source.flipY;\n            this.unpackAlignment = source.unpackAlignment;\n            this.encoding = source.encoding;\n            return this;\n        };\n\n        _proto.toJSON = function toJSON(meta) {\n            var isRootObject = meta === undefined || typeof meta === 'string';\n\n            if (!isRootObject && meta.textures[this.uuid] !== undefined) {\n                return meta.textures[this.uuid];\n            }\n\n            var output = {\n                metadata: {\n                    version: 4.5,\n                    type: 'Texture',\n                    generator: 'Texture.toJSON'\n                },\n                uuid: this.uuid,\n                name: this.name,\n                mapping: this.mapping,\n                repeat: [this.repeat.x, this.repeat.y],\n                offset: [this.offset.x, this.offset.y],\n                center: [this.center.x, this.center.y],\n                rotation: this.rotation,\n                wrap: [this.wrapS, this.wrapT],\n                format: this.format,\n                type: this.type,\n                encoding: this.encoding,\n                minFilter: this.minFilter,\n                magFilter: this.magFilter,\n                anisotropy: this.anisotropy,\n                flipY: this.flipY,\n                premultiplyAlpha: this.premultiplyAlpha,\n                unpackAlignment: this.unpackAlignment\n            };\n\n            if (this.image !== undefined) {\n                // TODO: Move to THREE.Image\n                var image = this.image;\n\n                if (image.uuid === undefined) {\n                    image.uuid = MathUtils.generateUUID(); // UGH\n                }\n\n                if (!isRootObject && meta.images[image.uuid] === undefined) {\n                    var url;\n\n                    if (Array.isArray(image)) {\n                        // process array of images e.g. CubeTexture\n                        url = [];\n\n                        for (var i = 0, l = image.length; i < l; i++) {\n                            // check cube texture with data textures\n                            if (image[i].isDataTexture) {\n                                url.push(serializeImage(image[i].image));\n                            } else {\n                                url.push(serializeImage(image[i]));\n                            }\n                        }\n                    } else {\n                        // process single image\n                        url = serializeImage(image);\n                    }\n\n                    meta.images[image.uuid] = {\n                        uuid: image.uuid,\n                        url: url\n                    };\n                }\n\n                output.image = image.uuid;\n            }\n\n            if (!isRootObject) {\n                meta.textures[this.uuid] = output;\n            }\n\n            return output;\n        };\n\n        _proto.dispose = function dispose() {\n            this.dispatchEvent({\n                type: 'dispose'\n            });\n        };\n\n        _proto.transformUv = function transformUv(uv) {\n            if (this.mapping !== UVMapping) return uv;\n            uv.applyMatrix3(this.matrix);\n\n            if (uv.x < 0 || uv.x > 1) {\n                switch (this.wrapS) {\n                    case RepeatWrapping:\n                        uv.x = uv.x - Math.floor(uv.x);\n                        break;\n\n                    case ClampToEdgeWrapping:\n                        uv.x = uv.x < 0 ? 0 : 1;\n                        break;\n\n                    case MirroredRepeatWrapping:\n                        if (Math.abs(Math.floor(uv.x) % 2) === 1) {\n                            uv.x = Math.ceil(uv.x) - uv.x;\n                        } else {\n                            uv.x = uv.x - Math.floor(uv.x);\n                        }\n\n                        break;\n                }\n            }\n\n            if (uv.y < 0 || uv.y > 1) {\n                switch (this.wrapT) {\n                    case RepeatWrapping:\n                        uv.y = uv.y - Math.floor(uv.y);\n                        break;\n\n                    case ClampToEdgeWrapping:\n                        uv.y = uv.y < 0 ? 0 : 1;\n                        break;\n\n                    case MirroredRepeatWrapping:\n                        if (Math.abs(Math.floor(uv.y) % 2) === 1) {\n                            uv.y = Math.ceil(uv.y) - uv.y;\n                        } else {\n                            uv.y = uv.y - Math.floor(uv.y);\n                        }\n\n                        break;\n                }\n            }\n\n            if (this.flipY) {\n                uv.y = 1 - uv.y;\n            }\n\n            return uv;\n        };\n\n        _createClass(Texture, [{\n            key: \"needsUpdate\",\n            set: function set(value) {\n                if (value === true) this.version++;\n            }\n        }]);\n\n        return Texture;\n    }(EventDispatcher);\n\n    Texture.DEFAULT_IMAGE = undefined;\n    Texture.DEFAULT_MAPPING = UVMapping;\n    Texture.prototype.isTexture = true;\n\n    function serializeImage(image) {\n        if (typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement || typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement || typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap) {\n            // default images\n            return ImageUtils.getDataURL(image);\n        } else {\n            if (image.data) {\n                // images of DataTexture\n                return {\n                    data: Array.prototype.slice.call(image.data),\n                    width: image.width,\n                    height: image.height,\n                    type: image.data.constructor.name\n                };\n            } else {\n                console.warn('THREE.Texture: Unable to serialize Texture.');\n                return {};\n            }\n        }\n    }\n\n    var Vector4 = /*#__PURE__*/ function() {\n        function Vector4(x, y, z, w) {\n            if (x === void 0) {\n                x = 0;\n            }\n\n            if (y === void 0) {\n                y = 0;\n            }\n\n            if (z === void 0) {\n                z = 0;\n            }\n\n            if (w === void 0) {\n                w = 1;\n            }\n\n            this.x = x;\n            this.y = y;\n            this.z = z;\n            this.w = w;\n        }\n\n        var _proto = Vector4.prototype;\n\n        _proto.set = function set(x, y, z, w) {\n            this.x = x;\n            this.y = y;\n            this.z = z;\n            this.w = w;\n            return this;\n        };\n\n        _proto.setScalar = function setScalar(scalar) {\n            this.x = scalar;\n            this.y = scalar;\n            this.z = scalar;\n            this.w = scalar;\n            return this;\n        };\n\n        _proto.setX = function setX(x) {\n            this.x = x;\n            return this;\n        };\n\n        _proto.setY = function setY(y) {\n            this.y = y;\n            return this;\n        };\n\n        _proto.setZ = function setZ(z) {\n            this.z = z;\n            return this;\n        };\n\n        _proto.setW = function setW(w) {\n            this.w = w;\n            return this;\n        };\n\n        _proto.setComponent = function setComponent(index, value) {\n            switch (index) {\n                case 0:\n                    this.x = value;\n                    break;\n\n                case 1:\n                    this.y = value;\n                    break;\n\n                case 2:\n                    this.z = value;\n                    break;\n\n                case 3:\n                    this.w = value;\n                    break;\n\n                default:\n                    throw new Error('index is out of range: ' + index);\n            }\n\n            return this;\n        };\n\n        _proto.getComponent = function getComponent(index) {\n            switch (index) {\n                case 0:\n                    return this.x;\n\n                case 1:\n                    return this.y;\n\n                case 2:\n                    return this.z;\n\n                case 3:\n                    return this.w;\n\n                default:\n                    throw new Error('index is out of range: ' + index);\n            }\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor(this.x, this.y, this.z, this.w);\n        };\n\n        _proto.copy = function copy(v) {\n            this.x = v.x;\n            this.y = v.y;\n            this.z = v.z;\n            this.w = v.w !== undefined ? v.w : 1;\n            return this;\n        };\n\n        _proto.add = function add(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n                return this.addVectors(v, w);\n            }\n\n            this.x += v.x;\n            this.y += v.y;\n            this.z += v.z;\n            this.w += v.w;\n            return this;\n        };\n\n        _proto.addScalar = function addScalar(s) {\n            this.x += s;\n            this.y += s;\n            this.z += s;\n            this.w += s;\n            return this;\n        };\n\n        _proto.addVectors = function addVectors(a, b) {\n            this.x = a.x + b.x;\n            this.y = a.y + b.y;\n            this.z = a.z + b.z;\n            this.w = a.w + b.w;\n            return this;\n        };\n\n        _proto.addScaledVector = function addScaledVector(v, s) {\n            this.x += v.x * s;\n            this.y += v.y * s;\n            this.z += v.z * s;\n            this.w += v.w * s;\n            return this;\n        };\n\n        _proto.sub = function sub(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n                return this.subVectors(v, w);\n            }\n\n            this.x -= v.x;\n            this.y -= v.y;\n            this.z -= v.z;\n            this.w -= v.w;\n            return this;\n        };\n\n        _proto.subScalar = function subScalar(s) {\n            this.x -= s;\n            this.y -= s;\n            this.z -= s;\n            this.w -= s;\n            return this;\n        };\n\n        _proto.subVectors = function subVectors(a, b) {\n            this.x = a.x - b.x;\n            this.y = a.y - b.y;\n            this.z = a.z - b.z;\n            this.w = a.w - b.w;\n            return this;\n        };\n\n        _proto.multiply = function multiply(v) {\n            this.x *= v.x;\n            this.y *= v.y;\n            this.z *= v.z;\n            this.w *= v.w;\n            return this;\n        };\n\n        _proto.multiplyScalar = function multiplyScalar(scalar) {\n            this.x *= scalar;\n            this.y *= scalar;\n            this.z *= scalar;\n            this.w *= scalar;\n            return this;\n        };\n\n        _proto.applyMatrix4 = function applyMatrix4(m) {\n            var x = this.x,\n                y = this.y,\n                z = this.z,\n                w = this.w;\n            var e = m.elements;\n            this.x = e[0] * x + e[4] * y + e[8] * z + e[12] * w;\n            this.y = e[1] * x + e[5] * y + e[9] * z + e[13] * w;\n            this.z = e[2] * x + e[6] * y + e[10] * z + e[14] * w;\n            this.w = e[3] * x + e[7] * y + e[11] * z + e[15] * w;\n            return this;\n        };\n\n        _proto.divideScalar = function divideScalar(scalar) {\n            return this.multiplyScalar(1 / scalar);\n        };\n\n        _proto.setAxisAngleFromQuaternion = function setAxisAngleFromQuaternion(q) {\n            // http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n            // q is assumed to be normalized\n            this.w = 2 * Math.acos(q.w);\n            var s = Math.sqrt(1 - q.w * q.w);\n\n            if (s < 0.0001) {\n                this.x = 1;\n                this.y = 0;\n                this.z = 0;\n            } else {\n                this.x = q.x / s;\n                this.y = q.y / s;\n                this.z = q.z / s;\n            }\n\n            return this;\n        };\n\n        _proto.setAxisAngleFromRotationMatrix = function setAxisAngleFromRotationMatrix(m) {\n            // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n            // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n            var angle, x, y, z; // variables for result\n\n            var epsilon = 0.01,\n                // margin to allow for rounding errors\n                epsilon2 = 0.1,\n                // margin to distinguish between 0 and 180 degrees\n                te = m.elements,\n                m11 = te[0],\n                m12 = te[4],\n                m13 = te[8],\n                m21 = te[1],\n                m22 = te[5],\n                m23 = te[9],\n                m31 = te[2],\n                m32 = te[6],\n                m33 = te[10];\n\n            if (Math.abs(m12 - m21) < epsilon && Math.abs(m13 - m31) < epsilon && Math.abs(m23 - m32) < epsilon) {\n                // singularity found\n                // first check for identity matrix which must have +1 for all terms\n                // in leading diagonal and zero in other terms\n                if (Math.abs(m12 + m21) < epsilon2 && Math.abs(m13 + m31) < epsilon2 && Math.abs(m23 + m32) < epsilon2 && Math.abs(m11 + m22 + m33 - 3) < epsilon2) {\n                    // this singularity is identity matrix so angle = 0\n                    this.set(1, 0, 0, 0);\n                    return this; // zero angle, arbitrary axis\n                } // otherwise this singularity is angle = 180\n\n\n                angle = Math.PI;\n                var xx = (m11 + 1) / 2;\n                var yy = (m22 + 1) / 2;\n                var zz = (m33 + 1) / 2;\n                var xy = (m12 + m21) / 4;\n                var xz = (m13 + m31) / 4;\n                var yz = (m23 + m32) / 4;\n\n                if (xx > yy && xx > zz) {\n                    // m11 is the largest diagonal term\n                    if (xx < epsilon) {\n                        x = 0;\n                        y = 0.707106781;\n                        z = 0.707106781;\n                    } else {\n                        x = Math.sqrt(xx);\n                        y = xy / x;\n                        z = xz / x;\n                    }\n                } else if (yy > zz) {\n                    // m22 is the largest diagonal term\n                    if (yy < epsilon) {\n                        x = 0.707106781;\n                        y = 0;\n                        z = 0.707106781;\n                    } else {\n                        y = Math.sqrt(yy);\n                        x = xy / y;\n                        z = yz / y;\n                    }\n                } else {\n                    // m33 is the largest diagonal term so base result on this\n                    if (zz < epsilon) {\n                        x = 0.707106781;\n                        y = 0.707106781;\n                        z = 0;\n                    } else {\n                        z = Math.sqrt(zz);\n                        x = xz / z;\n                        y = yz / z;\n                    }\n                }\n\n                this.set(x, y, z, angle);\n                return this; // return 180 deg rotation\n            } // as we have reached here there are no singularities so we can handle normally\n\n\n            var s = Math.sqrt((m32 - m23) * (m32 - m23) + (m13 - m31) * (m13 - m31) + (m21 - m12) * (m21 - m12)); // used to normalize\n\n            if (Math.abs(s) < 0.001) s = 1; // prevent divide by zero, should not happen if matrix is orthogonal and should be\n            // caught by singularity test above, but I've left it in just in case\n\n            this.x = (m32 - m23) / s;\n            this.y = (m13 - m31) / s;\n            this.z = (m21 - m12) / s;\n            this.w = Math.acos((m11 + m22 + m33 - 1) / 2);\n            return this;\n        };\n\n        _proto.min = function min(v) {\n            this.x = Math.min(this.x, v.x);\n            this.y = Math.min(this.y, v.y);\n            this.z = Math.min(this.z, v.z);\n            this.w = Math.min(this.w, v.w);\n            return this;\n        };\n\n        _proto.max = function max(v) {\n            this.x = Math.max(this.x, v.x);\n            this.y = Math.max(this.y, v.y);\n            this.z = Math.max(this.z, v.z);\n            this.w = Math.max(this.w, v.w);\n            return this;\n        };\n\n        _proto.clamp = function clamp(min, max) {\n            // assumes min < max, componentwise\n            this.x = Math.max(min.x, Math.min(max.x, this.x));\n            this.y = Math.max(min.y, Math.min(max.y, this.y));\n            this.z = Math.max(min.z, Math.min(max.z, this.z));\n            this.w = Math.max(min.w, Math.min(max.w, this.w));\n            return this;\n        };\n\n        _proto.clampScalar = function clampScalar(minVal, maxVal) {\n            this.x = Math.max(minVal, Math.min(maxVal, this.x));\n            this.y = Math.max(minVal, Math.min(maxVal, this.y));\n            this.z = Math.max(minVal, Math.min(maxVal, this.z));\n            this.w = Math.max(minVal, Math.min(maxVal, this.w));\n            return this;\n        };\n\n        _proto.clampLength = function clampLength(min, max) {\n            var length = this.length();\n            return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n        };\n\n        _proto.floor = function floor() {\n            this.x = Math.floor(this.x);\n            this.y = Math.floor(this.y);\n            this.z = Math.floor(this.z);\n            this.w = Math.floor(this.w);\n            return this;\n        };\n\n        _proto.ceil = function ceil() {\n            this.x = Math.ceil(this.x);\n            this.y = Math.ceil(this.y);\n            this.z = Math.ceil(this.z);\n            this.w = Math.ceil(this.w);\n            return this;\n        };\n\n        _proto.round = function round() {\n            this.x = Math.round(this.x);\n            this.y = Math.round(this.y);\n            this.z = Math.round(this.z);\n            this.w = Math.round(this.w);\n            return this;\n        };\n\n        _proto.roundToZero = function roundToZero() {\n            this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n            this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);\n            this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w);\n            return this;\n        };\n\n        _proto.negate = function negate() {\n            this.x = -this.x;\n            this.y = -this.y;\n            this.z = -this.z;\n            this.w = -this.w;\n            return this;\n        };\n\n        _proto.dot = function dot(v) {\n            return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n        };\n\n        _proto.lengthSq = function lengthSq() {\n            return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n        };\n\n        _proto.length = function length() {\n            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\n        };\n\n        _proto.manhattanLength = function manhattanLength() {\n            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w);\n        };\n\n        _proto.normalize = function normalize() {\n            return this.divideScalar(this.length() || 1);\n        };\n\n        _proto.setLength = function setLength(length) {\n            return this.normalize().multiplyScalar(length);\n        };\n\n        _proto.lerp = function lerp(v, alpha) {\n            this.x += (v.x - this.x) * alpha;\n            this.y += (v.y - this.y) * alpha;\n            this.z += (v.z - this.z) * alpha;\n            this.w += (v.w - this.w) * alpha;\n            return this;\n        };\n\n        _proto.lerpVectors = function lerpVectors(v1, v2, alpha) {\n            this.x = v1.x + (v2.x - v1.x) * alpha;\n            this.y = v1.y + (v2.y - v1.y) * alpha;\n            this.z = v1.z + (v2.z - v1.z) * alpha;\n            this.w = v1.w + (v2.w - v1.w) * alpha;\n            return this;\n        };\n\n        _proto.equals = function equals(v) {\n            return v.x === this.x && v.y === this.y && v.z === this.z && v.w === this.w;\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            this.x = array[offset];\n            this.y = array[offset + 1];\n            this.z = array[offset + 2];\n            this.w = array[offset + 3];\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === void 0) {\n                array = [];\n            }\n\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            array[offset] = this.x;\n            array[offset + 1] = this.y;\n            array[offset + 2] = this.z;\n            array[offset + 3] = this.w;\n            return array;\n        };\n\n        _proto.fromBufferAttribute = function fromBufferAttribute(attribute, index, offset) {\n            if (offset !== undefined) {\n                console.warn('THREE.Vector4: offset has been removed from .fromBufferAttribute().');\n            }\n\n            this.x = attribute.getX(index);\n            this.y = attribute.getY(index);\n            this.z = attribute.getZ(index);\n            this.w = attribute.getW(index);\n            return this;\n        };\n\n        _proto.random = function random() {\n            this.x = Math.random();\n            this.y = Math.random();\n            this.z = Math.random();\n            this.w = Math.random();\n            return this;\n        };\n\n        _createClass(Vector4, [{\n            key: \"width\",\n            get: function get() {\n                return this.z;\n            },\n            set: function set(value) {\n                this.z = value;\n            }\n        }, {\n            key: \"height\",\n            get: function get() {\n                return this.w;\n            },\n            set: function set(value) {\n                this.w = value;\n            }\n        }]);\n\n        return Vector4;\n    }();\n\n    Vector4.prototype.isVector4 = true;\n\n    /*\n     In options, we can specify:\n     * Texture parameters for an auto-generated target texture\n     * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n    */\n\n    var WebGLRenderTarget = /*#__PURE__*/ function(_EventDispatcher) {\n        _inheritsLoose(WebGLRenderTarget, _EventDispatcher);\n\n        function WebGLRenderTarget(width, height, options) {\n            var _this;\n\n            _this = _EventDispatcher.call(this) || this;\n            _this.width = width;\n            _this.height = height;\n            _this.depth = 1;\n            _this.scissor = new Vector4(0, 0, width, height);\n            _this.scissorTest = false;\n            _this.viewport = new Vector4(0, 0, width, height);\n            options = options || {};\n            _this.texture = new Texture(undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);\n            _this.texture.image = {};\n            _this.texture.image.width = width;\n            _this.texture.image.height = height;\n            _this.texture.image.depth = 1;\n            _this.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n            _this.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n            _this.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n            _this.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n            _this.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n            return _this;\n        }\n\n        var _proto = WebGLRenderTarget.prototype;\n\n        _proto.setTexture = function setTexture(texture) {\n            texture.image = {\n                width: this.width,\n                height: this.height,\n                depth: this.depth\n            };\n            this.texture = texture;\n        };\n\n        _proto.setSize = function setSize(width, height, depth) {\n            if (depth === void 0) {\n                depth = 1;\n            }\n\n            if (this.width !== width || this.height !== height || this.depth !== depth) {\n                this.width = width;\n                this.height = height;\n                this.depth = depth;\n                this.texture.image.width = width;\n                this.texture.image.height = height;\n                this.texture.image.depth = depth;\n                this.dispose();\n            }\n\n            this.viewport.set(0, 0, width, height);\n            this.scissor.set(0, 0, width, height);\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(source) {\n            this.width = source.width;\n            this.height = source.height;\n            this.depth = source.depth;\n            this.viewport.copy(source.viewport);\n            this.texture = source.texture.clone();\n            this.depthBuffer = source.depthBuffer;\n            this.stencilBuffer = source.stencilBuffer;\n            this.depthTexture = source.depthTexture;\n            return this;\n        };\n\n        _proto.dispose = function dispose() {\n            this.dispatchEvent({\n                type: 'dispose'\n            });\n        };\n\n        return WebGLRenderTarget;\n    }(EventDispatcher);\n\n    WebGLRenderTarget.prototype.isWebGLRenderTarget = true;\n\n    var WebGLMultisampleRenderTarget = /*#__PURE__*/ function(_WebGLRenderTarget) {\n        _inheritsLoose(WebGLMultisampleRenderTarget, _WebGLRenderTarget);\n\n        function WebGLMultisampleRenderTarget(width, height, options) {\n            var _this;\n\n            _this = _WebGLRenderTarget.call(this, width, height, options) || this;\n            _this.samples = 4;\n            return _this;\n        }\n\n        var _proto = WebGLMultisampleRenderTarget.prototype;\n\n        _proto.copy = function copy(source) {\n            _WebGLRenderTarget.prototype.copy.call(this, source);\n\n            this.samples = source.samples;\n            return this;\n        };\n\n        return WebGLMultisampleRenderTarget;\n    }(WebGLRenderTarget);\n\n    WebGLMultisampleRenderTarget.prototype.isWebGLMultisampleRenderTarget = true;\n\n    var Quaternion = /*#__PURE__*/ function() {\n        function Quaternion(x, y, z, w) {\n            if (x === void 0) {\n                x = 0;\n            }\n\n            if (y === void 0) {\n                y = 0;\n            }\n\n            if (z === void 0) {\n                z = 0;\n            }\n\n            if (w === void 0) {\n                w = 1;\n            }\n\n            this._x = x;\n            this._y = y;\n            this._z = z;\n            this._w = w;\n        }\n\n        Quaternion.slerp = function slerp(qa, qb, qm, t) {\n            return qm.copy(qa).slerp(qb, t);\n        };\n\n        Quaternion.slerpFlat = function slerpFlat(dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t) {\n            // fuzz-free, array-based Quaternion SLERP operation\n            var x0 = src0[srcOffset0 + 0],\n                y0 = src0[srcOffset0 + 1],\n                z0 = src0[srcOffset0 + 2],\n                w0 = src0[srcOffset0 + 3];\n            var x1 = src1[srcOffset1 + 0],\n                y1 = src1[srcOffset1 + 1],\n                z1 = src1[srcOffset1 + 2],\n                w1 = src1[srcOffset1 + 3];\n\n            if (t === 0) {\n                dst[dstOffset + 0] = x0;\n                dst[dstOffset + 1] = y0;\n                dst[dstOffset + 2] = z0;\n                dst[dstOffset + 3] = w0;\n                return;\n            }\n\n            if (t === 1) {\n                dst[dstOffset + 0] = x1;\n                dst[dstOffset + 1] = y1;\n                dst[dstOffset + 2] = z1;\n                dst[dstOffset + 3] = w1;\n                return;\n            }\n\n            if (w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1) {\n                var s = 1 - t;\n                var cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n                    dir = cos >= 0 ? 1 : -1,\n                    sqrSin = 1 - cos * cos; // Skip the Slerp for tiny steps to avoid numeric problems:\n\n                if (sqrSin > Number.EPSILON) {\n                    var sin = Math.sqrt(sqrSin),\n                        len = Math.atan2(sin, cos * dir);\n                    s = Math.sin(s * len) / sin;\n                    t = Math.sin(t * len) / sin;\n                }\n\n                var tDir = t * dir;\n                x0 = x0 * s + x1 * tDir;\n                y0 = y0 * s + y1 * tDir;\n                z0 = z0 * s + z1 * tDir;\n                w0 = w0 * s + w1 * tDir; // Normalize in case we just did a lerp:\n\n                if (s === 1 - t) {\n                    var f = 1 / Math.sqrt(x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0);\n                    x0 *= f;\n                    y0 *= f;\n                    z0 *= f;\n                    w0 *= f;\n                }\n            }\n\n            dst[dstOffset] = x0;\n            dst[dstOffset + 1] = y0;\n            dst[dstOffset + 2] = z0;\n            dst[dstOffset + 3] = w0;\n        };\n\n        Quaternion.multiplyQuaternionsFlat = function multiplyQuaternionsFlat(dst, dstOffset, src0, srcOffset0, src1, srcOffset1) {\n            var x0 = src0[srcOffset0];\n            var y0 = src0[srcOffset0 + 1];\n            var z0 = src0[srcOffset0 + 2];\n            var w0 = src0[srcOffset0 + 3];\n            var x1 = src1[srcOffset1];\n            var y1 = src1[srcOffset1 + 1];\n            var z1 = src1[srcOffset1 + 2];\n            var w1 = src1[srcOffset1 + 3];\n            dst[dstOffset] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n            dst[dstOffset + 1] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n            dst[dstOffset + 2] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n            dst[dstOffset + 3] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n            return dst;\n        };\n\n        var _proto = Quaternion.prototype;\n\n        _proto.set = function set(x, y, z, w) {\n            this._x = x;\n            this._y = y;\n            this._z = z;\n            this._w = w;\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor(this._x, this._y, this._z, this._w);\n        };\n\n        _proto.copy = function copy(quaternion) {\n            this._x = quaternion.x;\n            this._y = quaternion.y;\n            this._z = quaternion.z;\n            this._w = quaternion.w;\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.setFromEuler = function setFromEuler(euler, update) {\n            if (!(euler && euler.isEuler)) {\n                throw new Error('THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.');\n            }\n\n            var x = euler._x,\n                y = euler._y,\n                z = euler._z,\n                order = euler._order; // http://www.mathworks.com/matlabcentral/fileexchange/\n            // \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n            //\tcontent/SpinCalc.m\n\n            var cos = Math.cos;\n            var sin = Math.sin;\n            var c1 = cos(x / 2);\n            var c2 = cos(y / 2);\n            var c3 = cos(z / 2);\n            var s1 = sin(x / 2);\n            var s2 = sin(y / 2);\n            var s3 = sin(z / 2);\n\n            switch (order) {\n                case 'XYZ':\n                    this._x = s1 * c2 * c3 + c1 * s2 * s3;\n                    this._y = c1 * s2 * c3 - s1 * c2 * s3;\n                    this._z = c1 * c2 * s3 + s1 * s2 * c3;\n                    this._w = c1 * c2 * c3 - s1 * s2 * s3;\n                    break;\n\n                case 'YXZ':\n                    this._x = s1 * c2 * c3 + c1 * s2 * s3;\n                    this._y = c1 * s2 * c3 - s1 * c2 * s3;\n                    this._z = c1 * c2 * s3 - s1 * s2 * c3;\n                    this._w = c1 * c2 * c3 + s1 * s2 * s3;\n                    break;\n\n                case 'ZXY':\n                    this._x = s1 * c2 * c3 - c1 * s2 * s3;\n                    this._y = c1 * s2 * c3 + s1 * c2 * s3;\n                    this._z = c1 * c2 * s3 + s1 * s2 * c3;\n                    this._w = c1 * c2 * c3 - s1 * s2 * s3;\n                    break;\n\n                case 'ZYX':\n                    this._x = s1 * c2 * c3 - c1 * s2 * s3;\n                    this._y = c1 * s2 * c3 + s1 * c2 * s3;\n                    this._z = c1 * c2 * s3 - s1 * s2 * c3;\n                    this._w = c1 * c2 * c3 + s1 * s2 * s3;\n                    break;\n\n                case 'YZX':\n                    this._x = s1 * c2 * c3 + c1 * s2 * s3;\n                    this._y = c1 * s2 * c3 + s1 * c2 * s3;\n                    this._z = c1 * c2 * s3 - s1 * s2 * c3;\n                    this._w = c1 * c2 * c3 - s1 * s2 * s3;\n                    break;\n\n                case 'XZY':\n                    this._x = s1 * c2 * c3 - c1 * s2 * s3;\n                    this._y = c1 * s2 * c3 - s1 * c2 * s3;\n                    this._z = c1 * c2 * s3 + s1 * s2 * c3;\n                    this._w = c1 * c2 * c3 + s1 * s2 * s3;\n                    break;\n\n                default:\n                    console.warn('THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order);\n            }\n\n            if (update !== false) this._onChangeCallback();\n            return this;\n        };\n\n        _proto.setFromAxisAngle = function setFromAxisAngle(axis, angle) {\n            // http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n            // assumes axis is normalized\n            var halfAngle = angle / 2,\n                s = Math.sin(halfAngle);\n            this._x = axis.x * s;\n            this._y = axis.y * s;\n            this._z = axis.z * s;\n            this._w = Math.cos(halfAngle);\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.setFromRotationMatrix = function setFromRotationMatrix(m) {\n            // http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n            // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n            var te = m.elements,\n                m11 = te[0],\n                m12 = te[4],\n                m13 = te[8],\n                m21 = te[1],\n                m22 = te[5],\n                m23 = te[9],\n                m31 = te[2],\n                m32 = te[6],\n                m33 = te[10],\n                trace = m11 + m22 + m33;\n\n            if (trace > 0) {\n                var s = 0.5 / Math.sqrt(trace + 1.0);\n                this._w = 0.25 / s;\n                this._x = (m32 - m23) * s;\n                this._y = (m13 - m31) * s;\n                this._z = (m21 - m12) * s;\n            } else if (m11 > m22 && m11 > m33) {\n                var _s = 2.0 * Math.sqrt(1.0 + m11 - m22 - m33);\n\n                this._w = (m32 - m23) / _s;\n                this._x = 0.25 * _s;\n                this._y = (m12 + m21) / _s;\n                this._z = (m13 + m31) / _s;\n            } else if (m22 > m33) {\n                var _s2 = 2.0 * Math.sqrt(1.0 + m22 - m11 - m33);\n\n                this._w = (m13 - m31) / _s2;\n                this._x = (m12 + m21) / _s2;\n                this._y = 0.25 * _s2;\n                this._z = (m23 + m32) / _s2;\n            } else {\n                var _s3 = 2.0 * Math.sqrt(1.0 + m33 - m11 - m22);\n\n                this._w = (m21 - m12) / _s3;\n                this._x = (m13 + m31) / _s3;\n                this._y = (m23 + m32) / _s3;\n                this._z = 0.25 * _s3;\n            }\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.setFromUnitVectors = function setFromUnitVectors(vFrom, vTo) {\n            // assumes direction vectors vFrom and vTo are normalized\n            var EPS = 0.000001;\n            var r = vFrom.dot(vTo) + 1;\n\n            if (r < EPS) {\n                r = 0;\n\n                if (Math.abs(vFrom.x) > Math.abs(vFrom.z)) {\n                    this._x = -vFrom.y;\n                    this._y = vFrom.x;\n                    this._z = 0;\n                    this._w = r;\n                } else {\n                    this._x = 0;\n                    this._y = -vFrom.z;\n                    this._z = vFrom.y;\n                    this._w = r;\n                }\n            } else {\n                // crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n                this._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n                this._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n                this._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n                this._w = r;\n            }\n\n            return this.normalize();\n        };\n\n        _proto.angleTo = function angleTo(q) {\n            return 2 * Math.acos(Math.abs(MathUtils.clamp(this.dot(q), -1, 1)));\n        };\n\n        _proto.rotateTowards = function rotateTowards(q, step) {\n            var angle = this.angleTo(q);\n            if (angle === 0) return this;\n            var t = Math.min(1, step / angle);\n            this.slerp(q, t);\n            return this;\n        };\n\n        _proto.identity = function identity() {\n            return this.set(0, 0, 0, 1);\n        };\n\n        _proto.invert = function invert() {\n            // quaternion is assumed to have unit length\n            return this.conjugate();\n        };\n\n        _proto.conjugate = function conjugate() {\n            this._x *= -1;\n            this._y *= -1;\n            this._z *= -1;\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.dot = function dot(v) {\n            return this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n        };\n\n        _proto.lengthSq = function lengthSq() {\n            return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n        };\n\n        _proto.length = function length() {\n            return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w);\n        };\n\n        _proto.normalize = function normalize() {\n            var l = this.length();\n\n            if (l === 0) {\n                this._x = 0;\n                this._y = 0;\n                this._z = 0;\n                this._w = 1;\n            } else {\n                l = 1 / l;\n                this._x = this._x * l;\n                this._y = this._y * l;\n                this._z = this._z * l;\n                this._w = this._w * l;\n            }\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.multiply = function multiply(q, p) {\n            if (p !== undefined) {\n                console.warn('THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.');\n                return this.multiplyQuaternions(q, p);\n            }\n\n            return this.multiplyQuaternions(this, q);\n        };\n\n        _proto.premultiply = function premultiply(q) {\n            return this.multiplyQuaternions(q, this);\n        };\n\n        _proto.multiplyQuaternions = function multiplyQuaternions(a, b) {\n            // from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n            var qax = a._x,\n                qay = a._y,\n                qaz = a._z,\n                qaw = a._w;\n            var qbx = b._x,\n                qby = b._y,\n                qbz = b._z,\n                qbw = b._w;\n            this._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n            this._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n            this._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n            this._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.slerp = function slerp(qb, t) {\n            if (t === 0) return this;\n            if (t === 1) return this.copy(qb);\n            var x = this._x,\n                y = this._y,\n                z = this._z,\n                w = this._w; // http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n            var cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n            if (cosHalfTheta < 0) {\n                this._w = -qb._w;\n                this._x = -qb._x;\n                this._y = -qb._y;\n                this._z = -qb._z;\n                cosHalfTheta = -cosHalfTheta;\n            } else {\n                this.copy(qb);\n            }\n\n            if (cosHalfTheta >= 1.0) {\n                this._w = w;\n                this._x = x;\n                this._y = y;\n                this._z = z;\n                return this;\n            }\n\n            var sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n            if (sqrSinHalfTheta <= Number.EPSILON) {\n                var s = 1 - t;\n                this._w = s * w + t * this._w;\n                this._x = s * x + t * this._x;\n                this._y = s * y + t * this._y;\n                this._z = s * z + t * this._z;\n                this.normalize();\n\n                this._onChangeCallback();\n\n                return this;\n            }\n\n            var sinHalfTheta = Math.sqrt(sqrSinHalfTheta);\n            var halfTheta = Math.atan2(sinHalfTheta, cosHalfTheta);\n            var ratioA = Math.sin((1 - t) * halfTheta) / sinHalfTheta,\n                ratioB = Math.sin(t * halfTheta) / sinHalfTheta;\n            this._w = w * ratioA + this._w * ratioB;\n            this._x = x * ratioA + this._x * ratioB;\n            this._y = y * ratioA + this._y * ratioB;\n            this._z = z * ratioA + this._z * ratioB;\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.equals = function equals(quaternion) {\n            return quaternion._x === this._x && quaternion._y === this._y && quaternion._z === this._z && quaternion._w === this._w;\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            this._x = array[offset];\n            this._y = array[offset + 1];\n            this._z = array[offset + 2];\n            this._w = array[offset + 3];\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === void 0) {\n                array = [];\n            }\n\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            array[offset] = this._x;\n            array[offset + 1] = this._y;\n            array[offset + 2] = this._z;\n            array[offset + 3] = this._w;\n            return array;\n        };\n\n        _proto.fromBufferAttribute = function fromBufferAttribute(attribute, index) {\n            this._x = attribute.getX(index);\n            this._y = attribute.getY(index);\n            this._z = attribute.getZ(index);\n            this._w = attribute.getW(index);\n            return this;\n        };\n\n        _proto._onChange = function _onChange(callback) {\n            this._onChangeCallback = callback;\n            return this;\n        };\n\n        _proto._onChangeCallback = function _onChangeCallback() {};\n\n        _createClass(Quaternion, [{\n            key: \"x\",\n            get: function get() {\n                return this._x;\n            },\n            set: function set(value) {\n                this._x = value;\n\n                this._onChangeCallback();\n            }\n        }, {\n            key: \"y\",\n            get: function get() {\n                return this._y;\n            },\n            set: function set(value) {\n                this._y = value;\n\n                this._onChangeCallback();\n            }\n        }, {\n            key: \"z\",\n            get: function get() {\n                return this._z;\n            },\n            set: function set(value) {\n                this._z = value;\n\n                this._onChangeCallback();\n            }\n        }, {\n            key: \"w\",\n            get: function get() {\n                return this._w;\n            },\n            set: function set(value) {\n                this._w = value;\n\n                this._onChangeCallback();\n            }\n        }]);\n\n        return Quaternion;\n    }();\n\n    Quaternion.prototype.isQuaternion = true;\n\n    var Vector3 = /*#__PURE__*/ function() {\n        function Vector3(x, y, z) {\n            if (x === void 0) {\n                x = 0;\n            }\n\n            if (y === void 0) {\n                y = 0;\n            }\n\n            if (z === void 0) {\n                z = 0;\n            }\n\n            this.x = x;\n            this.y = y;\n            this.z = z;\n        }\n\n        var _proto = Vector3.prototype;\n\n        _proto.set = function set(x, y, z) {\n            if (z === undefined) z = this.z; // sprite.scale.set(x,y)\n\n            this.x = x;\n            this.y = y;\n            this.z = z;\n            return this;\n        };\n\n        _proto.setScalar = function setScalar(scalar) {\n            this.x = scalar;\n            this.y = scalar;\n            this.z = scalar;\n            return this;\n        };\n\n        _proto.setX = function setX(x) {\n            this.x = x;\n            return this;\n        };\n\n        _proto.setY = function setY(y) {\n            this.y = y;\n            return this;\n        };\n\n        _proto.setZ = function setZ(z) {\n            this.z = z;\n            return this;\n        };\n\n        _proto.setComponent = function setComponent(index, value) {\n            switch (index) {\n                case 0:\n                    this.x = value;\n                    break;\n\n                case 1:\n                    this.y = value;\n                    break;\n\n                case 2:\n                    this.z = value;\n                    break;\n\n                default:\n                    throw new Error('index is out of range: ' + index);\n            }\n\n            return this;\n        };\n\n        _proto.getComponent = function getComponent(index) {\n            switch (index) {\n                case 0:\n                    return this.x;\n\n                case 1:\n                    return this.y;\n\n                case 2:\n                    return this.z;\n\n                default:\n                    throw new Error('index is out of range: ' + index);\n            }\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor(this.x, this.y, this.z);\n        };\n\n        _proto.copy = function copy(v) {\n            this.x = v.x;\n            this.y = v.y;\n            this.z = v.z;\n            return this;\n        };\n\n        _proto.add = function add(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.');\n                return this.addVectors(v, w);\n            }\n\n            this.x += v.x;\n            this.y += v.y;\n            this.z += v.z;\n            return this;\n        };\n\n        _proto.addScalar = function addScalar(s) {\n            this.x += s;\n            this.y += s;\n            this.z += s;\n            return this;\n        };\n\n        _proto.addVectors = function addVectors(a, b) {\n            this.x = a.x + b.x;\n            this.y = a.y + b.y;\n            this.z = a.z + b.z;\n            return this;\n        };\n\n        _proto.addScaledVector = function addScaledVector(v, s) {\n            this.x += v.x * s;\n            this.y += v.y * s;\n            this.z += v.z * s;\n            return this;\n        };\n\n        _proto.sub = function sub(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.');\n                return this.subVectors(v, w);\n            }\n\n            this.x -= v.x;\n            this.y -= v.y;\n            this.z -= v.z;\n            return this;\n        };\n\n        _proto.subScalar = function subScalar(s) {\n            this.x -= s;\n            this.y -= s;\n            this.z -= s;\n            return this;\n        };\n\n        _proto.subVectors = function subVectors(a, b) {\n            this.x = a.x - b.x;\n            this.y = a.y - b.y;\n            this.z = a.z - b.z;\n            return this;\n        };\n\n        _proto.multiply = function multiply(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.');\n                return this.multiplyVectors(v, w);\n            }\n\n            this.x *= v.x;\n            this.y *= v.y;\n            this.z *= v.z;\n            return this;\n        };\n\n        _proto.multiplyScalar = function multiplyScalar(scalar) {\n            this.x *= scalar;\n            this.y *= scalar;\n            this.z *= scalar;\n            return this;\n        };\n\n        _proto.multiplyVectors = function multiplyVectors(a, b) {\n            this.x = a.x * b.x;\n            this.y = a.y * b.y;\n            this.z = a.z * b.z;\n            return this;\n        };\n\n        _proto.applyEuler = function applyEuler(euler) {\n            if (!(euler && euler.isEuler)) {\n                console.error('THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.');\n            }\n\n            return this.applyQuaternion(_quaternion.setFromEuler(euler));\n        };\n\n        _proto.applyAxisAngle = function applyAxisAngle(axis, angle) {\n            return this.applyQuaternion(_quaternion.setFromAxisAngle(axis, angle));\n        };\n\n        _proto.applyMatrix3 = function applyMatrix3(m) {\n            var x = this.x,\n                y = this.y,\n                z = this.z;\n            var e = m.elements;\n            this.x = e[0] * x + e[3] * y + e[6] * z;\n            this.y = e[1] * x + e[4] * y + e[7] * z;\n            this.z = e[2] * x + e[5] * y + e[8] * z;\n            return this;\n        };\n\n        _proto.applyNormalMatrix = function applyNormalMatrix(m) {\n            return this.applyMatrix3(m).normalize();\n        };\n\n        _proto.applyMatrix4 = function applyMatrix4(m) {\n            var x = this.x,\n                y = this.y,\n                z = this.z;\n            var e = m.elements;\n            var w = 1 / (e[3] * x + e[7] * y + e[11] * z + e[15]);\n            this.x = (e[0] * x + e[4] * y + e[8] * z + e[12]) * w;\n            this.y = (e[1] * x + e[5] * y + e[9] * z + e[13]) * w;\n            this.z = (e[2] * x + e[6] * y + e[10] * z + e[14]) * w;\n            return this;\n        };\n\n        _proto.applyQuaternion = function applyQuaternion(q) {\n            var x = this.x,\n                y = this.y,\n                z = this.z;\n            var qx = q.x,\n                qy = q.y,\n                qz = q.z,\n                qw = q.w; // calculate quat * vector\n\n            var ix = qw * x + qy * z - qz * y;\n            var iy = qw * y + qz * x - qx * z;\n            var iz = qw * z + qx * y - qy * x;\n            var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n            this.x = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n            this.y = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n            this.z = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n            return this;\n        };\n\n        _proto.project = function project(camera) {\n            return this.applyMatrix4(camera.matrixWorldInverse).applyMatrix4(camera.projectionMatrix);\n        };\n\n        _proto.unproject = function unproject(camera) {\n            return this.applyMatrix4(camera.projectionMatrixInverse).applyMatrix4(camera.matrixWorld);\n        };\n\n        _proto.transformDirection = function transformDirection(m) {\n            // input: THREE.Matrix4 affine matrix\n            // vector interpreted as a direction\n            var x = this.x,\n                y = this.y,\n                z = this.z;\n            var e = m.elements;\n            this.x = e[0] * x + e[4] * y + e[8] * z;\n            this.y = e[1] * x + e[5] * y + e[9] * z;\n            this.z = e[2] * x + e[6] * y + e[10] * z;\n            return this.normalize();\n        };\n\n        _proto.divide = function divide(v) {\n            this.x /= v.x;\n            this.y /= v.y;\n            this.z /= v.z;\n            return this;\n        };\n\n        _proto.divideScalar = function divideScalar(scalar) {\n            return this.multiplyScalar(1 / scalar);\n        };\n\n        _proto.min = function min(v) {\n            this.x = Math.min(this.x, v.x);\n            this.y = Math.min(this.y, v.y);\n            this.z = Math.min(this.z, v.z);\n            return this;\n        };\n\n        _proto.max = function max(v) {\n            this.x = Math.max(this.x, v.x);\n            this.y = Math.max(this.y, v.y);\n            this.z = Math.max(this.z, v.z);\n            return this;\n        };\n\n        _proto.clamp = function clamp(min, max) {\n            // assumes min < max, componentwise\n            this.x = Math.max(min.x, Math.min(max.x, this.x));\n            this.y = Math.max(min.y, Math.min(max.y, this.y));\n            this.z = Math.max(min.z, Math.min(max.z, this.z));\n            return this;\n        };\n\n        _proto.clampScalar = function clampScalar(minVal, maxVal) {\n            this.x = Math.max(minVal, Math.min(maxVal, this.x));\n            this.y = Math.max(minVal, Math.min(maxVal, this.y));\n            this.z = Math.max(minVal, Math.min(maxVal, this.z));\n            return this;\n        };\n\n        _proto.clampLength = function clampLength(min, max) {\n            var length = this.length();\n            return this.divideScalar(length || 1).multiplyScalar(Math.max(min, Math.min(max, length)));\n        };\n\n        _proto.floor = function floor() {\n            this.x = Math.floor(this.x);\n            this.y = Math.floor(this.y);\n            this.z = Math.floor(this.z);\n            return this;\n        };\n\n        _proto.ceil = function ceil() {\n            this.x = Math.ceil(this.x);\n            this.y = Math.ceil(this.y);\n            this.z = Math.ceil(this.z);\n            return this;\n        };\n\n        _proto.round = function round() {\n            this.x = Math.round(this.x);\n            this.y = Math.round(this.y);\n            this.z = Math.round(this.z);\n            return this;\n        };\n\n        _proto.roundToZero = function roundToZero() {\n            this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x);\n            this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y);\n            this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z);\n            return this;\n        };\n\n        _proto.negate = function negate() {\n            this.x = -this.x;\n            this.y = -this.y;\n            this.z = -this.z;\n            return this;\n        };\n\n        _proto.dot = function dot(v) {\n                return this.x * v.x + this.y * v.y + this.z * v.z;\n            } // TODO lengthSquared?\n        ;\n\n        _proto.lengthSq = function lengthSq() {\n            return this.x * this.x + this.y * this.y + this.z * this.z;\n        };\n\n        _proto.length = function length() {\n            return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n        };\n\n        _proto.manhattanLength = function manhattanLength() {\n            return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z);\n        };\n\n        _proto.normalize = function normalize() {\n            return this.divideScalar(this.length() || 1);\n        };\n\n        _proto.setLength = function setLength(length) {\n            return this.normalize().multiplyScalar(length);\n        };\n\n        _proto.lerp = function lerp(v, alpha) {\n            this.x += (v.x - this.x) * alpha;\n            this.y += (v.y - this.y) * alpha;\n            this.z += (v.z - this.z) * alpha;\n            return this;\n        };\n\n        _proto.lerpVectors = function lerpVectors(v1, v2, alpha) {\n            this.x = v1.x + (v2.x - v1.x) * alpha;\n            this.y = v1.y + (v2.y - v1.y) * alpha;\n            this.z = v1.z + (v2.z - v1.z) * alpha;\n            return this;\n        };\n\n        _proto.cross = function cross(v, w) {\n            if (w !== undefined) {\n                console.warn('THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.');\n                return this.crossVectors(v, w);\n            }\n\n            return this.crossVectors(this, v);\n        };\n\n        _proto.crossVectors = function crossVectors(a, b) {\n            var ax = a.x,\n                ay = a.y,\n                az = a.z;\n            var bx = b.x,\n                by = b.y,\n                bz = b.z;\n            this.x = ay * bz - az * by;\n            this.y = az * bx - ax * bz;\n            this.z = ax * by - ay * bx;\n            return this;\n        };\n\n        _proto.projectOnVector = function projectOnVector(v) {\n            var denominator = v.lengthSq();\n            if (denominator === 0) return this.set(0, 0, 0);\n            var scalar = v.dot(this) / denominator;\n            return this.copy(v).multiplyScalar(scalar);\n        };\n\n        _proto.projectOnPlane = function projectOnPlane(planeNormal) {\n            _vector.copy(this).projectOnVector(planeNormal);\n\n            return this.sub(_vector);\n        };\n\n        _proto.reflect = function reflect(normal) {\n            // reflect incident vector off plane orthogonal to normal\n            // normal is assumed to have unit length\n            return this.sub(_vector.copy(normal).multiplyScalar(2 * this.dot(normal)));\n        };\n\n        _proto.angleTo = function angleTo(v) {\n            var denominator = Math.sqrt(this.lengthSq() * v.lengthSq());\n            if (denominator === 0) return Math.PI / 2;\n            var theta = this.dot(v) / denominator; // clamp, to handle numerical problems\n\n            return Math.acos(MathUtils.clamp(theta, -1, 1));\n        };\n\n        _proto.distanceTo = function distanceTo(v) {\n            return Math.sqrt(this.distanceToSquared(v));\n        };\n\n        _proto.distanceToSquared = function distanceToSquared(v) {\n            var dx = this.x - v.x,\n                dy = this.y - v.y,\n                dz = this.z - v.z;\n            return dx * dx + dy * dy + dz * dz;\n        };\n\n        _proto.manhattanDistanceTo = function manhattanDistanceTo(v) {\n            return Math.abs(this.x - v.x) + Math.abs(this.y - v.y) + Math.abs(this.z - v.z);\n        };\n\n        _proto.setFromSpherical = function setFromSpherical(s) {\n            return this.setFromSphericalCoords(s.radius, s.phi, s.theta);\n        };\n\n        _proto.setFromSphericalCoords = function setFromSphericalCoords(radius, phi, theta) {\n            var sinPhiRadius = Math.sin(phi) * radius;\n            this.x = sinPhiRadius * Math.sin(theta);\n            this.y = Math.cos(phi) * radius;\n            this.z = sinPhiRadius * Math.cos(theta);\n            return this;\n        };\n\n        _proto.setFromCylindrical = function setFromCylindrical(c) {\n            return this.setFromCylindricalCoords(c.radius, c.theta, c.y);\n        };\n\n        _proto.setFromCylindricalCoords = function setFromCylindricalCoords(radius, theta, y) {\n            this.x = radius * Math.sin(theta);\n            this.y = y;\n            this.z = radius * Math.cos(theta);\n            return this;\n        };\n\n        _proto.setFromMatrixPosition = function setFromMatrixPosition(m) {\n            var e = m.elements;\n            this.x = e[12];\n            this.y = e[13];\n            this.z = e[14];\n            return this;\n        };\n\n        _proto.setFromMatrixScale = function setFromMatrixScale(m) {\n            var sx = this.setFromMatrixColumn(m, 0).length();\n            var sy = this.setFromMatrixColumn(m, 1).length();\n            var sz = this.setFromMatrixColumn(m, 2).length();\n            this.x = sx;\n            this.y = sy;\n            this.z = sz;\n            return this;\n        };\n\n        _proto.setFromMatrixColumn = function setFromMatrixColumn(m, index) {\n            return this.fromArray(m.elements, index * 4);\n        };\n\n        _proto.setFromMatrix3Column = function setFromMatrix3Column(m, index) {\n            return this.fromArray(m.elements, index * 3);\n        };\n\n        _proto.equals = function equals(v) {\n            return v.x === this.x && v.y === this.y && v.z === this.z;\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            this.x = array[offset];\n            this.y = array[offset + 1];\n            this.z = array[offset + 2];\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === void 0) {\n                array = [];\n            }\n\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            array[offset] = this.x;\n            array[offset + 1] = this.y;\n            array[offset + 2] = this.z;\n            return array;\n        };\n\n        _proto.fromBufferAttribute = function fromBufferAttribute(attribute, index, offset) {\n            if (offset !== undefined) {\n                console.warn('THREE.Vector3: offset has been removed from .fromBufferAttribute().');\n            }\n\n            this.x = attribute.getX(index);\n            this.y = attribute.getY(index);\n            this.z = attribute.getZ(index);\n            return this;\n        };\n\n        _proto.random = function random() {\n            this.x = Math.random();\n            this.y = Math.random();\n            this.z = Math.random();\n            return this;\n        };\n\n        return Vector3;\n    }();\n\n    Vector3.prototype.isVector3 = true;\n\n    var _vector = /*@__PURE__*/ new Vector3();\n\n    var _quaternion = /*@__PURE__*/ new Quaternion();\n\n    var Box3 = /*#__PURE__*/ function() {\n        function Box3(min, max) {\n            if (min === void 0) {\n                min = new Vector3(+Infinity, +Infinity, +Infinity);\n            }\n\n            if (max === void 0) {\n                max = new Vector3(-Infinity, -Infinity, -Infinity);\n            }\n\n            this.min = min;\n            this.max = max;\n        }\n\n        var _proto = Box3.prototype;\n\n        _proto.set = function set(min, max) {\n            this.min.copy(min);\n            this.max.copy(max);\n            return this;\n        };\n\n        _proto.setFromArray = function setFromArray(array) {\n            var minX = +Infinity;\n            var minY = +Infinity;\n            var minZ = +Infinity;\n            var maxX = -Infinity;\n            var maxY = -Infinity;\n            var maxZ = -Infinity;\n\n            for (var i = 0, l = array.length; i < l; i += 3) {\n                var x = array[i];\n                var y = array[i + 1];\n                var z = array[i + 2];\n                if (x < minX) minX = x;\n                if (y < minY) minY = y;\n                if (z < minZ) minZ = z;\n                if (x > maxX) maxX = x;\n                if (y > maxY) maxY = y;\n                if (z > maxZ) maxZ = z;\n            }\n\n            this.min.set(minX, minY, minZ);\n            this.max.set(maxX, maxY, maxZ);\n            return this;\n        };\n\n        _proto.setFromBufferAttribute = function setFromBufferAttribute(attribute) {\n            var minX = +Infinity;\n            var minY = +Infinity;\n            var minZ = +Infinity;\n            var maxX = -Infinity;\n            var maxY = -Infinity;\n            var maxZ = -Infinity;\n\n            for (var i = 0, l = attribute.count; i < l; i++) {\n                var x = attribute.getX(i);\n                var y = attribute.getY(i);\n                var z = attribute.getZ(i);\n                if (x < minX) minX = x;\n                if (y < minY) minY = y;\n                if (z < minZ) minZ = z;\n                if (x > maxX) maxX = x;\n                if (y > maxY) maxY = y;\n                if (z > maxZ) maxZ = z;\n            }\n\n            this.min.set(minX, minY, minZ);\n            this.max.set(maxX, maxY, maxZ);\n            return this;\n        };\n\n        _proto.setFromPoints = function setFromPoints(points) {\n            this.makeEmpty();\n\n            for (var i = 0, il = points.length; i < il; i++) {\n                this.expandByPoint(points[i]);\n            }\n\n            return this;\n        };\n\n        _proto.setFromCenterAndSize = function setFromCenterAndSize(center, size) {\n            var halfSize = _vector$1.copy(size).multiplyScalar(0.5);\n\n            this.min.copy(center).sub(halfSize);\n            this.max.copy(center).add(halfSize);\n            return this;\n        };\n\n        _proto.setFromObject = function setFromObject(object) {\n            this.makeEmpty();\n            return this.expandByObject(object);\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(box) {\n            this.min.copy(box.min);\n            this.max.copy(box.max);\n            return this;\n        };\n\n        _proto.makeEmpty = function makeEmpty() {\n            this.min.x = this.min.y = this.min.z = +Infinity;\n            this.max.x = this.max.y = this.max.z = -Infinity;\n            return this;\n        };\n\n        _proto.isEmpty = function isEmpty() {\n            // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n            return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z;\n        };\n\n        _proto.getCenter = function getCenter(target) {\n            if (target === undefined) {\n                console.warn('THREE.Box3: .getCenter() target is now required');\n                target = new Vector3();\n            }\n\n            return this.isEmpty() ? target.set(0, 0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);\n        };\n\n        _proto.getSize = function getSize(target) {\n            if (target === undefined) {\n                console.warn('THREE.Box3: .getSize() target is now required');\n                target = new Vector3();\n            }\n\n            return this.isEmpty() ? target.set(0, 0, 0) : target.subVectors(this.max, this.min);\n        };\n\n        _proto.expandByPoint = function expandByPoint(point) {\n            this.min.min(point);\n            this.max.max(point);\n            return this;\n        };\n\n        _proto.expandByVector = function expandByVector(vector) {\n            this.min.sub(vector);\n            this.max.add(vector);\n            return this;\n        };\n\n        _proto.expandByScalar = function expandByScalar(scalar) {\n            this.min.addScalar(-scalar);\n            this.max.addScalar(scalar);\n            return this;\n        };\n\n        _proto.expandByObject = function expandByObject(object) {\n            // Computes the world-axis-aligned bounding box of an object (including its children),\n            // accounting for both the object's, and children's, world transforms\n            object.updateWorldMatrix(false, false);\n            var geometry = object.geometry;\n\n            if (geometry !== undefined) {\n                if (geometry.boundingBox === null) {\n                    geometry.computeBoundingBox();\n                }\n\n                _box.copy(geometry.boundingBox);\n\n                _box.applyMatrix4(object.matrixWorld);\n\n                this.union(_box);\n            }\n\n            var children = object.children;\n\n            for (var i = 0, l = children.length; i < l; i++) {\n                this.expandByObject(children[i]);\n            }\n\n            return this;\n        };\n\n        _proto.containsPoint = function containsPoint(point) {\n            return point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y || point.z < this.min.z || point.z > this.max.z ? false : true;\n        };\n\n        _proto.containsBox = function containsBox(box) {\n            return this.min.x <= box.min.x && box.max.x <= this.max.x && this.min.y <= box.min.y && box.max.y <= this.max.y && this.min.z <= box.min.z && box.max.z <= this.max.z;\n        };\n\n        _proto.getParameter = function getParameter(point, target) {\n            // This can potentially have a divide by zero if the box\n            // has a size dimension of 0.\n            if (target === undefined) {\n                console.warn('THREE.Box3: .getParameter() target is now required');\n                target = new Vector3();\n            }\n\n            return target.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y), (point.z - this.min.z) / (this.max.z - this.min.z));\n        };\n\n        _proto.intersectsBox = function intersectsBox(box) {\n            // using 6 splitting planes to rule out intersections.\n            return box.max.x < this.min.x || box.min.x > this.max.x || box.max.y < this.min.y || box.min.y > this.max.y || box.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n        };\n\n        _proto.intersectsSphere = function intersectsSphere(sphere) {\n            // Find the point on the AABB closest to the sphere center.\n            this.clampPoint(sphere.center, _vector$1); // If that point is inside the sphere, the AABB and sphere intersect.\n\n            return _vector$1.distanceToSquared(sphere.center) <= sphere.radius * sphere.radius;\n        };\n\n        _proto.intersectsPlane = function intersectsPlane(plane) {\n            // We compute the minimum and maximum dot product values. If those values\n            // are on the same side (back or front) of the plane, then there is no intersection.\n            var min, max;\n\n            if (plane.normal.x > 0) {\n                min = plane.normal.x * this.min.x;\n                max = plane.normal.x * this.max.x;\n            } else {\n                min = plane.normal.x * this.max.x;\n                max = plane.normal.x * this.min.x;\n            }\n\n            if (plane.normal.y > 0) {\n                min += plane.normal.y * this.min.y;\n                max += plane.normal.y * this.max.y;\n            } else {\n                min += plane.normal.y * this.max.y;\n                max += plane.normal.y * this.min.y;\n            }\n\n            if (plane.normal.z > 0) {\n                min += plane.normal.z * this.min.z;\n                max += plane.normal.z * this.max.z;\n            } else {\n                min += plane.normal.z * this.max.z;\n                max += plane.normal.z * this.min.z;\n            }\n\n            return min <= -plane.constant && max >= -plane.constant;\n        };\n\n        _proto.intersectsTriangle = function intersectsTriangle(triangle) {\n            if (this.isEmpty()) {\n                return false;\n            } // compute box center and extents\n\n\n            this.getCenter(_center);\n\n            _extents.subVectors(this.max, _center); // translate triangle to aabb origin\n\n\n            _v0.subVectors(triangle.a, _center);\n\n            _v1.subVectors(triangle.b, _center);\n\n            _v2.subVectors(triangle.c, _center); // compute edge vectors for triangle\n\n\n            _f0.subVectors(_v1, _v0);\n\n            _f1.subVectors(_v2, _v1);\n\n            _f2.subVectors(_v0, _v2); // test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n            // make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n            // axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\n\n            var axes = [0, -_f0.z, _f0.y, 0, -_f1.z, _f1.y, 0, -_f2.z, _f2.y, _f0.z, 0, -_f0.x, _f1.z, 0, -_f1.x, _f2.z, 0, -_f2.x, -_f0.y, _f0.x, 0, -_f1.y, _f1.x, 0, -_f2.y, _f2.x, 0];\n\n            if (!satForAxes(axes, _v0, _v1, _v2, _extents)) {\n                return false;\n            } // test 3 face normals from the aabb\n\n\n            axes = [1, 0, 0, 0, 1, 0, 0, 0, 1];\n\n            if (!satForAxes(axes, _v0, _v1, _v2, _extents)) {\n                return false;\n            } // finally testing the face normal of the triangle\n            // use already existing triangle edge vectors here\n\n\n            _triangleNormal.crossVectors(_f0, _f1);\n\n            axes = [_triangleNormal.x, _triangleNormal.y, _triangleNormal.z];\n            return satForAxes(axes, _v0, _v1, _v2, _extents);\n        };\n\n        _proto.clampPoint = function clampPoint(point, target) {\n            if (target === undefined) {\n                console.warn('THREE.Box3: .clampPoint() target is now required');\n                target = new Vector3();\n            }\n\n            return target.copy(point).clamp(this.min, this.max);\n        };\n\n        _proto.distanceToPoint = function distanceToPoint(point) {\n            var clampedPoint = _vector$1.copy(point).clamp(this.min, this.max);\n\n            return clampedPoint.sub(point).length();\n        };\n\n        _proto.getBoundingSphere = function getBoundingSphere(target) {\n            if (target === undefined) {\n                console.error('THREE.Box3: .getBoundingSphere() target is now required'); //target = new Sphere(); // removed to avoid cyclic dependency\n            }\n\n            this.getCenter(target.center);\n            target.radius = this.getSize(_vector$1).length() * 0.5;\n            return target;\n        };\n\n        _proto.intersect = function intersect(box) {\n            this.min.max(box.min);\n            this.max.min(box.max); // ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\n            if (this.isEmpty()) this.makeEmpty();\n            return this;\n        };\n\n        _proto.union = function union(box) {\n            this.min.min(box.min);\n            this.max.max(box.max);\n            return this;\n        };\n\n        _proto.applyMatrix4 = function applyMatrix4(matrix) {\n            // transform of empty box is an empty box.\n            if (this.isEmpty()) return this; // NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\n            _points[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(matrix); // 000\n\n\n            _points[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(matrix); // 001\n\n\n            _points[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(matrix); // 010\n\n\n            _points[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(matrix); // 011\n\n\n            _points[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(matrix); // 100\n\n\n            _points[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(matrix); // 101\n\n\n            _points[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(matrix); // 110\n\n\n            _points[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(matrix); // 111\n\n\n            this.setFromPoints(_points);\n            return this;\n        };\n\n        _proto.translate = function translate(offset) {\n            this.min.add(offset);\n            this.max.add(offset);\n            return this;\n        };\n\n        _proto.equals = function equals(box) {\n            return box.min.equals(this.min) && box.max.equals(this.max);\n        };\n\n        return Box3;\n    }();\n\n    Box3.prototype.isBox3 = true;\n    var _points = [ /*@__PURE__*/ new Vector3(), /*@__PURE__*/ new Vector3(), /*@__PURE__*/ new Vector3(), /*@__PURE__*/ new Vector3(), /*@__PURE__*/ new Vector3(), /*@__PURE__*/ new Vector3(), /*@__PURE__*/ new Vector3(), /*@__PURE__*/ new Vector3()];\n\n    var _vector$1 = /*@__PURE__*/ new Vector3();\n\n    var _box = /*@__PURE__*/ new Box3(); // triangle centered vertices\n\n\n    var _v0 = /*@__PURE__*/ new Vector3();\n\n    var _v1 = /*@__PURE__*/ new Vector3();\n\n    var _v2 = /*@__PURE__*/ new Vector3(); // triangle edge vectors\n\n\n    var _f0 = /*@__PURE__*/ new Vector3();\n\n    var _f1 = /*@__PURE__*/ new Vector3();\n\n    var _f2 = /*@__PURE__*/ new Vector3();\n\n    var _center = /*@__PURE__*/ new Vector3();\n\n    var _extents = /*@__PURE__*/ new Vector3();\n\n    var _triangleNormal = /*@__PURE__*/ new Vector3();\n\n    var _testAxis = /*@__PURE__*/ new Vector3();\n\n    function satForAxes(axes, v0, v1, v2, extents) {\n        for (var i = 0, j = axes.length - 3; i <= j; i += 3) {\n            _testAxis.fromArray(axes, i); // project the aabb onto the seperating axis\n\n\n            var r = extents.x * Math.abs(_testAxis.x) + extents.y * Math.abs(_testAxis.y) + extents.z * Math.abs(_testAxis.z); // project all 3 vertices of the triangle onto the seperating axis\n\n            var p0 = v0.dot(_testAxis);\n            var p1 = v1.dot(_testAxis);\n            var p2 = v2.dot(_testAxis); // actual test, basically see if either of the most extreme of the triangle points intersects r\n\n            if (Math.max(-Math.max(p0, p1, p2), Math.min(p0, p1, p2)) > r) {\n                // points of the projected triangle are outside the projected half-length of the aabb\n                // the axis is seperating and we can exit\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    var _box$1 = /*@__PURE__*/ new Box3();\n\n    var Sphere = /*#__PURE__*/ function() {\n        function Sphere(center, radius) {\n            if (center === void 0) {\n                center = new Vector3();\n            }\n\n            if (radius === void 0) {\n                radius = -1;\n            }\n\n            this.center = center;\n            this.radius = radius;\n        }\n\n        var _proto = Sphere.prototype;\n\n        _proto.set = function set(center, radius) {\n            this.center.copy(center);\n            this.radius = radius;\n            return this;\n        };\n\n        _proto.setFromPoints = function setFromPoints(points, optionalCenter) {\n            var center = this.center;\n\n            if (optionalCenter !== undefined) {\n                center.copy(optionalCenter);\n            } else {\n                _box$1.setFromPoints(points).getCenter(center);\n            }\n\n            var maxRadiusSq = 0;\n\n            for (var i = 0, il = points.length; i < il; i++) {\n                maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(points[i]));\n            }\n\n            this.radius = Math.sqrt(maxRadiusSq);\n            return this;\n        };\n\n        _proto.copy = function copy(sphere) {\n            this.center.copy(sphere.center);\n            this.radius = sphere.radius;\n            return this;\n        };\n\n        _proto.isEmpty = function isEmpty() {\n            return this.radius < 0;\n        };\n\n        _proto.makeEmpty = function makeEmpty() {\n            this.center.set(0, 0, 0);\n            this.radius = -1;\n            return this;\n        };\n\n        _proto.containsPoint = function containsPoint(point) {\n            return point.distanceToSquared(this.center) <= this.radius * this.radius;\n        };\n\n        _proto.distanceToPoint = function distanceToPoint(point) {\n            return point.distanceTo(this.center) - this.radius;\n        };\n\n        _proto.intersectsSphere = function intersectsSphere(sphere) {\n            var radiusSum = this.radius + sphere.radius;\n            return sphere.center.distanceToSquared(this.center) <= radiusSum * radiusSum;\n        };\n\n        _proto.intersectsBox = function intersectsBox(box) {\n            return box.intersectsSphere(this);\n        };\n\n        _proto.intersectsPlane = function intersectsPlane(plane) {\n            return Math.abs(plane.distanceToPoint(this.center)) <= this.radius;\n        };\n\n        _proto.clampPoint = function clampPoint(point, target) {\n            var deltaLengthSq = this.center.distanceToSquared(point);\n\n            if (target === undefined) {\n                console.warn('THREE.Sphere: .clampPoint() target is now required');\n                target = new Vector3();\n            }\n\n            target.copy(point);\n\n            if (deltaLengthSq > this.radius * this.radius) {\n                target.sub(this.center).normalize();\n                target.multiplyScalar(this.radius).add(this.center);\n            }\n\n            return target;\n        };\n\n        _proto.getBoundingBox = function getBoundingBox(target) {\n            if (target === undefined) {\n                console.warn('THREE.Sphere: .getBoundingBox() target is now required');\n                target = new Box3();\n            }\n\n            if (this.isEmpty()) {\n                // Empty sphere produces empty bounding box\n                target.makeEmpty();\n                return target;\n            }\n\n            target.set(this.center, this.center);\n            target.expandByScalar(this.radius);\n            return target;\n        };\n\n        _proto.applyMatrix4 = function applyMatrix4(matrix) {\n            this.center.applyMatrix4(matrix);\n            this.radius = this.radius * matrix.getMaxScaleOnAxis();\n            return this;\n        };\n\n        _proto.translate = function translate(offset) {\n            this.center.add(offset);\n            return this;\n        };\n\n        _proto.equals = function equals(sphere) {\n            return sphere.center.equals(this.center) && sphere.radius === this.radius;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        return Sphere;\n    }();\n\n    var _vector$2 = /*@__PURE__*/ new Vector3();\n\n    var _segCenter = /*@__PURE__*/ new Vector3();\n\n    var _segDir = /*@__PURE__*/ new Vector3();\n\n    var _diff = /*@__PURE__*/ new Vector3();\n\n    var _edge1 = /*@__PURE__*/ new Vector3();\n\n    var _edge2 = /*@__PURE__*/ new Vector3();\n\n    var _normal = /*@__PURE__*/ new Vector3();\n\n    var Ray = /*#__PURE__*/ function() {\n        function Ray(origin, direction) {\n            if (origin === void 0) {\n                origin = new Vector3();\n            }\n\n            if (direction === void 0) {\n                direction = new Vector3(0, 0, -1);\n            }\n\n            this.origin = origin;\n            this.direction = direction;\n        }\n\n        var _proto = Ray.prototype;\n\n        _proto.set = function set(origin, direction) {\n            this.origin.copy(origin);\n            this.direction.copy(direction);\n            return this;\n        };\n\n        _proto.copy = function copy(ray) {\n            this.origin.copy(ray.origin);\n            this.direction.copy(ray.direction);\n            return this;\n        };\n\n        _proto.at = function at(t, target) {\n            if (target === undefined) {\n                console.warn('THREE.Ray: .at() target is now required');\n                target = new Vector3();\n            }\n\n            return target.copy(this.direction).multiplyScalar(t).add(this.origin);\n        };\n\n        _proto.lookAt = function lookAt(v) {\n            this.direction.copy(v).sub(this.origin).normalize();\n            return this;\n        };\n\n        _proto.recast = function recast(t) {\n            this.origin.copy(this.at(t, _vector$2));\n            return this;\n        };\n\n        _proto.closestPointToPoint = function closestPointToPoint(point, target) {\n            if (target === undefined) {\n                console.warn('THREE.Ray: .closestPointToPoint() target is now required');\n                target = new Vector3();\n            }\n\n            target.subVectors(point, this.origin);\n            var directionDistance = target.dot(this.direction);\n\n            if (directionDistance < 0) {\n                return target.copy(this.origin);\n            }\n\n            return target.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n        };\n\n        _proto.distanceToPoint = function distanceToPoint(point) {\n            return Math.sqrt(this.distanceSqToPoint(point));\n        };\n\n        _proto.distanceSqToPoint = function distanceSqToPoint(point) {\n            var directionDistance = _vector$2.subVectors(point, this.origin).dot(this.direction); // point behind the ray\n\n\n            if (directionDistance < 0) {\n                return this.origin.distanceToSquared(point);\n            }\n\n            _vector$2.copy(this.direction).multiplyScalar(directionDistance).add(this.origin);\n\n            return _vector$2.distanceToSquared(point);\n        };\n\n        _proto.distanceSqToSegment = function distanceSqToSegment(v0, v1, optionalPointOnRay, optionalPointOnSegment) {\n            // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n            // It returns the min distance between the ray and the segment\n            // defined by v0 and v1\n            // It can also set two optional targets :\n            // - The closest point on the ray\n            // - The closest point on the segment\n            _segCenter.copy(v0).add(v1).multiplyScalar(0.5);\n\n            _segDir.copy(v1).sub(v0).normalize();\n\n            _diff.copy(this.origin).sub(_segCenter);\n\n            var segExtent = v0.distanceTo(v1) * 0.5;\n            var a01 = -this.direction.dot(_segDir);\n\n            var b0 = _diff.dot(this.direction);\n\n            var b1 = -_diff.dot(_segDir);\n\n            var c = _diff.lengthSq();\n\n            var det = Math.abs(1 - a01 * a01);\n            var s0, s1, sqrDist, extDet;\n\n            if (det > 0) {\n                // The ray and segment are not parallel.\n                s0 = a01 * b1 - b0;\n                s1 = a01 * b0 - b1;\n                extDet = segExtent * det;\n\n                if (s0 >= 0) {\n                    if (s1 >= -extDet) {\n                        if (s1 <= extDet) {\n                            // region 0\n                            // Minimum at interior points of ray and segment.\n                            var invDet = 1 / det;\n                            s0 *= invDet;\n                            s1 *= invDet;\n                            sqrDist = s0 * (s0 + a01 * s1 + 2 * b0) + s1 * (a01 * s0 + s1 + 2 * b1) + c;\n                        } else {\n                            // region 1\n                            s1 = segExtent;\n                            s0 = Math.max(0, -(a01 * s1 + b0));\n                            sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n                        }\n                    } else {\n                        // region 5\n                        s1 = -segExtent;\n                        s0 = Math.max(0, -(a01 * s1 + b0));\n                        sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n                    }\n                } else {\n                    if (s1 <= -extDet) {\n                        // region 4\n                        s0 = Math.max(0, -(-a01 * segExtent + b0));\n                        s1 = s0 > 0 ? -segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);\n                        sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n                    } else if (s1 <= extDet) {\n                        // region 3\n                        s0 = 0;\n                        s1 = Math.min(Math.max(-segExtent, -b1), segExtent);\n                        sqrDist = s1 * (s1 + 2 * b1) + c;\n                    } else {\n                        // region 2\n                        s0 = Math.max(0, -(a01 * segExtent + b0));\n                        s1 = s0 > 0 ? segExtent : Math.min(Math.max(-segExtent, -b1), segExtent);\n                        sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n                    }\n                }\n            } else {\n                // Ray and segment are parallel.\n                s1 = a01 > 0 ? -segExtent : segExtent;\n                s0 = Math.max(0, -(a01 * s1 + b0));\n                sqrDist = -s0 * s0 + s1 * (s1 + 2 * b1) + c;\n            }\n\n            if (optionalPointOnRay) {\n                optionalPointOnRay.copy(this.direction).multiplyScalar(s0).add(this.origin);\n            }\n\n            if (optionalPointOnSegment) {\n                optionalPointOnSegment.copy(_segDir).multiplyScalar(s1).add(_segCenter);\n            }\n\n            return sqrDist;\n        };\n\n        _proto.intersectSphere = function intersectSphere(sphere, target) {\n            _vector$2.subVectors(sphere.center, this.origin);\n\n            var tca = _vector$2.dot(this.direction);\n\n            var d2 = _vector$2.dot(_vector$2) - tca * tca;\n            var radius2 = sphere.radius * sphere.radius;\n            if (d2 > radius2) return null;\n            var thc = Math.sqrt(radius2 - d2); // t0 = first intersect point - entrance on front of sphere\n\n            var t0 = tca - thc; // t1 = second intersect point - exit point on back of sphere\n\n            var t1 = tca + thc; // test to see if both t0 and t1 are behind the ray - if so, return null\n\n            if (t0 < 0 && t1 < 0) return null; // test to see if t0 is behind the ray:\n            // if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n            // in order to always return an intersect point that is in front of the ray.\n\n            if (t0 < 0) return this.at(t1, target); // else t0 is in front of the ray, so return the first collision point scaled by t0\n\n            return this.at(t0, target);\n        };\n\n        _proto.intersectsSphere = function intersectsSphere(sphere) {\n            return this.distanceSqToPoint(sphere.center) <= sphere.radius * sphere.radius;\n        };\n\n        _proto.distanceToPlane = function distanceToPlane(plane) {\n            var denominator = plane.normal.dot(this.direction);\n\n            if (denominator === 0) {\n                // line is coplanar, return origin\n                if (plane.distanceToPoint(this.origin) === 0) {\n                    return 0;\n                } // Null is preferable to undefined since undefined means.... it is undefined\n\n\n                return null;\n            }\n\n            var t = -(this.origin.dot(plane.normal) + plane.constant) / denominator; // Return if the ray never intersects the plane\n\n            return t >= 0 ? t : null;\n        };\n\n        _proto.intersectPlane = function intersectPlane(plane, target) {\n            var t = this.distanceToPlane(plane);\n\n            if (t === null) {\n                return null;\n            }\n\n            return this.at(t, target);\n        };\n\n        _proto.intersectsPlane = function intersectsPlane(plane) {\n            // check if the ray lies on the plane first\n            var distToPoint = plane.distanceToPoint(this.origin);\n\n            if (distToPoint === 0) {\n                return true;\n            }\n\n            var denominator = plane.normal.dot(this.direction);\n\n            if (denominator * distToPoint < 0) {\n                return true;\n            } // ray origin is behind the plane (and is pointing behind it)\n\n\n            return false;\n        };\n\n        _proto.intersectBox = function intersectBox(box, target) {\n            var tmin, tmax, tymin, tymax, tzmin, tzmax;\n            var invdirx = 1 / this.direction.x,\n                invdiry = 1 / this.direction.y,\n                invdirz = 1 / this.direction.z;\n            var origin = this.origin;\n\n            if (invdirx >= 0) {\n                tmin = (box.min.x - origin.x) * invdirx;\n                tmax = (box.max.x - origin.x) * invdirx;\n            } else {\n                tmin = (box.max.x - origin.x) * invdirx;\n                tmax = (box.min.x - origin.x) * invdirx;\n            }\n\n            if (invdiry >= 0) {\n                tymin = (box.min.y - origin.y) * invdiry;\n                tymax = (box.max.y - origin.y) * invdiry;\n            } else {\n                tymin = (box.max.y - origin.y) * invdiry;\n                tymax = (box.min.y - origin.y) * invdiry;\n            }\n\n            if (tmin > tymax || tymin > tmax) return null; // These lines also handle the case where tmin or tmax is NaN\n            // (result of 0 * Infinity). x !== x returns true if x is NaN\n\n            if (tymin > tmin || tmin !== tmin) tmin = tymin;\n            if (tymax < tmax || tmax !== tmax) tmax = tymax;\n\n            if (invdirz >= 0) {\n                tzmin = (box.min.z - origin.z) * invdirz;\n                tzmax = (box.max.z - origin.z) * invdirz;\n            } else {\n                tzmin = (box.max.z - origin.z) * invdirz;\n                tzmax = (box.min.z - origin.z) * invdirz;\n            }\n\n            if (tmin > tzmax || tzmin > tmax) return null;\n            if (tzmin > tmin || tmin !== tmin) tmin = tzmin;\n            if (tzmax < tmax || tmax !== tmax) tmax = tzmax; //return point closest to the ray (positive side)\n\n            if (tmax < 0) return null;\n            return this.at(tmin >= 0 ? tmin : tmax, target);\n        };\n\n        _proto.intersectsBox = function intersectsBox(box) {\n            return this.intersectBox(box, _vector$2) !== null;\n        };\n\n        _proto.intersectTriangle = function intersectTriangle(a, b, c, backfaceCulling, target) {\n            // Compute the offset origin, edges, and normal.\n            // from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n            _edge1.subVectors(b, a);\n\n            _edge2.subVectors(c, a);\n\n            _normal.crossVectors(_edge1, _edge2); // Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n            // E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n            //\t |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n            //\t |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n            //\t |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\n\n            var DdN = this.direction.dot(_normal);\n            var sign;\n\n            if (DdN > 0) {\n                if (backfaceCulling) return null;\n                sign = 1;\n            } else if (DdN < 0) {\n                sign = -1;\n                DdN = -DdN;\n            } else {\n                return null;\n            }\n\n            _diff.subVectors(this.origin, a);\n\n            var DdQxE2 = sign * this.direction.dot(_edge2.crossVectors(_diff, _edge2)); // b1 < 0, no intersection\n\n            if (DdQxE2 < 0) {\n                return null;\n            }\n\n            var DdE1xQ = sign * this.direction.dot(_edge1.cross(_diff)); // b2 < 0, no intersection\n\n            if (DdE1xQ < 0) {\n                return null;\n            } // b1+b2 > 1, no intersection\n\n\n            if (DdQxE2 + DdE1xQ > DdN) {\n                return null;\n            } // Line intersects triangle, check if ray does.\n\n\n            var QdN = -sign * _diff.dot(_normal); // t < 0, no intersection\n\n\n            if (QdN < 0) {\n                return null;\n            } // Ray intersects triangle.\n\n\n            return this.at(QdN / DdN, target);\n        };\n\n        _proto.applyMatrix4 = function applyMatrix4(matrix4) {\n            this.origin.applyMatrix4(matrix4);\n            this.direction.transformDirection(matrix4);\n            return this;\n        };\n\n        _proto.equals = function equals(ray) {\n            return ray.origin.equals(this.origin) && ray.direction.equals(this.direction);\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        return Ray;\n    }();\n\n    var Matrix4 = /*#__PURE__*/ function() {\n        function Matrix4() {\n            this.elements = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n\n            if (arguments.length > 0) {\n                console.error('THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.');\n            }\n        }\n\n        var _proto = Matrix4.prototype;\n\n        _proto.set = function set(n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44) {\n            var te = this.elements;\n            te[0] = n11;\n            te[4] = n12;\n            te[8] = n13;\n            te[12] = n14;\n            te[1] = n21;\n            te[5] = n22;\n            te[9] = n23;\n            te[13] = n24;\n            te[2] = n31;\n            te[6] = n32;\n            te[10] = n33;\n            te[14] = n34;\n            te[3] = n41;\n            te[7] = n42;\n            te[11] = n43;\n            te[15] = n44;\n            return this;\n        };\n\n        _proto.identity = function identity() {\n            this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new Matrix4().fromArray(this.elements);\n        };\n\n        _proto.copy = function copy(m) {\n            var te = this.elements;\n            var me = m.elements;\n            te[0] = me[0];\n            te[1] = me[1];\n            te[2] = me[2];\n            te[3] = me[3];\n            te[4] = me[4];\n            te[5] = me[5];\n            te[6] = me[6];\n            te[7] = me[7];\n            te[8] = me[8];\n            te[9] = me[9];\n            te[10] = me[10];\n            te[11] = me[11];\n            te[12] = me[12];\n            te[13] = me[13];\n            te[14] = me[14];\n            te[15] = me[15];\n            return this;\n        };\n\n        _proto.copyPosition = function copyPosition(m) {\n            var te = this.elements,\n                me = m.elements;\n            te[12] = me[12];\n            te[13] = me[13];\n            te[14] = me[14];\n            return this;\n        };\n\n        _proto.setFromMatrix3 = function setFromMatrix3(m) {\n            var me = m.elements;\n            this.set(me[0], me[3], me[6], 0, me[1], me[4], me[7], 0, me[2], me[5], me[8], 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.extractBasis = function extractBasis(xAxis, yAxis, zAxis) {\n            xAxis.setFromMatrixColumn(this, 0);\n            yAxis.setFromMatrixColumn(this, 1);\n            zAxis.setFromMatrixColumn(this, 2);\n            return this;\n        };\n\n        _proto.makeBasis = function makeBasis(xAxis, yAxis, zAxis) {\n            this.set(xAxis.x, yAxis.x, zAxis.x, 0, xAxis.y, yAxis.y, zAxis.y, 0, xAxis.z, yAxis.z, zAxis.z, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.extractRotation = function extractRotation(m) {\n            // this method does not support reflection matrices\n            var te = this.elements;\n            var me = m.elements;\n\n            var scaleX = 1 / _v1$1.setFromMatrixColumn(m, 0).length();\n\n            var scaleY = 1 / _v1$1.setFromMatrixColumn(m, 1).length();\n\n            var scaleZ = 1 / _v1$1.setFromMatrixColumn(m, 2).length();\n\n            te[0] = me[0] * scaleX;\n            te[1] = me[1] * scaleX;\n            te[2] = me[2] * scaleX;\n            te[3] = 0;\n            te[4] = me[4] * scaleY;\n            te[5] = me[5] * scaleY;\n            te[6] = me[6] * scaleY;\n            te[7] = 0;\n            te[8] = me[8] * scaleZ;\n            te[9] = me[9] * scaleZ;\n            te[10] = me[10] * scaleZ;\n            te[11] = 0;\n            te[12] = 0;\n            te[13] = 0;\n            te[14] = 0;\n            te[15] = 1;\n            return this;\n        };\n\n        _proto.makeRotationFromEuler = function makeRotationFromEuler(euler) {\n            if (!(euler && euler.isEuler)) {\n                console.error('THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.');\n            }\n\n            var te = this.elements;\n            var x = euler.x,\n                y = euler.y,\n                z = euler.z;\n            var a = Math.cos(x),\n                b = Math.sin(x);\n            var c = Math.cos(y),\n                d = Math.sin(y);\n            var e = Math.cos(z),\n                f = Math.sin(z);\n\n            if (euler.order === 'XYZ') {\n                var ae = a * e,\n                    af = a * f,\n                    be = b * e,\n                    bf = b * f;\n                te[0] = c * e;\n                te[4] = -c * f;\n                te[8] = d;\n                te[1] = af + be * d;\n                te[5] = ae - bf * d;\n                te[9] = -b * c;\n                te[2] = bf - ae * d;\n                te[6] = be + af * d;\n                te[10] = a * c;\n            } else if (euler.order === 'YXZ') {\n                var ce = c * e,\n                    cf = c * f,\n                    de = d * e,\n                    df = d * f;\n                te[0] = ce + df * b;\n                te[4] = de * b - cf;\n                te[8] = a * d;\n                te[1] = a * f;\n                te[5] = a * e;\n                te[9] = -b;\n                te[2] = cf * b - de;\n                te[6] = df + ce * b;\n                te[10] = a * c;\n            } else if (euler.order === 'ZXY') {\n                var _ce = c * e,\n                    _cf = c * f,\n                    _de = d * e,\n                    _df = d * f;\n\n                te[0] = _ce - _df * b;\n                te[4] = -a * f;\n                te[8] = _de + _cf * b;\n                te[1] = _cf + _de * b;\n                te[5] = a * e;\n                te[9] = _df - _ce * b;\n                te[2] = -a * d;\n                te[6] = b;\n                te[10] = a * c;\n            } else if (euler.order === 'ZYX') {\n                var _ae = a * e,\n                    _af = a * f,\n                    _be = b * e,\n                    _bf = b * f;\n\n                te[0] = c * e;\n                te[4] = _be * d - _af;\n                te[8] = _ae * d + _bf;\n                te[1] = c * f;\n                te[5] = _bf * d + _ae;\n                te[9] = _af * d - _be;\n                te[2] = -d;\n                te[6] = b * c;\n                te[10] = a * c;\n            } else if (euler.order === 'YZX') {\n                var ac = a * c,\n                    ad = a * d,\n                    bc = b * c,\n                    bd = b * d;\n                te[0] = c * e;\n                te[4] = bd - ac * f;\n                te[8] = bc * f + ad;\n                te[1] = f;\n                te[5] = a * e;\n                te[9] = -b * e;\n                te[2] = -d * e;\n                te[6] = ad * f + bc;\n                te[10] = ac - bd * f;\n            } else if (euler.order === 'XZY') {\n                var _ac = a * c,\n                    _ad = a * d,\n                    _bc = b * c,\n                    _bd = b * d;\n\n                te[0] = c * e;\n                te[4] = -f;\n                te[8] = d * e;\n                te[1] = _ac * f + _bd;\n                te[5] = a * e;\n                te[9] = _ad * f - _bc;\n                te[2] = _bc * f - _ad;\n                te[6] = b * e;\n                te[10] = _bd * f + _ac;\n            } // bottom row\n\n\n            te[3] = 0;\n            te[7] = 0;\n            te[11] = 0; // last column\n\n            te[12] = 0;\n            te[13] = 0;\n            te[14] = 0;\n            te[15] = 1;\n            return this;\n        };\n\n        _proto.makeRotationFromQuaternion = function makeRotationFromQuaternion(q) {\n            return this.compose(_zero, q, _one);\n        };\n\n        _proto.lookAt = function lookAt(eye, target, up) {\n            var te = this.elements;\n\n            _z.subVectors(eye, target);\n\n            if (_z.lengthSq() === 0) {\n                // eye and target are in the same position\n                _z.z = 1;\n            }\n\n            _z.normalize();\n\n            _x.crossVectors(up, _z);\n\n            if (_x.lengthSq() === 0) {\n                // up and z are parallel\n                if (Math.abs(up.z) === 1) {\n                    _z.x += 0.0001;\n                } else {\n                    _z.z += 0.0001;\n                }\n\n                _z.normalize();\n\n                _x.crossVectors(up, _z);\n            }\n\n            _x.normalize();\n\n            _y.crossVectors(_z, _x);\n\n            te[0] = _x.x;\n            te[4] = _y.x;\n            te[8] = _z.x;\n            te[1] = _x.y;\n            te[5] = _y.y;\n            te[9] = _z.y;\n            te[2] = _x.z;\n            te[6] = _y.z;\n            te[10] = _z.z;\n            return this;\n        };\n\n        _proto.multiply = function multiply(m, n) {\n            if (n !== undefined) {\n                console.warn('THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.');\n                return this.multiplyMatrices(m, n);\n            }\n\n            return this.multiplyMatrices(this, m);\n        };\n\n        _proto.premultiply = function premultiply(m) {\n            return this.multiplyMatrices(m, this);\n        };\n\n        _proto.multiplyMatrices = function multiplyMatrices(a, b) {\n            var ae = a.elements;\n            var be = b.elements;\n            var te = this.elements;\n            var a11 = ae[0],\n                a12 = ae[4],\n                a13 = ae[8],\n                a14 = ae[12];\n            var a21 = ae[1],\n                a22 = ae[5],\n                a23 = ae[9],\n                a24 = ae[13];\n            var a31 = ae[2],\n                a32 = ae[6],\n                a33 = ae[10],\n                a34 = ae[14];\n            var a41 = ae[3],\n                a42 = ae[7],\n                a43 = ae[11],\n                a44 = ae[15];\n            var b11 = be[0],\n                b12 = be[4],\n                b13 = be[8],\n                b14 = be[12];\n            var b21 = be[1],\n                b22 = be[5],\n                b23 = be[9],\n                b24 = be[13];\n            var b31 = be[2],\n                b32 = be[6],\n                b33 = be[10],\n                b34 = be[14];\n            var b41 = be[3],\n                b42 = be[7],\n                b43 = be[11],\n                b44 = be[15];\n            te[0] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n            te[4] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n            te[8] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n            te[12] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n            te[1] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n            te[5] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n            te[9] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n            te[13] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n            te[2] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n            te[6] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n            te[10] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n            te[14] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n            te[3] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n            te[7] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n            te[11] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n            te[15] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n            return this;\n        };\n\n        _proto.multiplyScalar = function multiplyScalar(s) {\n            var te = this.elements;\n            te[0] *= s;\n            te[4] *= s;\n            te[8] *= s;\n            te[12] *= s;\n            te[1] *= s;\n            te[5] *= s;\n            te[9] *= s;\n            te[13] *= s;\n            te[2] *= s;\n            te[6] *= s;\n            te[10] *= s;\n            te[14] *= s;\n            te[3] *= s;\n            te[7] *= s;\n            te[11] *= s;\n            te[15] *= s;\n            return this;\n        };\n\n        _proto.determinant = function determinant() {\n            var te = this.elements;\n            var n11 = te[0],\n                n12 = te[4],\n                n13 = te[8],\n                n14 = te[12];\n            var n21 = te[1],\n                n22 = te[5],\n                n23 = te[9],\n                n24 = te[13];\n            var n31 = te[2],\n                n32 = te[6],\n                n33 = te[10],\n                n34 = te[14];\n            var n41 = te[3],\n                n42 = te[7],\n                n43 = te[11],\n                n44 = te[15]; //TODO: make this more efficient\n            //( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n            return n41 * (+n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34) + n42 * (+n11 * n23 * n34 - n11 * n24 * n33 + n14 * n21 * n33 - n13 * n21 * n34 + n13 * n24 * n31 - n14 * n23 * n31) + n43 * (+n11 * n24 * n32 - n11 * n22 * n34 - n14 * n21 * n32 + n12 * n21 * n34 + n14 * n22 * n31 - n12 * n24 * n31) + n44 * (-n13 * n22 * n31 - n11 * n23 * n32 + n11 * n22 * n33 + n13 * n21 * n32 - n12 * n21 * n33 + n12 * n23 * n31);\n        };\n\n        _proto.transpose = function transpose() {\n            var te = this.elements;\n            var tmp;\n            tmp = te[1];\n            te[1] = te[4];\n            te[4] = tmp;\n            tmp = te[2];\n            te[2] = te[8];\n            te[8] = tmp;\n            tmp = te[6];\n            te[6] = te[9];\n            te[9] = tmp;\n            tmp = te[3];\n            te[3] = te[12];\n            te[12] = tmp;\n            tmp = te[7];\n            te[7] = te[13];\n            te[13] = tmp;\n            tmp = te[11];\n            te[11] = te[14];\n            te[14] = tmp;\n            return this;\n        };\n\n        _proto.setPosition = function setPosition(x, y, z) {\n            var te = this.elements;\n\n            if (x.isVector3) {\n                te[12] = x.x;\n                te[13] = x.y;\n                te[14] = x.z;\n            } else {\n                te[12] = x;\n                te[13] = y;\n                te[14] = z;\n            }\n\n            return this;\n        };\n\n        _proto.invert = function invert() {\n            // based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n            var te = this.elements,\n                n11 = te[0],\n                n21 = te[1],\n                n31 = te[2],\n                n41 = te[3],\n                n12 = te[4],\n                n22 = te[5],\n                n32 = te[6],\n                n42 = te[7],\n                n13 = te[8],\n                n23 = te[9],\n                n33 = te[10],\n                n43 = te[11],\n                n14 = te[12],\n                n24 = te[13],\n                n34 = te[14],\n                n44 = te[15],\n                t11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n                t12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n                t13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n                t14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n            var det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n            if (det === 0) return this.set(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0);\n            var detInv = 1 / det;\n            te[0] = t11 * detInv;\n            te[1] = (n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44) * detInv;\n            te[2] = (n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44) * detInv;\n            te[3] = (n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43) * detInv;\n            te[4] = t12 * detInv;\n            te[5] = (n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44) * detInv;\n            te[6] = (n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44) * detInv;\n            te[7] = (n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43) * detInv;\n            te[8] = t13 * detInv;\n            te[9] = (n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44) * detInv;\n            te[10] = (n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44) * detInv;\n            te[11] = (n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43) * detInv;\n            te[12] = t14 * detInv;\n            te[13] = (n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34) * detInv;\n            te[14] = (n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34) * detInv;\n            te[15] = (n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33) * detInv;\n            return this;\n        };\n\n        _proto.scale = function scale(v) {\n            var te = this.elements;\n            var x = v.x,\n                y = v.y,\n                z = v.z;\n            te[0] *= x;\n            te[4] *= y;\n            te[8] *= z;\n            te[1] *= x;\n            te[5] *= y;\n            te[9] *= z;\n            te[2] *= x;\n            te[6] *= y;\n            te[10] *= z;\n            te[3] *= x;\n            te[7] *= y;\n            te[11] *= z;\n            return this;\n        };\n\n        _proto.getMaxScaleOnAxis = function getMaxScaleOnAxis() {\n            var te = this.elements;\n            var scaleXSq = te[0] * te[0] + te[1] * te[1] + te[2] * te[2];\n            var scaleYSq = te[4] * te[4] + te[5] * te[5] + te[6] * te[6];\n            var scaleZSq = te[8] * te[8] + te[9] * te[9] + te[10] * te[10];\n            return Math.sqrt(Math.max(scaleXSq, scaleYSq, scaleZSq));\n        };\n\n        _proto.makeTranslation = function makeTranslation(x, y, z) {\n            this.set(1, 0, 0, x, 0, 1, 0, y, 0, 0, 1, z, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.makeRotationX = function makeRotationX(theta) {\n            var c = Math.cos(theta),\n                s = Math.sin(theta);\n            this.set(1, 0, 0, 0, 0, c, -s, 0, 0, s, c, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.makeRotationY = function makeRotationY(theta) {\n            var c = Math.cos(theta),\n                s = Math.sin(theta);\n            this.set(c, 0, s, 0, 0, 1, 0, 0, -s, 0, c, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.makeRotationZ = function makeRotationZ(theta) {\n            var c = Math.cos(theta),\n                s = Math.sin(theta);\n            this.set(c, -s, 0, 0, s, c, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.makeRotationAxis = function makeRotationAxis(axis, angle) {\n            // Based on http://www.gamedev.net/reference/articles/article1199.asp\n            var c = Math.cos(angle);\n            var s = Math.sin(angle);\n            var t = 1 - c;\n            var x = axis.x,\n                y = axis.y,\n                z = axis.z;\n            var tx = t * x,\n                ty = t * y;\n            this.set(tx * x + c, tx * y - s * z, tx * z + s * y, 0, tx * y + s * z, ty * y + c, ty * z - s * x, 0, tx * z - s * y, ty * z + s * x, t * z * z + c, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.makeScale = function makeScale(x, y, z) {\n            this.set(x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.makeShear = function makeShear(x, y, z) {\n            this.set(1, y, z, 0, x, 1, z, 0, x, y, 1, 0, 0, 0, 0, 1);\n            return this;\n        };\n\n        _proto.compose = function compose(position, quaternion, scale) {\n            var te = this.elements;\n            var x = quaternion._x,\n                y = quaternion._y,\n                z = quaternion._z,\n                w = quaternion._w;\n            var x2 = x + x,\n                y2 = y + y,\n                z2 = z + z;\n            var xx = x * x2,\n                xy = x * y2,\n                xz = x * z2;\n            var yy = y * y2,\n                yz = y * z2,\n                zz = z * z2;\n            var wx = w * x2,\n                wy = w * y2,\n                wz = w * z2;\n            var sx = scale.x,\n                sy = scale.y,\n                sz = scale.z;\n            te[0] = (1 - (yy + zz)) * sx;\n            te[1] = (xy + wz) * sx;\n            te[2] = (xz - wy) * sx;\n            te[3] = 0;\n            te[4] = (xy - wz) * sy;\n            te[5] = (1 - (xx + zz)) * sy;\n            te[6] = (yz + wx) * sy;\n            te[7] = 0;\n            te[8] = (xz + wy) * sz;\n            te[9] = (yz - wx) * sz;\n            te[10] = (1 - (xx + yy)) * sz;\n            te[11] = 0;\n            te[12] = position.x;\n            te[13] = position.y;\n            te[14] = position.z;\n            te[15] = 1;\n            return this;\n        };\n\n        _proto.decompose = function decompose(position, quaternion, scale) {\n            var te = this.elements;\n\n            var sx = _v1$1.set(te[0], te[1], te[2]).length();\n\n            var sy = _v1$1.set(te[4], te[5], te[6]).length();\n\n            var sz = _v1$1.set(te[8], te[9], te[10]).length(); // if determine is negative, we need to invert one scale\n\n\n            var det = this.determinant();\n            if (det < 0) sx = -sx;\n            position.x = te[12];\n            position.y = te[13];\n            position.z = te[14]; // scale the rotation part\n\n            _m1.copy(this);\n\n            var invSX = 1 / sx;\n            var invSY = 1 / sy;\n            var invSZ = 1 / sz;\n            _m1.elements[0] *= invSX;\n            _m1.elements[1] *= invSX;\n            _m1.elements[2] *= invSX;\n            _m1.elements[4] *= invSY;\n            _m1.elements[5] *= invSY;\n            _m1.elements[6] *= invSY;\n            _m1.elements[8] *= invSZ;\n            _m1.elements[9] *= invSZ;\n            _m1.elements[10] *= invSZ;\n            quaternion.setFromRotationMatrix(_m1);\n            scale.x = sx;\n            scale.y = sy;\n            scale.z = sz;\n            return this;\n        };\n\n        _proto.makePerspective = function makePerspective(left, right, top, bottom, near, far) {\n            if (far === undefined) {\n                console.warn('THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.');\n            }\n\n            var te = this.elements;\n            var x = 2 * near / (right - left);\n            var y = 2 * near / (top - bottom);\n            var a = (right + left) / (right - left);\n            var b = (top + bottom) / (top - bottom);\n            var c = -(far + near) / (far - near);\n            var d = -2 * far * near / (far - near);\n            te[0] = x;\n            te[4] = 0;\n            te[8] = a;\n            te[12] = 0;\n            te[1] = 0;\n            te[5] = y;\n            te[9] = b;\n            te[13] = 0;\n            te[2] = 0;\n            te[6] = 0;\n            te[10] = c;\n            te[14] = d;\n            te[3] = 0;\n            te[7] = 0;\n            te[11] = -1;\n            te[15] = 0;\n            return this;\n        };\n\n        _proto.makeOrthographic = function makeOrthographic(left, right, top, bottom, near, far) {\n            var te = this.elements;\n            var w = 1.0 / (right - left);\n            var h = 1.0 / (top - bottom);\n            var p = 1.0 / (far - near);\n            var x = (right + left) * w;\n            var y = (top + bottom) * h;\n            var z = (far + near) * p;\n            te[0] = 2 * w;\n            te[4] = 0;\n            te[8] = 0;\n            te[12] = -x;\n            te[1] = 0;\n            te[5] = 2 * h;\n            te[9] = 0;\n            te[13] = -y;\n            te[2] = 0;\n            te[6] = 0;\n            te[10] = -2 * p;\n            te[14] = -z;\n            te[3] = 0;\n            te[7] = 0;\n            te[11] = 0;\n            te[15] = 1;\n            return this;\n        };\n\n        _proto.equals = function equals(matrix) {\n            var te = this.elements;\n            var me = matrix.elements;\n\n            for (var i = 0; i < 16; i++) {\n                if (te[i] !== me[i]) return false;\n            }\n\n            return true;\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            for (var i = 0; i < 16; i++) {\n                this.elements[i] = array[i + offset];\n            }\n\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === void 0) {\n                array = [];\n            }\n\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            var te = this.elements;\n            array[offset] = te[0];\n            array[offset + 1] = te[1];\n            array[offset + 2] = te[2];\n            array[offset + 3] = te[3];\n            array[offset + 4] = te[4];\n            array[offset + 5] = te[5];\n            array[offset + 6] = te[6];\n            array[offset + 7] = te[7];\n            array[offset + 8] = te[8];\n            array[offset + 9] = te[9];\n            array[offset + 10] = te[10];\n            array[offset + 11] = te[11];\n            array[offset + 12] = te[12];\n            array[offset + 13] = te[13];\n            array[offset + 14] = te[14];\n            array[offset + 15] = te[15];\n            return array;\n        };\n\n        return Matrix4;\n    }();\n\n    Matrix4.prototype.isMatrix4 = true;\n\n    var _v1$1 = /*@__PURE__*/ new Vector3();\n\n    var _m1 = /*@__PURE__*/ new Matrix4();\n\n    var _zero = /*@__PURE__*/ new Vector3(0, 0, 0);\n\n    var _one = /*@__PURE__*/ new Vector3(1, 1, 1);\n\n    var _x = /*@__PURE__*/ new Vector3();\n\n    var _y = /*@__PURE__*/ new Vector3();\n\n    var _z = /*@__PURE__*/ new Vector3();\n\n    var _matrix = /*@__PURE__*/ new Matrix4();\n\n    var _quaternion$1 = /*@__PURE__*/ new Quaternion();\n\n    var Euler = /*#__PURE__*/ function() {\n        function Euler(x, y, z, order) {\n            if (x === void 0) {\n                x = 0;\n            }\n\n            if (y === void 0) {\n                y = 0;\n            }\n\n            if (z === void 0) {\n                z = 0;\n            }\n\n            if (order === void 0) {\n                order = Euler.DefaultOrder;\n            }\n\n            this._x = x;\n            this._y = y;\n            this._z = z;\n            this._order = order;\n        }\n\n        var _proto = Euler.prototype;\n\n        _proto.set = function set(x, y, z, order) {\n            this._x = x;\n            this._y = y;\n            this._z = z;\n            this._order = order || this._order;\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor(this._x, this._y, this._z, this._order);\n        };\n\n        _proto.copy = function copy(euler) {\n            this._x = euler._x;\n            this._y = euler._y;\n            this._z = euler._z;\n            this._order = euler._order;\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.setFromRotationMatrix = function setFromRotationMatrix(m, order, update) {\n            var clamp = MathUtils.clamp; // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n            var te = m.elements;\n            var m11 = te[0],\n                m12 = te[4],\n                m13 = te[8];\n            var m21 = te[1],\n                m22 = te[5],\n                m23 = te[9];\n            var m31 = te[2],\n                m32 = te[6],\n                m33 = te[10];\n            order = order || this._order;\n\n            switch (order) {\n                case 'XYZ':\n                    this._y = Math.asin(clamp(m13, -1, 1));\n\n                    if (Math.abs(m13) < 0.9999999) {\n                        this._x = Math.atan2(-m23, m33);\n                        this._z = Math.atan2(-m12, m11);\n                    } else {\n                        this._x = Math.atan2(m32, m22);\n                        this._z = 0;\n                    }\n\n                    break;\n\n                case 'YXZ':\n                    this._x = Math.asin(-clamp(m23, -1, 1));\n\n                    if (Math.abs(m23) < 0.9999999) {\n                        this._y = Math.atan2(m13, m33);\n                        this._z = Math.atan2(m21, m22);\n                    } else {\n                        this._y = Math.atan2(-m31, m11);\n                        this._z = 0;\n                    }\n\n                    break;\n\n                case 'ZXY':\n                    this._x = Math.asin(clamp(m32, -1, 1));\n\n                    if (Math.abs(m32) < 0.9999999) {\n                        this._y = Math.atan2(-m31, m33);\n                        this._z = Math.atan2(-m12, m22);\n                    } else {\n                        this._y = 0;\n                        this._z = Math.atan2(m21, m11);\n                    }\n\n                    break;\n\n                case 'ZYX':\n                    this._y = Math.asin(-clamp(m31, -1, 1));\n\n                    if (Math.abs(m31) < 0.9999999) {\n                        this._x = Math.atan2(m32, m33);\n                        this._z = Math.atan2(m21, m11);\n                    } else {\n                        this._x = 0;\n                        this._z = Math.atan2(-m12, m22);\n                    }\n\n                    break;\n\n                case 'YZX':\n                    this._z = Math.asin(clamp(m21, -1, 1));\n\n                    if (Math.abs(m21) < 0.9999999) {\n                        this._x = Math.atan2(-m23, m22);\n                        this._y = Math.atan2(-m31, m11);\n                    } else {\n                        this._x = 0;\n                        this._y = Math.atan2(m13, m33);\n                    }\n\n                    break;\n\n                case 'XZY':\n                    this._z = Math.asin(-clamp(m12, -1, 1));\n\n                    if (Math.abs(m12) < 0.9999999) {\n                        this._x = Math.atan2(m32, m22);\n                        this._y = Math.atan2(m13, m11);\n                    } else {\n                        this._x = Math.atan2(-m23, m33);\n                        this._y = 0;\n                    }\n\n                    break;\n\n                default:\n                    console.warn('THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order);\n            }\n\n            this._order = order;\n            if (update !== false) this._onChangeCallback();\n            return this;\n        };\n\n        _proto.setFromQuaternion = function setFromQuaternion(q, order, update) {\n            _matrix.makeRotationFromQuaternion(q);\n\n            return this.setFromRotationMatrix(_matrix, order, update);\n        };\n\n        _proto.setFromVector3 = function setFromVector3(v, order) {\n            return this.set(v.x, v.y, v.z, order || this._order);\n        };\n\n        _proto.reorder = function reorder(newOrder) {\n            // WARNING: this discards revolution information -bhouston\n            _quaternion$1.setFromEuler(this);\n\n            return this.setFromQuaternion(_quaternion$1, newOrder);\n        };\n\n        _proto.equals = function equals(euler) {\n            return euler._x === this._x && euler._y === this._y && euler._z === this._z && euler._order === this._order;\n        };\n\n        _proto.fromArray = function fromArray(array) {\n            this._x = array[0];\n            this._y = array[1];\n            this._z = array[2];\n            if (array[3] !== undefined) this._order = array[3];\n\n            this._onChangeCallback();\n\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === void 0) {\n                array = [];\n            }\n\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            array[offset] = this._x;\n            array[offset + 1] = this._y;\n            array[offset + 2] = this._z;\n            array[offset + 3] = this._order;\n            return array;\n        };\n\n        _proto.toVector3 = function toVector3(optionalResult) {\n            if (optionalResult) {\n                return optionalResult.set(this._x, this._y, this._z);\n            } else {\n                return new Vector3(this._x, this._y, this._z);\n            }\n        };\n\n        _proto._onChange = function _onChange(callback) {\n            this._onChangeCallback = callback;\n            return this;\n        };\n\n        _proto._onChangeCallback = function _onChangeCallback() {};\n\n        _createClass(Euler, [{\n            key: \"x\",\n            get: function get() {\n                return this._x;\n            },\n            set: function set(value) {\n                this._x = value;\n\n                this._onChangeCallback();\n            }\n        }, {\n            key: \"y\",\n            get: function get() {\n                return this._y;\n            },\n            set: function set(value) {\n                this._y = value;\n\n                this._onChangeCallback();\n            }\n        }, {\n            key: \"z\",\n            get: function get() {\n                return this._z;\n            },\n            set: function set(value) {\n                this._z = value;\n\n                this._onChangeCallback();\n            }\n        }, {\n            key: \"order\",\n            get: function get() {\n                return this._order;\n            },\n            set: function set(value) {\n                this._order = value;\n\n                this._onChangeCallback();\n            }\n        }]);\n\n        return Euler;\n    }();\n\n    Euler.prototype.isEuler = true;\n    Euler.DefaultOrder = 'XYZ';\n    Euler.RotationOrders = ['XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX'];\n\n    var Layers = /*#__PURE__*/ function() {\n        function Layers() {\n            this.mask = 1 | 0;\n        }\n\n        var _proto = Layers.prototype;\n\n        _proto.set = function set(channel) {\n            this.mask = 1 << channel | 0;\n        };\n\n        _proto.enable = function enable(channel) {\n            this.mask |= 1 << channel | 0;\n        };\n\n        _proto.enableAll = function enableAll() {\n            this.mask = 0xffffffff | 0;\n        };\n\n        _proto.toggle = function toggle(channel) {\n            this.mask ^= 1 << channel | 0;\n        };\n\n        _proto.disable = function disable(channel) {\n            this.mask &= ~(1 << channel | 0);\n        };\n\n        _proto.disableAll = function disableAll() {\n            this.mask = 0;\n        };\n\n        _proto.test = function test(layers) {\n            return (this.mask & layers.mask) !== 0;\n        };\n\n        return Layers;\n    }();\n\n    var _object3DId = 0;\n\n    var _v1$2 = new Vector3();\n\n    var _q1 = new Quaternion();\n\n    var _m1$1 = new Matrix4();\n\n    var _target = new Vector3();\n\n    var _position = new Vector3();\n\n    var _scale = new Vector3();\n\n    var _quaternion$2 = new Quaternion();\n\n    var _xAxis = new Vector3(1, 0, 0);\n\n    var _yAxis = new Vector3(0, 1, 0);\n\n    var _zAxis = new Vector3(0, 0, 1);\n\n    var _addedEvent = {\n        type: 'added'\n    };\n    var _removedEvent = {\n        type: 'removed'\n    };\n\n    function Object3D() {\n        Object.defineProperty(this, 'id', {\n            value: _object3DId++\n        });\n        this.uuid = MathUtils.generateUUID();\n        this.name = '';\n        this.type = 'Object3D';\n        this.parent = null;\n        this.children = [];\n        this.up = Object3D.DefaultUp.clone();\n        var position = new Vector3();\n        var rotation = new Euler();\n        var quaternion = new Quaternion();\n        var scale = new Vector3(1, 1, 1);\n\n        function onRotationChange() {\n            quaternion.setFromEuler(rotation, false);\n        }\n\n        function onQuaternionChange() {\n            rotation.setFromQuaternion(quaternion, undefined, false);\n        }\n\n        rotation._onChange(onRotationChange);\n\n        quaternion._onChange(onQuaternionChange);\n\n        Object.defineProperties(this, {\n            position: {\n                configurable: true,\n                enumerable: true,\n                value: position\n            },\n            rotation: {\n                configurable: true,\n                enumerable: true,\n                value: rotation\n            },\n            quaternion: {\n                configurable: true,\n                enumerable: true,\n                value: quaternion\n            },\n            scale: {\n                configurable: true,\n                enumerable: true,\n                value: scale\n            },\n            modelViewMatrix: {\n                value: new Matrix4()\n            },\n            normalMatrix: {\n                value: new Matrix3()\n            }\n        });\n        this.matrix = new Matrix4();\n        this.matrixWorld = new Matrix4();\n        this.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n        this.matrixWorldNeedsUpdate = false;\n        this.layers = new Layers();\n        this.visible = true;\n        this.castShadow = false;\n        this.receiveShadow = false;\n        this.frustumCulled = true;\n        this.renderOrder = 0;\n        this.animations = [];\n        this.userData = {};\n    }\n\n    Object3D.DefaultUp = new Vector3(0, 1, 0);\n    Object3D.DefaultMatrixAutoUpdate = true;\n    Object3D.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n        constructor: Object3D,\n        isObject3D: true,\n        onBeforeRender: function onBeforeRender() {},\n        onAfterRender: function onAfterRender() {},\n        applyMatrix4: function applyMatrix4(matrix) {\n            if (this.matrixAutoUpdate) this.updateMatrix();\n            this.matrix.premultiply(matrix);\n            this.matrix.decompose(this.position, this.quaternion, this.scale);\n        },\n        applyQuaternion: function applyQuaternion(q) {\n            this.quaternion.premultiply(q);\n            return this;\n        },\n        setRotationFromAxisAngle: function setRotationFromAxisAngle(axis, angle) {\n            // assumes axis is normalized\n            this.quaternion.setFromAxisAngle(axis, angle);\n        },\n        setRotationFromEuler: function setRotationFromEuler(euler) {\n            this.quaternion.setFromEuler(euler, true);\n        },\n        setRotationFromMatrix: function setRotationFromMatrix(m) {\n            // assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n            this.quaternion.setFromRotationMatrix(m);\n        },\n        setRotationFromQuaternion: function setRotationFromQuaternion(q) {\n            // assumes q is normalized\n            this.quaternion.copy(q);\n        },\n        rotateOnAxis: function rotateOnAxis(axis, angle) {\n            // rotate object on axis in object space\n            // axis is assumed to be normalized\n            _q1.setFromAxisAngle(axis, angle);\n\n            this.quaternion.multiply(_q1);\n            return this;\n        },\n        rotateOnWorldAxis: function rotateOnWorldAxis(axis, angle) {\n            // rotate object on axis in world space\n            // axis is assumed to be normalized\n            // method assumes no rotated parent\n            _q1.setFromAxisAngle(axis, angle);\n\n            this.quaternion.premultiply(_q1);\n            return this;\n        },\n        rotateX: function rotateX(angle) {\n            return this.rotateOnAxis(_xAxis, angle);\n        },\n        rotateY: function rotateY(angle) {\n            return this.rotateOnAxis(_yAxis, angle);\n        },\n        rotateZ: function rotateZ(angle) {\n            return this.rotateOnAxis(_zAxis, angle);\n        },\n        translateOnAxis: function translateOnAxis(axis, distance) {\n            // translate object by distance along axis in object space\n            // axis is assumed to be normalized\n            _v1$2.copy(axis).applyQuaternion(this.quaternion);\n\n            this.position.add(_v1$2.multiplyScalar(distance));\n            return this;\n        },\n        translateX: function translateX(distance) {\n            return this.translateOnAxis(_xAxis, distance);\n        },\n        translateY: function translateY(distance) {\n            return this.translateOnAxis(_yAxis, distance);\n        },\n        translateZ: function translateZ(distance) {\n            return this.translateOnAxis(_zAxis, distance);\n        },\n        localToWorld: function localToWorld(vector) {\n            return vector.applyMatrix4(this.matrixWorld);\n        },\n        worldToLocal: function worldToLocal(vector) {\n            return vector.applyMatrix4(_m1$1.copy(this.matrixWorld).invert());\n        },\n        lookAt: function lookAt(x, y, z) {\n            // This method does not support objects having non-uniformly-scaled parent(s)\n            if (x.isVector3) {\n                _target.copy(x);\n            } else {\n                _target.set(x, y, z);\n            }\n\n            var parent = this.parent;\n            this.updateWorldMatrix(true, false);\n\n            _position.setFromMatrixPosition(this.matrixWorld);\n\n            if (this.isCamera || this.isLight) {\n                _m1$1.lookAt(_position, _target, this.up);\n            } else {\n                _m1$1.lookAt(_target, _position, this.up);\n            }\n\n            this.quaternion.setFromRotationMatrix(_m1$1);\n\n            if (parent) {\n                _m1$1.extractRotation(parent.matrixWorld);\n\n                _q1.setFromRotationMatrix(_m1$1);\n\n                this.quaternion.premultiply(_q1.invert());\n            }\n        },\n        add: function add(object) {\n            if (arguments.length > 1) {\n                for (var i = 0; i < arguments.length; i++) {\n                    this.add(arguments[i]);\n                }\n\n                return this;\n            }\n\n            if (object === this) {\n                console.error('THREE.Object3D.add: object can\\'t be added as a child of itself.', object);\n                return this;\n            }\n\n            if (object && object.isObject3D) {\n                if (object.parent !== null) {\n                    object.parent.remove(object);\n                }\n\n                object.parent = this;\n                this.children.push(object);\n                object.dispatchEvent(_addedEvent);\n            } else {\n                console.error('THREE.Object3D.add: object not an instance of THREE.Object3D.', object);\n            }\n\n            return this;\n        },\n        remove: function remove(object) {\n            if (arguments.length > 1) {\n                for (var i = 0; i < arguments.length; i++) {\n                    this.remove(arguments[i]);\n                }\n\n                return this;\n            }\n\n            var index = this.children.indexOf(object);\n\n            if (index !== -1) {\n                object.parent = null;\n                this.children.splice(index, 1);\n                object.dispatchEvent(_removedEvent);\n            }\n\n            return this;\n        },\n        clear: function clear() {\n            for (var i = 0; i < this.children.length; i++) {\n                var object = this.children[i];\n                object.parent = null;\n                object.dispatchEvent(_removedEvent);\n            }\n\n            this.children.length = 0;\n            return this;\n        },\n        attach: function attach(object) {\n            // adds object as a child of this, while maintaining the object's world transform\n            this.updateWorldMatrix(true, false);\n\n            _m1$1.copy(this.matrixWorld).invert();\n\n            if (object.parent !== null) {\n                object.parent.updateWorldMatrix(true, false);\n\n                _m1$1.multiply(object.parent.matrixWorld);\n            }\n\n            object.applyMatrix4(_m1$1);\n            this.add(object);\n            object.updateWorldMatrix(false, true);\n            return this;\n        },\n        getObjectById: function getObjectById(id) {\n            return this.getObjectByProperty('id', id);\n        },\n        getObjectByName: function getObjectByName(name) {\n            return this.getObjectByProperty('name', name);\n        },\n        getObjectByProperty: function getObjectByProperty(name, value) {\n            if (this[name] === value) return this;\n\n            for (var i = 0, l = this.children.length; i < l; i++) {\n                var child = this.children[i];\n                var object = child.getObjectByProperty(name, value);\n\n                if (object !== undefined) {\n                    return object;\n                }\n            }\n\n            return undefined;\n        },\n        getWorldPosition: function getWorldPosition(target) {\n            if (target === undefined) {\n                console.warn('THREE.Object3D: .getWorldPosition() target is now required');\n                target = new Vector3();\n            }\n\n            this.updateWorldMatrix(true, false);\n            return target.setFromMatrixPosition(this.matrixWorld);\n        },\n        getWorldQuaternion: function getWorldQuaternion(target) {\n            if (target === undefined) {\n                console.warn('THREE.Object3D: .getWorldQuaternion() target is now required');\n                target = new Quaternion();\n            }\n\n            this.updateWorldMatrix(true, false);\n            this.matrixWorld.decompose(_position, target, _scale);\n            return target;\n        },\n        getWorldScale: function getWorldScale(target) {\n            if (target === undefined) {\n                console.warn('THREE.Object3D: .getWorldScale() target is now required');\n                target = new Vector3();\n            }\n\n            this.updateWorldMatrix(true, false);\n            this.matrixWorld.decompose(_position, _quaternion$2, target);\n            return target;\n        },\n        getWorldDirection: function getWorldDirection(target) {\n            if (target === undefined) {\n                console.warn('THREE.Object3D: .getWorldDirection() target is now required');\n                target = new Vector3();\n            }\n\n            this.updateWorldMatrix(true, false);\n            var e = this.matrixWorld.elements;\n            return target.set(e[8], e[9], e[10]).normalize();\n        },\n        raycast: function raycast() {},\n        traverse: function traverse(callback) {\n            callback(this);\n            var children = this.children;\n\n            for (var i = 0, l = children.length; i < l; i++) {\n                children[i].traverse(callback);\n            }\n        },\n        traverseVisible: function traverseVisible(callback) {\n            if (this.visible === false) return;\n            callback(this);\n            var children = this.children;\n\n            for (var i = 0, l = children.length; i < l; i++) {\n                children[i].traverseVisible(callback);\n            }\n        },\n        traverseAncestors: function traverseAncestors(callback) {\n            var parent = this.parent;\n\n            if (parent !== null) {\n                callback(parent);\n                parent.traverseAncestors(callback);\n            }\n        },\n        updateMatrix: function updateMatrix() {\n            this.matrix.compose(this.position, this.quaternion, this.scale);\n            this.matrixWorldNeedsUpdate = true;\n        },\n        updateMatrixWorld: function updateMatrixWorld(force) {\n            if (this.matrixAutoUpdate) this.updateMatrix();\n\n            if (this.matrixWorldNeedsUpdate || force) {\n                if (this.parent === null) {\n                    this.matrixWorld.copy(this.matrix);\n                } else {\n                    this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n                }\n\n                this.matrixWorldNeedsUpdate = false;\n                force = true;\n            } // update children\n\n\n            var children = this.children;\n\n            for (var i = 0, l = children.length; i < l; i++) {\n                children[i].updateMatrixWorld(force);\n            }\n        },\n        updateWorldMatrix: function updateWorldMatrix(updateParents, updateChildren) {\n            var parent = this.parent;\n\n            if (updateParents === true && parent !== null) {\n                parent.updateWorldMatrix(true, false);\n            }\n\n            if (this.matrixAutoUpdate) this.updateMatrix();\n\n            if (this.parent === null) {\n                this.matrixWorld.copy(this.matrix);\n            } else {\n                this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix);\n            } // update children\n\n\n            if (updateChildren === true) {\n                var children = this.children;\n\n                for (var i = 0, l = children.length; i < l; i++) {\n                    children[i].updateWorldMatrix(false, true);\n                }\n            }\n        },\n        toJSON: function toJSON(meta) {\n            // meta is a string when called from JSON.stringify\n            var isRootObject = meta === undefined || typeof meta === 'string';\n            var output = {}; // meta is a hash used to collect geometries, materials.\n            // not providing it implies that this is the root object\n            // being serialized.\n\n            if (isRootObject) {\n                // initialize meta obj\n                meta = {\n                    geometries: {},\n                    materials: {},\n                    textures: {},\n                    images: {},\n                    shapes: {},\n                    skeletons: {},\n                    animations: {}\n                };\n                output.metadata = {\n                    version: 4.5,\n                    type: 'Object',\n                    generator: 'Object3D.toJSON'\n                };\n            } // standard Object3D serialization\n\n\n            var object = {};\n            object.uuid = this.uuid;\n            object.type = this.type;\n            if (this.name !== '') object.name = this.name;\n            if (this.castShadow === true) object.castShadow = true;\n            if (this.receiveShadow === true) object.receiveShadow = true;\n            if (this.visible === false) object.visible = false;\n            if (this.frustumCulled === false) object.frustumCulled = false;\n            if (this.renderOrder !== 0) object.renderOrder = this.renderOrder;\n            if (JSON.stringify(this.userData) !== '{}') object.userData = this.userData;\n            object.layers = this.layers.mask;\n            object.matrix = this.matrix.toArray();\n            if (this.matrixAutoUpdate === false) object.matrixAutoUpdate = false; // object specific properties\n\n            if (this.isInstancedMesh) {\n                object.type = 'InstancedMesh';\n                object.count = this.count;\n                object.instanceMatrix = this.instanceMatrix.toJSON();\n            } //\n\n\n            function serialize(library, element) {\n                if (library[element.uuid] === undefined) {\n                    library[element.uuid] = element.toJSON(meta);\n                }\n\n                return element.uuid;\n            }\n\n            if (this.isMesh || this.isLine || this.isPoints) {\n                object.geometry = serialize(meta.geometries, this.geometry);\n                var parameters = this.geometry.parameters;\n\n                if (parameters !== undefined && parameters.shapes !== undefined) {\n                    var shapes = parameters.shapes;\n\n                    if (Array.isArray(shapes)) {\n                        for (var i = 0, l = shapes.length; i < l; i++) {\n                            var shape = shapes[i];\n                            serialize(meta.shapes, shape);\n                        }\n                    } else {\n                        serialize(meta.shapes, shapes);\n                    }\n                }\n            }\n\n            if (this.isSkinnedMesh) {\n                object.bindMode = this.bindMode;\n                object.bindMatrix = this.bindMatrix.toArray();\n\n                if (this.skeleton !== undefined) {\n                    serialize(meta.skeletons, this.skeleton);\n                    object.skeleton = this.skeleton.uuid;\n                }\n            }\n\n            if (this.material !== undefined) {\n                if (Array.isArray(this.material)) {\n                    var uuids = [];\n\n                    for (var _i = 0, _l = this.material.length; _i < _l; _i++) {\n                        uuids.push(serialize(meta.materials, this.material[_i]));\n                    }\n\n                    object.material = uuids;\n                } else {\n                    object.material = serialize(meta.materials, this.material);\n                }\n            } //\n\n\n            if (this.children.length > 0) {\n                object.children = [];\n\n                for (var _i2 = 0; _i2 < this.children.length; _i2++) {\n                    object.children.push(this.children[_i2].toJSON(meta).object);\n                }\n            } //\n\n\n            if (this.animations.length > 0) {\n                object.animations = [];\n\n                for (var _i3 = 0; _i3 < this.animations.length; _i3++) {\n                    var animation = this.animations[_i3];\n                    object.animations.push(serialize(meta.animations, animation));\n                }\n            }\n\n            if (isRootObject) {\n                var geometries = extractFromCache(meta.geometries);\n                var materials = extractFromCache(meta.materials);\n                var textures = extractFromCache(meta.textures);\n                var images = extractFromCache(meta.images);\n\n                var _shapes = extractFromCache(meta.shapes);\n\n                var skeletons = extractFromCache(meta.skeletons);\n                var animations = extractFromCache(meta.animations);\n                if (geometries.length > 0) output.geometries = geometries;\n                if (materials.length > 0) output.materials = materials;\n                if (textures.length > 0) output.textures = textures;\n                if (images.length > 0) output.images = images;\n                if (_shapes.length > 0) output.shapes = _shapes;\n                if (skeletons.length > 0) output.skeletons = skeletons;\n                if (animations.length > 0) output.animations = animations;\n            }\n\n            output.object = object;\n            return output; // extract data from the cache hash\n            // remove metadata on each item\n            // and return as array\n\n            function extractFromCache(cache) {\n                var values = [];\n\n                for (var key in cache) {\n                    var data = cache[key];\n                    delete data.metadata;\n                    values.push(data);\n                }\n\n                return values;\n            }\n        },\n        clone: function clone(recursive) {\n            return new this.constructor().copy(this, recursive);\n        },\n        copy: function copy(source, recursive) {\n            if (recursive === void 0) {\n                recursive = true;\n            }\n\n            this.name = source.name;\n            this.up.copy(source.up);\n            this.position.copy(source.position);\n            this.rotation.order = source.rotation.order;\n            this.quaternion.copy(source.quaternion);\n            this.scale.copy(source.scale);\n            this.matrix.copy(source.matrix);\n            this.matrixWorld.copy(source.matrixWorld);\n            this.matrixAutoUpdate = source.matrixAutoUpdate;\n            this.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n            this.layers.mask = source.layers.mask;\n            this.visible = source.visible;\n            this.castShadow = source.castShadow;\n            this.receiveShadow = source.receiveShadow;\n            this.frustumCulled = source.frustumCulled;\n            this.renderOrder = source.renderOrder;\n            this.userData = JSON.parse(JSON.stringify(source.userData));\n\n            if (recursive === true) {\n                for (var i = 0; i < source.children.length; i++) {\n                    var child = source.children[i];\n                    this.add(child.clone());\n                }\n            }\n\n            return this;\n        }\n    });\n\n    var _vector1 = /*@__PURE__*/ new Vector3();\n\n    var _vector2 = /*@__PURE__*/ new Vector3();\n\n    var _normalMatrix = /*@__PURE__*/ new Matrix3();\n\n    var Plane = /*#__PURE__*/ function() {\n        function Plane(normal, constant) {\n            if (normal === void 0) {\n                normal = new Vector3(1, 0, 0);\n            }\n\n            if (constant === void 0) {\n                constant = 0;\n            }\n\n            // normal is assumed to be normalized\n            this.normal = normal;\n            this.constant = constant;\n        }\n\n        var _proto = Plane.prototype;\n\n        _proto.set = function set(normal, constant) {\n            this.normal.copy(normal);\n            this.constant = constant;\n            return this;\n        };\n\n        _proto.setComponents = function setComponents(x, y, z, w) {\n            this.normal.set(x, y, z);\n            this.constant = w;\n            return this;\n        };\n\n        _proto.setFromNormalAndCoplanarPoint = function setFromNormalAndCoplanarPoint(normal, point) {\n            this.normal.copy(normal);\n            this.constant = -point.dot(this.normal);\n            return this;\n        };\n\n        _proto.setFromCoplanarPoints = function setFromCoplanarPoints(a, b, c) {\n            var normal = _vector1.subVectors(c, b).cross(_vector2.subVectors(a, b)).normalize(); // Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\n            this.setFromNormalAndCoplanarPoint(normal, a);\n            return this;\n        };\n\n        _proto.copy = function copy(plane) {\n            this.normal.copy(plane.normal);\n            this.constant = plane.constant;\n            return this;\n        };\n\n        _proto.normalize = function normalize() {\n            // Note: will lead to a divide by zero if the plane is invalid.\n            var inverseNormalLength = 1.0 / this.normal.length();\n            this.normal.multiplyScalar(inverseNormalLength);\n            this.constant *= inverseNormalLength;\n            return this;\n        };\n\n        _proto.negate = function negate() {\n            this.constant *= -1;\n            this.normal.negate();\n            return this;\n        };\n\n        _proto.distanceToPoint = function distanceToPoint(point) {\n            return this.normal.dot(point) + this.constant;\n        };\n\n        _proto.distanceToSphere = function distanceToSphere(sphere) {\n            return this.distanceToPoint(sphere.center) - sphere.radius;\n        };\n\n        _proto.projectPoint = function projectPoint(point, target) {\n            if (target === undefined) {\n                console.warn('THREE.Plane: .projectPoint() target is now required');\n                target = new Vector3();\n            }\n\n            return target.copy(this.normal).multiplyScalar(-this.distanceToPoint(point)).add(point);\n        };\n\n        _proto.intersectLine = function intersectLine(line, target) {\n            if (target === undefined) {\n                console.warn('THREE.Plane: .intersectLine() target is now required');\n                target = new Vector3();\n            }\n\n            var direction = line.delta(_vector1);\n            var denominator = this.normal.dot(direction);\n\n            if (denominator === 0) {\n                // line is coplanar, return origin\n                if (this.distanceToPoint(line.start) === 0) {\n                    return target.copy(line.start);\n                } // Unsure if this is the correct method to handle this case.\n\n\n                return undefined;\n            }\n\n            var t = -(line.start.dot(this.normal) + this.constant) / denominator;\n\n            if (t < 0 || t > 1) {\n                return undefined;\n            }\n\n            return target.copy(direction).multiplyScalar(t).add(line.start);\n        };\n\n        _proto.intersectsLine = function intersectsLine(line) {\n            // Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n            var startSign = this.distanceToPoint(line.start);\n            var endSign = this.distanceToPoint(line.end);\n            return startSign < 0 && endSign > 0 || endSign < 0 && startSign > 0;\n        };\n\n        _proto.intersectsBox = function intersectsBox(box) {\n            return box.intersectsPlane(this);\n        };\n\n        _proto.intersectsSphere = function intersectsSphere(sphere) {\n            return sphere.intersectsPlane(this);\n        };\n\n        _proto.coplanarPoint = function coplanarPoint(target) {\n            if (target === undefined) {\n                console.warn('THREE.Plane: .coplanarPoint() target is now required');\n                target = new Vector3();\n            }\n\n            return target.copy(this.normal).multiplyScalar(-this.constant);\n        };\n\n        _proto.applyMatrix4 = function applyMatrix4(matrix, optionalNormalMatrix) {\n            var normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix(matrix);\n\n            var referencePoint = this.coplanarPoint(_vector1).applyMatrix4(matrix);\n            var normal = this.normal.applyMatrix3(normalMatrix).normalize();\n            this.constant = -referencePoint.dot(normal);\n            return this;\n        };\n\n        _proto.translate = function translate(offset) {\n            this.constant -= offset.dot(this.normal);\n            return this;\n        };\n\n        _proto.equals = function equals(plane) {\n            return plane.normal.equals(this.normal) && plane.constant === this.constant;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        return Plane;\n    }();\n\n    Plane.prototype.isPlane = true;\n\n    var _v0$1 = /*@__PURE__*/ new Vector3();\n\n    var _v1$3 = /*@__PURE__*/ new Vector3();\n\n    var _v2$1 = /*@__PURE__*/ new Vector3();\n\n    var _v3 = /*@__PURE__*/ new Vector3();\n\n    var _vab = /*@__PURE__*/ new Vector3();\n\n    var _vac = /*@__PURE__*/ new Vector3();\n\n    var _vbc = /*@__PURE__*/ new Vector3();\n\n    var _vap = /*@__PURE__*/ new Vector3();\n\n    var _vbp = /*@__PURE__*/ new Vector3();\n\n    var _vcp = /*@__PURE__*/ new Vector3();\n\n    var Triangle = /*#__PURE__*/ function() {\n        function Triangle(a, b, c) {\n            if (a === void 0) {\n                a = new Vector3();\n            }\n\n            if (b === void 0) {\n                b = new Vector3();\n            }\n\n            if (c === void 0) {\n                c = new Vector3();\n            }\n\n            this.a = a;\n            this.b = b;\n            this.c = c;\n        }\n\n        Triangle.getNormal = function getNormal(a, b, c, target) {\n                if (target === undefined) {\n                    console.warn('THREE.Triangle: .getNormal() target is now required');\n                    target = new Vector3();\n                }\n\n                target.subVectors(c, b);\n\n                _v0$1.subVectors(a, b);\n\n                target.cross(_v0$1);\n                var targetLengthSq = target.lengthSq();\n\n                if (targetLengthSq > 0) {\n                    return target.multiplyScalar(1 / Math.sqrt(targetLengthSq));\n                }\n\n                return target.set(0, 0, 0);\n            } // static/instance method to calculate barycentric coordinates\n            // based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n        ;\n\n        Triangle.getBarycoord = function getBarycoord(point, a, b, c, target) {\n            _v0$1.subVectors(c, a);\n\n            _v1$3.subVectors(b, a);\n\n            _v2$1.subVectors(point, a);\n\n            var dot00 = _v0$1.dot(_v0$1);\n\n            var dot01 = _v0$1.dot(_v1$3);\n\n            var dot02 = _v0$1.dot(_v2$1);\n\n            var dot11 = _v1$3.dot(_v1$3);\n\n            var dot12 = _v1$3.dot(_v2$1);\n\n            var denom = dot00 * dot11 - dot01 * dot01;\n\n            if (target === undefined) {\n                console.warn('THREE.Triangle: .getBarycoord() target is now required');\n                target = new Vector3();\n            } // collinear or singular triangle\n\n\n            if (denom === 0) {\n                // arbitrary location outside of triangle?\n                // not sure if this is the best idea, maybe should be returning undefined\n                return target.set(-2, -1, -1);\n            }\n\n            var invDenom = 1 / denom;\n            var u = (dot11 * dot02 - dot01 * dot12) * invDenom;\n            var v = (dot00 * dot12 - dot01 * dot02) * invDenom; // barycentric coordinates must always sum to 1\n\n            return target.set(1 - u - v, v, u);\n        };\n\n        Triangle.containsPoint = function containsPoint(point, a, b, c) {\n            this.getBarycoord(point, a, b, c, _v3);\n            return _v3.x >= 0 && _v3.y >= 0 && _v3.x + _v3.y <= 1;\n        };\n\n        Triangle.getUV = function getUV(point, p1, p2, p3, uv1, uv2, uv3, target) {\n            this.getBarycoord(point, p1, p2, p3, _v3);\n            target.set(0, 0);\n            target.addScaledVector(uv1, _v3.x);\n            target.addScaledVector(uv2, _v3.y);\n            target.addScaledVector(uv3, _v3.z);\n            return target;\n        };\n\n        Triangle.isFrontFacing = function isFrontFacing(a, b, c, direction) {\n            _v0$1.subVectors(c, b);\n\n            _v1$3.subVectors(a, b); // strictly front facing\n\n\n            return _v0$1.cross(_v1$3).dot(direction) < 0 ? true : false;\n        };\n\n        var _proto = Triangle.prototype;\n\n        _proto.set = function set(a, b, c) {\n            this.a.copy(a);\n            this.b.copy(b);\n            this.c.copy(c);\n            return this;\n        };\n\n        _proto.setFromPointsAndIndices = function setFromPointsAndIndices(points, i0, i1, i2) {\n            this.a.copy(points[i0]);\n            this.b.copy(points[i1]);\n            this.c.copy(points[i2]);\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(triangle) {\n            this.a.copy(triangle.a);\n            this.b.copy(triangle.b);\n            this.c.copy(triangle.c);\n            return this;\n        };\n\n        _proto.getArea = function getArea() {\n            _v0$1.subVectors(this.c, this.b);\n\n            _v1$3.subVectors(this.a, this.b);\n\n            return _v0$1.cross(_v1$3).length() * 0.5;\n        };\n\n        _proto.getMidpoint = function getMidpoint(target) {\n            if (target === undefined) {\n                console.warn('THREE.Triangle: .getMidpoint() target is now required');\n                target = new Vector3();\n            }\n\n            return target.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3);\n        };\n\n        _proto.getNormal = function getNormal(target) {\n            return Triangle.getNormal(this.a, this.b, this.c, target);\n        };\n\n        _proto.getPlane = function getPlane(target) {\n            if (target === undefined) {\n                console.warn('THREE.Triangle: .getPlane() target is now required');\n                target = new Plane();\n            }\n\n            return target.setFromCoplanarPoints(this.a, this.b, this.c);\n        };\n\n        _proto.getBarycoord = function getBarycoord(point, target) {\n            return Triangle.getBarycoord(point, this.a, this.b, this.c, target);\n        };\n\n        _proto.getUV = function getUV(point, uv1, uv2, uv3, target) {\n            return Triangle.getUV(point, this.a, this.b, this.c, uv1, uv2, uv3, target);\n        };\n\n        _proto.containsPoint = function containsPoint(point) {\n            return Triangle.containsPoint(point, this.a, this.b, this.c);\n        };\n\n        _proto.isFrontFacing = function isFrontFacing(direction) {\n            return Triangle.isFrontFacing(this.a, this.b, this.c, direction);\n        };\n\n        _proto.intersectsBox = function intersectsBox(box) {\n            return box.intersectsTriangle(this);\n        };\n\n        _proto.closestPointToPoint = function closestPointToPoint(p, target) {\n            if (target === undefined) {\n                console.warn('THREE.Triangle: .closestPointToPoint() target is now required');\n                target = new Vector3();\n            }\n\n            var a = this.a,\n                b = this.b,\n                c = this.c;\n            var v, w; // algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n            // published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n            // under the accompanying license; see chapter 5.1.5 for detailed explanation.\n            // basically, we're distinguishing which of the voronoi regions of the triangle\n            // the point lies in with the minimum amount of redundant computation.\n\n            _vab.subVectors(b, a);\n\n            _vac.subVectors(c, a);\n\n            _vap.subVectors(p, a);\n\n            var d1 = _vab.dot(_vap);\n\n            var d2 = _vac.dot(_vap);\n\n            if (d1 <= 0 && d2 <= 0) {\n                // vertex region of A; barycentric coords (1, 0, 0)\n                return target.copy(a);\n            }\n\n            _vbp.subVectors(p, b);\n\n            var d3 = _vab.dot(_vbp);\n\n            var d4 = _vac.dot(_vbp);\n\n            if (d3 >= 0 && d4 <= d3) {\n                // vertex region of B; barycentric coords (0, 1, 0)\n                return target.copy(b);\n            }\n\n            var vc = d1 * d4 - d3 * d2;\n\n            if (vc <= 0 && d1 >= 0 && d3 <= 0) {\n                v = d1 / (d1 - d3); // edge region of AB; barycentric coords (1-v, v, 0)\n\n                return target.copy(a).addScaledVector(_vab, v);\n            }\n\n            _vcp.subVectors(p, c);\n\n            var d5 = _vab.dot(_vcp);\n\n            var d6 = _vac.dot(_vcp);\n\n            if (d6 >= 0 && d5 <= d6) {\n                // vertex region of C; barycentric coords (0, 0, 1)\n                return target.copy(c);\n            }\n\n            var vb = d5 * d2 - d1 * d6;\n\n            if (vb <= 0 && d2 >= 0 && d6 <= 0) {\n                w = d2 / (d2 - d6); // edge region of AC; barycentric coords (1-w, 0, w)\n\n                return target.copy(a).addScaledVector(_vac, w);\n            }\n\n            var va = d3 * d6 - d5 * d4;\n\n            if (va <= 0 && d4 - d3 >= 0 && d5 - d6 >= 0) {\n                _vbc.subVectors(c, b);\n\n                w = (d4 - d3) / (d4 - d3 + (d5 - d6)); // edge region of BC; barycentric coords (0, 1-w, w)\n\n                return target.copy(b).addScaledVector(_vbc, w); // edge region of BC\n            } // face region\n\n\n            var denom = 1 / (va + vb + vc); // u = va * denom\n\n            v = vb * denom;\n            w = vc * denom;\n            return target.copy(a).addScaledVector(_vab, v).addScaledVector(_vac, w);\n        };\n\n        _proto.equals = function equals(triangle) {\n            return triangle.a.equals(this.a) && triangle.b.equals(this.b) && triangle.c.equals(this.c);\n        };\n\n        return Triangle;\n    }();\n\n    var materialId = 0;\n\n    function Material() {\n        Object.defineProperty(this, 'id', {\n            value: materialId++\n        });\n        this.uuid = MathUtils.generateUUID();\n        this.name = '';\n        this.type = 'Material';\n        this.fog = true;\n        this.blending = NormalBlending;\n        this.side = FrontSide;\n        this.vertexColors = false;\n        this.opacity = 1;\n        this.transparent = false;\n        this.blendSrc = SrcAlphaFactor;\n        this.blendDst = OneMinusSrcAlphaFactor;\n        this.blendEquation = AddEquation;\n        this.blendSrcAlpha = null;\n        this.blendDstAlpha = null;\n        this.blendEquationAlpha = null;\n        this.depthFunc = LessEqualDepth;\n        this.depthTest = true;\n        this.depthWrite = true;\n        this.stencilWriteMask = 0xff;\n        this.stencilFunc = AlwaysStencilFunc;\n        this.stencilRef = 0;\n        this.stencilFuncMask = 0xff;\n        this.stencilFail = KeepStencilOp;\n        this.stencilZFail = KeepStencilOp;\n        this.stencilZPass = KeepStencilOp;\n        this.stencilWrite = false;\n        this.clippingPlanes = null;\n        this.clipIntersection = false;\n        this.clipShadows = false;\n        this.shadowSide = null;\n        this.colorWrite = true;\n        this.precision = null; // override the renderer's default precision for this material\n\n        this.polygonOffset = false;\n        this.polygonOffsetFactor = 0;\n        this.polygonOffsetUnits = 0;\n        this.dithering = false;\n        this.alphaTest = 0;\n        this.premultipliedAlpha = false;\n        this.visible = true;\n        this.toneMapped = true;\n        this.userData = {};\n        this.version = 0;\n    }\n\n    Material.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n        constructor: Material,\n        isMaterial: true,\n        onBeforeCompile: function onBeforeCompile()\n            /* shaderobject, renderer */\n            {},\n        customProgramCacheKey: function customProgramCacheKey() {\n            return this.onBeforeCompile.toString();\n        },\n        setValues: function setValues(values) {\n            if (values === undefined) return;\n\n            for (var key in values) {\n                var newValue = values[key];\n\n                if (newValue === undefined) {\n                    console.warn('THREE.Material: \\'' + key + '\\' parameter is undefined.');\n                    continue;\n                } // for backward compatability if shading is set in the constructor\n\n\n                if (key === 'shading') {\n                    console.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n                    this.flatShading = newValue === FlatShading ? true : false;\n                    continue;\n                }\n\n                var currentValue = this[key];\n\n                if (currentValue === undefined) {\n                    console.warn('THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.');\n                    continue;\n                }\n\n                if (currentValue && currentValue.isColor) {\n                    currentValue.set(newValue);\n                } else if (currentValue && currentValue.isVector3 && newValue && newValue.isVector3) {\n                    currentValue.copy(newValue);\n                } else {\n                    this[key] = newValue;\n                }\n            }\n        },\n        toJSON: function toJSON(meta) {\n            var isRoot = meta === undefined || typeof meta === 'string';\n\n            if (isRoot) {\n                meta = {\n                    textures: {},\n                    images: {}\n                };\n            }\n\n            var data = {\n                metadata: {\n                    version: 4.5,\n                    type: 'Material',\n                    generator: 'Material.toJSON'\n                }\n            }; // standard Material serialization\n\n            data.uuid = this.uuid;\n            data.type = this.type;\n            if (this.name !== '') data.name = this.name;\n            if (this.color && this.color.isColor) data.color = this.color.getHex();\n            if (this.roughness !== undefined) data.roughness = this.roughness;\n            if (this.metalness !== undefined) data.metalness = this.metalness;\n            if (this.sheen && this.sheen.isColor) data.sheen = this.sheen.getHex();\n            if (this.emissive && this.emissive.isColor) data.emissive = this.emissive.getHex();\n            if (this.emissiveIntensity && this.emissiveIntensity !== 1) data.emissiveIntensity = this.emissiveIntensity;\n            if (this.specular && this.specular.isColor) data.specular = this.specular.getHex();\n            if (this.shininess !== undefined) data.shininess = this.shininess;\n            if (this.clearcoat !== undefined) data.clearcoat = this.clearcoat;\n            if (this.clearcoatRoughness !== undefined) data.clearcoatRoughness = this.clearcoatRoughness;\n\n            if (this.clearcoatMap && this.clearcoatMap.isTexture) {\n                data.clearcoatMap = this.clearcoatMap.toJSON(meta).uuid;\n            }\n\n            if (this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture) {\n                data.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON(meta).uuid;\n            }\n\n            if (this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture) {\n                data.clearcoatNormalMap = this.clearcoatNormalMap.toJSON(meta).uuid;\n                data.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n            }\n\n            if (this.map && this.map.isTexture) data.map = this.map.toJSON(meta).uuid;\n            if (this.matcap && this.matcap.isTexture) data.matcap = this.matcap.toJSON(meta).uuid;\n            if (this.alphaMap && this.alphaMap.isTexture) data.alphaMap = this.alphaMap.toJSON(meta).uuid;\n\n            if (this.lightMap && this.lightMap.isTexture) {\n                data.lightMap = this.lightMap.toJSON(meta).uuid;\n                data.lightMapIntensity = this.lightMapIntensity;\n            }\n\n            if (this.aoMap && this.aoMap.isTexture) {\n                data.aoMap = this.aoMap.toJSON(meta).uuid;\n                data.aoMapIntensity = this.aoMapIntensity;\n            }\n\n            if (this.bumpMap && this.bumpMap.isTexture) {\n                data.bumpMap = this.bumpMap.toJSON(meta).uuid;\n                data.bumpScale = this.bumpScale;\n            }\n\n            if (this.normalMap && this.normalMap.isTexture) {\n                data.normalMap = this.normalMap.toJSON(meta).uuid;\n                data.normalMapType = this.normalMapType;\n                data.normalScale = this.normalScale.toArray();\n            }\n\n            if (this.displacementMap && this.displacementMap.isTexture) {\n                data.displacementMap = this.displacementMap.toJSON(meta).uuid;\n                data.displacementScale = this.displacementScale;\n                data.displacementBias = this.displacementBias;\n            }\n\n            if (this.roughnessMap && this.roughnessMap.isTexture) data.roughnessMap = this.roughnessMap.toJSON(meta).uuid;\n            if (this.metalnessMap && this.metalnessMap.isTexture) data.metalnessMap = this.metalnessMap.toJSON(meta).uuid;\n            if (this.emissiveMap && this.emissiveMap.isTexture) data.emissiveMap = this.emissiveMap.toJSON(meta).uuid;\n            if (this.specularMap && this.specularMap.isTexture) data.specularMap = this.specularMap.toJSON(meta).uuid;\n\n            if (this.envMap && this.envMap.isTexture) {\n                data.envMap = this.envMap.toJSON(meta).uuid;\n                data.reflectivity = this.reflectivity; // Scale behind envMap\n\n                data.refractionRatio = this.refractionRatio;\n                if (this.combine !== undefined) data.combine = this.combine;\n                if (this.envMapIntensity !== undefined) data.envMapIntensity = this.envMapIntensity;\n            }\n\n            if (this.gradientMap && this.gradientMap.isTexture) {\n                data.gradientMap = this.gradientMap.toJSON(meta).uuid;\n            }\n\n            if (this.size !== undefined) data.size = this.size;\n            if (this.sizeAttenuation !== undefined) data.sizeAttenuation = this.sizeAttenuation;\n            if (this.blending !== NormalBlending) data.blending = this.blending;\n            if (this.side !== FrontSide) data.side = this.side;\n            if (this.vertexColors) data.vertexColors = true;\n            if (this.opacity < 1) data.opacity = this.opacity;\n            if (this.transparent === true) data.transparent = this.transparent;\n            data.depthFunc = this.depthFunc;\n            data.depthTest = this.depthTest;\n            data.depthWrite = this.depthWrite;\n            data.stencilWrite = this.stencilWrite;\n            data.stencilWriteMask = this.stencilWriteMask;\n            data.stencilFunc = this.stencilFunc;\n            data.stencilRef = this.stencilRef;\n            data.stencilFuncMask = this.stencilFuncMask;\n            data.stencilFail = this.stencilFail;\n            data.stencilZFail = this.stencilZFail;\n            data.stencilZPass = this.stencilZPass; // rotation (SpriteMaterial)\n\n            if (this.rotation && this.rotation !== 0) data.rotation = this.rotation;\n            if (this.polygonOffset === true) data.polygonOffset = true;\n            if (this.polygonOffsetFactor !== 0) data.polygonOffsetFactor = this.polygonOffsetFactor;\n            if (this.polygonOffsetUnits !== 0) data.polygonOffsetUnits = this.polygonOffsetUnits;\n            if (this.linewidth && this.linewidth !== 1) data.linewidth = this.linewidth;\n            if (this.dashSize !== undefined) data.dashSize = this.dashSize;\n            if (this.gapSize !== undefined) data.gapSize = this.gapSize;\n            if (this.scale !== undefined) data.scale = this.scale;\n            if (this.dithering === true) data.dithering = true;\n            if (this.alphaTest > 0) data.alphaTest = this.alphaTest;\n            if (this.premultipliedAlpha === true) data.premultipliedAlpha = this.premultipliedAlpha;\n            if (this.wireframe === true) data.wireframe = this.wireframe;\n            if (this.wireframeLinewidth > 1) data.wireframeLinewidth = this.wireframeLinewidth;\n            if (this.wireframeLinecap !== 'round') data.wireframeLinecap = this.wireframeLinecap;\n            if (this.wireframeLinejoin !== 'round') data.wireframeLinejoin = this.wireframeLinejoin;\n            if (this.morphTargets === true) data.morphTargets = true;\n            if (this.morphNormals === true) data.morphNormals = true;\n            if (this.skinning === true) data.skinning = true;\n            if (this.flatShading === true) data.flatShading = this.flatShading;\n            if (this.visible === false) data.visible = false;\n            if (this.toneMapped === false) data.toneMapped = false;\n            if (JSON.stringify(this.userData) !== '{}') data.userData = this.userData; // TODO: Copied from Object3D.toJSON\n\n            function extractFromCache(cache) {\n                var values = [];\n\n                for (var key in cache) {\n                    var _data = cache[key];\n                    delete _data.metadata;\n                    values.push(_data);\n                }\n\n                return values;\n            }\n\n            if (isRoot) {\n                var textures = extractFromCache(meta.textures);\n                var images = extractFromCache(meta.images);\n                if (textures.length > 0) data.textures = textures;\n                if (images.length > 0) data.images = images;\n            }\n\n            return data;\n        },\n        clone: function clone() {\n            return new this.constructor().copy(this);\n        },\n        copy: function copy(source) {\n            this.name = source.name;\n            this.fog = source.fog;\n            this.blending = source.blending;\n            this.side = source.side;\n            this.vertexColors = source.vertexColors;\n            this.opacity = source.opacity;\n            this.transparent = source.transparent;\n            this.blendSrc = source.blendSrc;\n            this.blendDst = source.blendDst;\n            this.blendEquation = source.blendEquation;\n            this.blendSrcAlpha = source.blendSrcAlpha;\n            this.blendDstAlpha = source.blendDstAlpha;\n            this.blendEquationAlpha = source.blendEquationAlpha;\n            this.depthFunc = source.depthFunc;\n            this.depthTest = source.depthTest;\n            this.depthWrite = source.depthWrite;\n            this.stencilWriteMask = source.stencilWriteMask;\n            this.stencilFunc = source.stencilFunc;\n            this.stencilRef = source.stencilRef;\n            this.stencilFuncMask = source.stencilFuncMask;\n            this.stencilFail = source.stencilFail;\n            this.stencilZFail = source.stencilZFail;\n            this.stencilZPass = source.stencilZPass;\n            this.stencilWrite = source.stencilWrite;\n            var srcPlanes = source.clippingPlanes;\n            var dstPlanes = null;\n\n            if (srcPlanes !== null) {\n                var n = srcPlanes.length;\n                dstPlanes = new Array(n);\n\n                for (var i = 0; i !== n; ++i) {\n                    dstPlanes[i] = srcPlanes[i].clone();\n                }\n            }\n\n            this.clippingPlanes = dstPlanes;\n            this.clipIntersection = source.clipIntersection;\n            this.clipShadows = source.clipShadows;\n            this.shadowSide = source.shadowSide;\n            this.colorWrite = source.colorWrite;\n            this.precision = source.precision;\n            this.polygonOffset = source.polygonOffset;\n            this.polygonOffsetFactor = source.polygonOffsetFactor;\n            this.polygonOffsetUnits = source.polygonOffsetUnits;\n            this.dithering = source.dithering;\n            this.alphaTest = source.alphaTest;\n            this.premultipliedAlpha = source.premultipliedAlpha;\n            this.visible = source.visible;\n            this.toneMapped = source.toneMapped;\n            this.userData = JSON.parse(JSON.stringify(source.userData));\n            return this;\n        },\n        dispose: function dispose() {\n            this.dispatchEvent({\n                type: 'dispose'\n            });\n        }\n    });\n    Object.defineProperty(Material.prototype, 'needsUpdate', {\n        set: function set(value) {\n            if (value === true) this.version++;\n        }\n    });\n\n    var _colorKeywords = {\n        'aliceblue': 0xF0F8FF,\n        'antiquewhite': 0xFAEBD7,\n        'aqua': 0x00FFFF,\n        'aquamarine': 0x7FFFD4,\n        'azure': 0xF0FFFF,\n        'beige': 0xF5F5DC,\n        'bisque': 0xFFE4C4,\n        'black': 0x000000,\n        'blanchedalmond': 0xFFEBCD,\n        'blue': 0x0000FF,\n        'blueviolet': 0x8A2BE2,\n        'brown': 0xA52A2A,\n        'burlywood': 0xDEB887,\n        'cadetblue': 0x5F9EA0,\n        'chartreuse': 0x7FFF00,\n        'chocolate': 0xD2691E,\n        'coral': 0xFF7F50,\n        'cornflowerblue': 0x6495ED,\n        'cornsilk': 0xFFF8DC,\n        'crimson': 0xDC143C,\n        'cyan': 0x00FFFF,\n        'darkblue': 0x00008B,\n        'darkcyan': 0x008B8B,\n        'darkgoldenrod': 0xB8860B,\n        'darkgray': 0xA9A9A9,\n        'darkgreen': 0x006400,\n        'darkgrey': 0xA9A9A9,\n        'darkkhaki': 0xBDB76B,\n        'darkmagenta': 0x8B008B,\n        'darkolivegreen': 0x556B2F,\n        'darkorange': 0xFF8C00,\n        'darkorchid': 0x9932CC,\n        'darkred': 0x8B0000,\n        'darksalmon': 0xE9967A,\n        'darkseagreen': 0x8FBC8F,\n        'darkslateblue': 0x483D8B,\n        'darkslategray': 0x2F4F4F,\n        'darkslategrey': 0x2F4F4F,\n        'darkturquoise': 0x00CED1,\n        'darkviolet': 0x9400D3,\n        'deeppink': 0xFF1493,\n        'deepskyblue': 0x00BFFF,\n        'dimgray': 0x696969,\n        'dimgrey': 0x696969,\n        'dodgerblue': 0x1E90FF,\n        'firebrick': 0xB22222,\n        'floralwhite': 0xFFFAF0,\n        'forestgreen': 0x228B22,\n        'fuchsia': 0xFF00FF,\n        'gainsboro': 0xDCDCDC,\n        'ghostwhite': 0xF8F8FF,\n        'gold': 0xFFD700,\n        'goldenrod': 0xDAA520,\n        'gray': 0x808080,\n        'green': 0x008000,\n        'greenyellow': 0xADFF2F,\n        'grey': 0x808080,\n        'honeydew': 0xF0FFF0,\n        'hotpink': 0xFF69B4,\n        'indianred': 0xCD5C5C,\n        'indigo': 0x4B0082,\n        'ivory': 0xFFFFF0,\n        'khaki': 0xF0E68C,\n        'lavender': 0xE6E6FA,\n        'lavenderblush': 0xFFF0F5,\n        'lawngreen': 0x7CFC00,\n        'lemonchiffon': 0xFFFACD,\n        'lightblue': 0xADD8E6,\n        'lightcoral': 0xF08080,\n        'lightcyan': 0xE0FFFF,\n        'lightgoldenrodyellow': 0xFAFAD2,\n        'lightgray': 0xD3D3D3,\n        'lightgreen': 0x90EE90,\n        'lightgrey': 0xD3D3D3,\n        'lightpink': 0xFFB6C1,\n        'lightsalmon': 0xFFA07A,\n        'lightseagreen': 0x20B2AA,\n        'lightskyblue': 0x87CEFA,\n        'lightslategray': 0x778899,\n        'lightslategrey': 0x778899,\n        'lightsteelblue': 0xB0C4DE,\n        'lightyellow': 0xFFFFE0,\n        'lime': 0x00FF00,\n        'limegreen': 0x32CD32,\n        'linen': 0xFAF0E6,\n        'magenta': 0xFF00FF,\n        'maroon': 0x800000,\n        'mediumaquamarine': 0x66CDAA,\n        'mediumblue': 0x0000CD,\n        'mediumorchid': 0xBA55D3,\n        'mediumpurple': 0x9370DB,\n        'mediumseagreen': 0x3CB371,\n        'mediumslateblue': 0x7B68EE,\n        'mediumspringgreen': 0x00FA9A,\n        'mediumturquoise': 0x48D1CC,\n        'mediumvioletred': 0xC71585,\n        'midnightblue': 0x191970,\n        'mintcream': 0xF5FFFA,\n        'mistyrose': 0xFFE4E1,\n        'moccasin': 0xFFE4B5,\n        'navajowhite': 0xFFDEAD,\n        'navy': 0x000080,\n        'oldlace': 0xFDF5E6,\n        'olive': 0x808000,\n        'olivedrab': 0x6B8E23,\n        'orange': 0xFFA500,\n        'orangered': 0xFF4500,\n        'orchid': 0xDA70D6,\n        'palegoldenrod': 0xEEE8AA,\n        'palegreen': 0x98FB98,\n        'paleturquoise': 0xAFEEEE,\n        'palevioletred': 0xDB7093,\n        'papayawhip': 0xFFEFD5,\n        'peachpuff': 0xFFDAB9,\n        'peru': 0xCD853F,\n        'pink': 0xFFC0CB,\n        'plum': 0xDDA0DD,\n        'powderblue': 0xB0E0E6,\n        'purple': 0x800080,\n        'rebeccapurple': 0x663399,\n        'red': 0xFF0000,\n        'rosybrown': 0xBC8F8F,\n        'royalblue': 0x4169E1,\n        'saddlebrown': 0x8B4513,\n        'salmon': 0xFA8072,\n        'sandybrown': 0xF4A460,\n        'seagreen': 0x2E8B57,\n        'seashell': 0xFFF5EE,\n        'sienna': 0xA0522D,\n        'silver': 0xC0C0C0,\n        'skyblue': 0x87CEEB,\n        'slateblue': 0x6A5ACD,\n        'slategray': 0x708090,\n        'slategrey': 0x708090,\n        'snow': 0xFFFAFA,\n        'springgreen': 0x00FF7F,\n        'steelblue': 0x4682B4,\n        'tan': 0xD2B48C,\n        'teal': 0x008080,\n        'thistle': 0xD8BFD8,\n        'tomato': 0xFF6347,\n        'turquoise': 0x40E0D0,\n        'violet': 0xEE82EE,\n        'wheat': 0xF5DEB3,\n        'white': 0xFFFFFF,\n        'whitesmoke': 0xF5F5F5,\n        'yellow': 0xFFFF00,\n        'yellowgreen': 0x9ACD32\n    };\n    var _hslA = {\n        h: 0,\n        s: 0,\n        l: 0\n    };\n    var _hslB = {\n        h: 0,\n        s: 0,\n        l: 0\n    };\n\n    function hue2rgb(p, q, t) {\n        if (t < 0) t += 1;\n        if (t > 1) t -= 1;\n        if (t < 1 / 6) return p + (q - p) * 6 * t;\n        if (t < 1 / 2) return q;\n        if (t < 2 / 3) return p + (q - p) * 6 * (2 / 3 - t);\n        return p;\n    }\n\n    function SRGBToLinear(c) {\n        return c < 0.04045 ? c * 0.0773993808 : Math.pow(c * 0.9478672986 + 0.0521327014, 2.4);\n    }\n\n    function LinearToSRGB(c) {\n        return c < 0.0031308 ? c * 12.92 : 1.055 * Math.pow(c, 0.41666) - 0.055;\n    }\n\n    var Color = /*#__PURE__*/ function() {\n        function Color(r, g, b) {\n            if (g === undefined && b === undefined) {\n                // r is THREE.Color, hex or string\n                return this.set(r);\n            }\n\n            return this.setRGB(r, g, b);\n        }\n\n        var _proto = Color.prototype;\n\n        _proto.set = function set(value) {\n            if (value && value.isColor) {\n                this.copy(value);\n            } else if (typeof value === 'number') {\n                this.setHex(value);\n            } else if (typeof value === 'string') {\n                this.setStyle(value);\n            }\n\n            return this;\n        };\n\n        _proto.setScalar = function setScalar(scalar) {\n            this.r = scalar;\n            this.g = scalar;\n            this.b = scalar;\n            return this;\n        };\n\n        _proto.setHex = function setHex(hex) {\n            hex = Math.floor(hex);\n            this.r = (hex >> 16 & 255) / 255;\n            this.g = (hex >> 8 & 255) / 255;\n            this.b = (hex & 255) / 255;\n            return this;\n        };\n\n        _proto.setRGB = function setRGB(r, g, b) {\n            this.r = r;\n            this.g = g;\n            this.b = b;\n            return this;\n        };\n\n        _proto.setHSL = function setHSL(h, s, l) {\n            // h,s,l ranges are in 0.0 - 1.0\n            h = MathUtils.euclideanModulo(h, 1);\n            s = MathUtils.clamp(s, 0, 1);\n            l = MathUtils.clamp(l, 0, 1);\n\n            if (s === 0) {\n                this.r = this.g = this.b = l;\n            } else {\n                var p = l <= 0.5 ? l * (1 + s) : l + s - l * s;\n                var q = 2 * l - p;\n                this.r = hue2rgb(q, p, h + 1 / 3);\n                this.g = hue2rgb(q, p, h);\n                this.b = hue2rgb(q, p, h - 1 / 3);\n            }\n\n            return this;\n        };\n\n        _proto.setStyle = function setStyle(style) {\n            function handleAlpha(string) {\n                if (string === undefined) return;\n\n                if (parseFloat(string) < 1) {\n                    console.warn('THREE.Color: Alpha component of ' + style + ' will be ignored.');\n                }\n            }\n\n            var m;\n\n            if (m = /^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec(style)) {\n                // rgb / hsl\n                var color;\n                var name = m[1];\n                var components = m[2];\n\n                switch (name) {\n                    case 'rgb':\n                    case 'rgba':\n                        if (color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec(components)) {\n                            // rgb(255,0,0) rgba(255,0,0,0.5)\n                            this.r = Math.min(255, parseInt(color[1], 10)) / 255;\n                            this.g = Math.min(255, parseInt(color[2], 10)) / 255;\n                            this.b = Math.min(255, parseInt(color[3], 10)) / 255;\n                            handleAlpha(color[4]);\n                            return this;\n                        }\n\n                        if (color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec(components)) {\n                            // rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n                            this.r = Math.min(100, parseInt(color[1], 10)) / 100;\n                            this.g = Math.min(100, parseInt(color[2], 10)) / 100;\n                            this.b = Math.min(100, parseInt(color[3], 10)) / 100;\n                            handleAlpha(color[4]);\n                            return this;\n                        }\n\n                        break;\n\n                    case 'hsl':\n                    case 'hsla':\n                        if (color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec(components)) {\n                            // hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n                            var h = parseFloat(color[1]) / 360;\n                            var s = parseInt(color[2], 10) / 100;\n                            var l = parseInt(color[3], 10) / 100;\n                            handleAlpha(color[4]);\n                            return this.setHSL(h, s, l);\n                        }\n\n                        break;\n                }\n            } else if (m = /^\\#([A-Fa-f\\d]+)$/.exec(style)) {\n                // hex color\n                var hex = m[1];\n                var size = hex.length;\n\n                if (size === 3) {\n                    // #ff0\n                    this.r = parseInt(hex.charAt(0) + hex.charAt(0), 16) / 255;\n                    this.g = parseInt(hex.charAt(1) + hex.charAt(1), 16) / 255;\n                    this.b = parseInt(hex.charAt(2) + hex.charAt(2), 16) / 255;\n                    return this;\n                } else if (size === 6) {\n                    // #ff0000\n                    this.r = parseInt(hex.charAt(0) + hex.charAt(1), 16) / 255;\n                    this.g = parseInt(hex.charAt(2) + hex.charAt(3), 16) / 255;\n                    this.b = parseInt(hex.charAt(4) + hex.charAt(5), 16) / 255;\n                    return this;\n                }\n            }\n\n            if (style && style.length > 0) {\n                return this.setColorName(style);\n            }\n\n            return this;\n        };\n\n        _proto.setColorName = function setColorName(style) {\n            // color keywords\n            var hex = _colorKeywords[style];\n\n            if (hex !== undefined) {\n                // red\n                this.setHex(hex);\n            } else {\n                // unknown color\n                console.warn('THREE.Color: Unknown color ' + style);\n            }\n\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor(this.r, this.g, this.b);\n        };\n\n        _proto.copy = function copy(color) {\n            this.r = color.r;\n            this.g = color.g;\n            this.b = color.b;\n            return this;\n        };\n\n        _proto.copyGammaToLinear = function copyGammaToLinear(color, gammaFactor) {\n            if (gammaFactor === void 0) {\n                gammaFactor = 2.0;\n            }\n\n            this.r = Math.pow(color.r, gammaFactor);\n            this.g = Math.pow(color.g, gammaFactor);\n            this.b = Math.pow(color.b, gammaFactor);\n            return this;\n        };\n\n        _proto.copyLinearToGamma = function copyLinearToGamma(color, gammaFactor) {\n            if (gammaFactor === void 0) {\n                gammaFactor = 2.0;\n            }\n\n            var safeInverse = gammaFactor > 0 ? 1.0 / gammaFactor : 1.0;\n            this.r = Math.pow(color.r, safeInverse);\n            this.g = Math.pow(color.g, safeInverse);\n            this.b = Math.pow(color.b, safeInverse);\n            return this;\n        };\n\n        _proto.convertGammaToLinear = function convertGammaToLinear(gammaFactor) {\n            this.copyGammaToLinear(this, gammaFactor);\n            return this;\n        };\n\n        _proto.convertLinearToGamma = function convertLinearToGamma(gammaFactor) {\n            this.copyLinearToGamma(this, gammaFactor);\n            return this;\n        };\n\n        _proto.copySRGBToLinear = function copySRGBToLinear(color) {\n            this.r = SRGBToLinear(color.r);\n            this.g = SRGBToLinear(color.g);\n            this.b = SRGBToLinear(color.b);\n            return this;\n        };\n\n        _proto.copyLinearToSRGB = function copyLinearToSRGB(color) {\n            this.r = LinearToSRGB(color.r);\n            this.g = LinearToSRGB(color.g);\n            this.b = LinearToSRGB(color.b);\n            return this;\n        };\n\n        _proto.convertSRGBToLinear = function convertSRGBToLinear() {\n            this.copySRGBToLinear(this);\n            return this;\n        };\n\n        _proto.convertLinearToSRGB = function convertLinearToSRGB() {\n            this.copyLinearToSRGB(this);\n            return this;\n        };\n\n        _proto.getHex = function getHex() {\n            return this.r * 255 << 16 ^ this.g * 255 << 8 ^ this.b * 255 << 0;\n        };\n\n        _proto.getHexString = function getHexString() {\n            return ('000000' + this.getHex().toString(16)).slice(-6);\n        };\n\n        _proto.getHSL = function getHSL(target) {\n            // h,s,l ranges are in 0.0 - 1.0\n            if (target === undefined) {\n                console.warn('THREE.Color: .getHSL() target is now required');\n                target = {\n                    h: 0,\n                    s: 0,\n                    l: 0\n                };\n            }\n\n            var r = this.r,\n                g = this.g,\n                b = this.b;\n            var max = Math.max(r, g, b);\n            var min = Math.min(r, g, b);\n            var hue, saturation;\n            var lightness = (min + max) / 2.0;\n\n            if (min === max) {\n                hue = 0;\n                saturation = 0;\n            } else {\n                var delta = max - min;\n                saturation = lightness <= 0.5 ? delta / (max + min) : delta / (2 - max - min);\n\n                switch (max) {\n                    case r:\n                        hue = (g - b) / delta + (g < b ? 6 : 0);\n                        break;\n\n                    case g:\n                        hue = (b - r) / delta + 2;\n                        break;\n\n                    case b:\n                        hue = (r - g) / delta + 4;\n                        break;\n                }\n\n                hue /= 6;\n            }\n\n            target.h = hue;\n            target.s = saturation;\n            target.l = lightness;\n            return target;\n        };\n\n        _proto.getStyle = function getStyle() {\n            return 'rgb(' + (this.r * 255 | 0) + ',' + (this.g * 255 | 0) + ',' + (this.b * 255 | 0) + ')';\n        };\n\n        _proto.offsetHSL = function offsetHSL(h, s, l) {\n            this.getHSL(_hslA);\n            _hslA.h += h;\n            _hslA.s += s;\n            _hslA.l += l;\n            this.setHSL(_hslA.h, _hslA.s, _hslA.l);\n            return this;\n        };\n\n        _proto.add = function add(color) {\n            this.r += color.r;\n            this.g += color.g;\n            this.b += color.b;\n            return this;\n        };\n\n        _proto.addColors = function addColors(color1, color2) {\n            this.r = color1.r + color2.r;\n            this.g = color1.g + color2.g;\n            this.b = color1.b + color2.b;\n            return this;\n        };\n\n        _proto.addScalar = function addScalar(s) {\n            this.r += s;\n            this.g += s;\n            this.b += s;\n            return this;\n        };\n\n        _proto.sub = function sub(color) {\n            this.r = Math.max(0, this.r - color.r);\n            this.g = Math.max(0, this.g - color.g);\n            this.b = Math.max(0, this.b - color.b);\n            return this;\n        };\n\n        _proto.multiply = function multiply(color) {\n            this.r *= color.r;\n            this.g *= color.g;\n            this.b *= color.b;\n            return this;\n        };\n\n        _proto.multiplyScalar = function multiplyScalar(s) {\n            this.r *= s;\n            this.g *= s;\n            this.b *= s;\n            return this;\n        };\n\n        _proto.lerp = function lerp(color, alpha) {\n            this.r += (color.r - this.r) * alpha;\n            this.g += (color.g - this.g) * alpha;\n            this.b += (color.b - this.b) * alpha;\n            return this;\n        };\n\n        _proto.lerpColors = function lerpColors(color1, color2, alpha) {\n            this.r = color1.r + (color2.r - color1.r) * alpha;\n            this.g = color1.g + (color2.g - color1.g) * alpha;\n            this.b = color1.b + (color2.b - color1.b) * alpha;\n            return this;\n        };\n\n        _proto.lerpHSL = function lerpHSL(color, alpha) {\n            this.getHSL(_hslA);\n            color.getHSL(_hslB);\n            var h = MathUtils.lerp(_hslA.h, _hslB.h, alpha);\n            var s = MathUtils.lerp(_hslA.s, _hslB.s, alpha);\n            var l = MathUtils.lerp(_hslA.l, _hslB.l, alpha);\n            this.setHSL(h, s, l);\n            return this;\n        };\n\n        _proto.equals = function equals(c) {\n            return c.r === this.r && c.g === this.g && c.b === this.b;\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            this.r = array[offset];\n            this.g = array[offset + 1];\n            this.b = array[offset + 2];\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n            if (array === void 0) {\n                array = [];\n            }\n\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            array[offset] = this.r;\n            array[offset + 1] = this.g;\n            array[offset + 2] = this.b;\n            return array;\n        };\n\n        _proto.fromBufferAttribute = function fromBufferAttribute(attribute, index) {\n            this.r = attribute.getX(index);\n            this.g = attribute.getY(index);\n            this.b = attribute.getZ(index);\n\n            if (attribute.normalized === true) {\n                // assuming Uint8Array\n                this.r /= 255;\n                this.g /= 255;\n                this.b /= 255;\n            }\n\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            return this.getHex();\n        };\n\n        return Color;\n    }();\n\n    Color.NAMES = _colorKeywords;\n    Color.prototype.isColor = true;\n    Color.prototype.r = 1;\n    Color.prototype.g = 1;\n    Color.prototype.b = 1;\n\n    /**\n     * parameters = {\n     *\tcolor: <hex>,\n     *\topacity: <float>,\n     *\tmap: new THREE.Texture( <Image> ),\n     *\n     *\tlightMap: new THREE.Texture( <Image> ),\n     *\tlightMapIntensity: <float>\n     *\n     *\taoMap: new THREE.Texture( <Image> ),\n     *\taoMapIntensity: <float>\n     *\n     *\tspecularMap: new THREE.Texture( <Image> ),\n     *\n     *\talphaMap: new THREE.Texture( <Image> ),\n     *\n     *\tenvMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n     *\tcombine: THREE.Multiply,\n     *\treflectivity: <float>,\n     *\trefractionRatio: <float>,\n     *\n     *\tdepthTest: <bool>,\n     *\tdepthWrite: <bool>,\n     *\n     *\twireframe: <boolean>,\n     *\twireframeLinewidth: <float>,\n     *\n     *\tskinning: <bool>,\n     *\tmorphTargets: <bool>\n     * }\n     */\n\n    var MeshBasicMaterial = /*#__PURE__*/ function(_Material) {\n        _inheritsLoose(MeshBasicMaterial, _Material);\n\n        function MeshBasicMaterial(parameters) {\n            var _this;\n\n            _this = _Material.call(this) || this;\n            _this.type = 'MeshBasicMaterial';\n            _this.color = new Color(0xffffff); // emissive\n\n            _this.map = null;\n            _this.lightMap = null;\n            _this.lightMapIntensity = 1.0;\n            _this.aoMap = null;\n            _this.aoMapIntensity = 1.0;\n            _this.specularMap = null;\n            _this.alphaMap = null;\n            _this.envMap = null;\n            _this.combine = MultiplyOperation;\n            _this.reflectivity = 1;\n            _this.refractionRatio = 0.98;\n            _this.wireframe = false;\n            _this.wireframeLinewidth = 1;\n            _this.wireframeLinecap = 'round';\n            _this.wireframeLinejoin = 'round';\n            _this.skinning = false;\n            _this.morphTargets = false;\n\n            _this.setValues(parameters);\n\n            return _this;\n        }\n\n        var _proto = MeshBasicMaterial.prototype;\n\n        _proto.copy = function copy(source) {\n            _Material.prototype.copy.call(this, source);\n\n            this.color.copy(source.color);\n            this.map = source.map;\n            this.lightMap = source.lightMap;\n            this.lightMapIntensity = source.lightMapIntensity;\n            this.aoMap = source.aoMap;\n            this.aoMapIntensity = source.aoMapIntensity;\n            this.specularMap = source.specularMap;\n            this.alphaMap = source.alphaMap;\n            this.envMap = source.envMap;\n            this.combine = source.combine;\n            this.reflectivity = source.reflectivity;\n            this.refractionRatio = source.refractionRatio;\n            this.wireframe = source.wireframe;\n            this.wireframeLinewidth = source.wireframeLinewidth;\n            this.wireframeLinecap = source.wireframeLinecap;\n            this.wireframeLinejoin = source.wireframeLinejoin;\n            this.skinning = source.skinning;\n            this.morphTargets = source.morphTargets;\n            return this;\n        };\n\n        return MeshBasicMaterial;\n    }(Material);\n\n    MeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\n    var _vector$3 = new Vector3();\n\n    var _vector2$1 = new Vector2();\n\n    function BufferAttribute(array, itemSize, normalized) {\n        if (Array.isArray(array)) {\n            throw new TypeError('THREE.BufferAttribute: array should be a Typed Array.');\n        }\n\n        this.name = '';\n        this.array = array;\n        this.itemSize = itemSize;\n        this.count = array !== undefined ? array.length / itemSize : 0;\n        this.normalized = normalized === true;\n        this.usage = StaticDrawUsage;\n        this.updateRange = {\n            offset: 0,\n            count: -1\n        };\n        this.version = 0;\n    }\n\n    Object.defineProperty(BufferAttribute.prototype, 'needsUpdate', {\n        set: function set(value) {\n            if (value === true) this.version++;\n        }\n    });\n    Object.assign(BufferAttribute.prototype, {\n        isBufferAttribute: true,\n        onUploadCallback: function onUploadCallback() {},\n        setUsage: function setUsage(value) {\n            this.usage = value;\n            return this;\n        },\n        copy: function copy(source) {\n            this.name = source.name;\n            this.array = new source.array.constructor(source.array);\n            this.itemSize = source.itemSize;\n            this.count = source.count;\n            this.normalized = source.normalized;\n            this.usage = source.usage;\n            return this;\n        },\n        copyAt: function copyAt(index1, attribute, index2) {\n            index1 *= this.itemSize;\n            index2 *= attribute.itemSize;\n\n            for (var i = 0, l = this.itemSize; i < l; i++) {\n                this.array[index1 + i] = attribute.array[index2 + i];\n            }\n\n            return this;\n        },\n        copyArray: function copyArray(array) {\n            this.array.set(array);\n            return this;\n        },\n        copyColorsArray: function copyColorsArray(colors) {\n            var array = this.array;\n            var offset = 0;\n\n            for (var i = 0, l = colors.length; i < l; i++) {\n                var color = colors[i];\n\n                if (color === undefined) {\n                    console.warn('THREE.BufferAttribute.copyColorsArray(): color is undefined', i);\n                    color = new Color();\n                }\n\n                array[offset++] = color.r;\n                array[offset++] = color.g;\n                array[offset++] = color.b;\n            }\n\n            return this;\n        },\n        copyVector2sArray: function copyVector2sArray(vectors) {\n            var array = this.array;\n            var offset = 0;\n\n            for (var i = 0, l = vectors.length; i < l; i++) {\n                var vector = vectors[i];\n\n                if (vector === undefined) {\n                    console.warn('THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i);\n                    vector = new Vector2();\n                }\n\n                array[offset++] = vector.x;\n                array[offset++] = vector.y;\n            }\n\n            return this;\n        },\n        copyVector3sArray: function copyVector3sArray(vectors) {\n            var array = this.array;\n            var offset = 0;\n\n            for (var i = 0, l = vectors.length; i < l; i++) {\n                var vector = vectors[i];\n\n                if (vector === undefined) {\n                    console.warn('THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i);\n                    vector = new Vector3();\n                }\n\n                array[offset++] = vector.x;\n                array[offset++] = vector.y;\n                array[offset++] = vector.z;\n            }\n\n            return this;\n        },\n        copyVector4sArray: function copyVector4sArray(vectors) {\n            var array = this.array;\n            var offset = 0;\n\n            for (var i = 0, l = vectors.length; i < l; i++) {\n                var vector = vectors[i];\n\n                if (vector === undefined) {\n                    console.warn('THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i);\n                    vector = new Vector4();\n                }\n\n                array[offset++] = vector.x;\n                array[offset++] = vector.y;\n                array[offset++] = vector.z;\n                array[offset++] = vector.w;\n            }\n\n            return this;\n        },\n        applyMatrix3: function applyMatrix3(m) {\n            if (this.itemSize === 2) {\n                for (var i = 0, l = this.count; i < l; i++) {\n                    _vector2$1.fromBufferAttribute(this, i);\n\n                    _vector2$1.applyMatrix3(m);\n\n                    this.setXY(i, _vector2$1.x, _vector2$1.y);\n                }\n            } else if (this.itemSize === 3) {\n                for (var _i = 0, _l = this.count; _i < _l; _i++) {\n                    _vector$3.fromBufferAttribute(this, _i);\n\n                    _vector$3.applyMatrix3(m);\n\n                    this.setXYZ(_i, _vector$3.x, _vector$3.y, _vector$3.z);\n                }\n            }\n\n            return this;\n        },\n        applyMatrix4: function applyMatrix4(m) {\n            for (var i = 0, l = this.count; i < l; i++) {\n                _vector$3.x = this.getX(i);\n                _vector$3.y = this.getY(i);\n                _vector$3.z = this.getZ(i);\n\n                _vector$3.applyMatrix4(m);\n\n                this.setXYZ(i, _vector$3.x, _vector$3.y, _vector$3.z);\n            }\n\n            return this;\n        },\n        applyNormalMatrix: function applyNormalMatrix(m) {\n            for (var i = 0, l = this.count; i < l; i++) {\n                _vector$3.x = this.getX(i);\n                _vector$3.y = this.getY(i);\n                _vector$3.z = this.getZ(i);\n\n                _vector$3.applyNormalMatrix(m);\n\n                this.setXYZ(i, _vector$3.x, _vector$3.y, _vector$3.z);\n            }\n\n            return this;\n        },\n        transformDirection: function transformDirection(m) {\n            for (var i = 0, l = this.count; i < l; i++) {\n                _vector$3.x = this.getX(i);\n                _vector$3.y = this.getY(i);\n                _vector$3.z = this.getZ(i);\n\n                _vector$3.transformDirection(m);\n\n                this.setXYZ(i, _vector$3.x, _vector$3.y, _vector$3.z);\n            }\n\n            return this;\n        },\n        set: function set(value, offset) {\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            this.array.set(value, offset);\n            return this;\n        },\n        getX: function getX(index) {\n            return this.array[index * this.itemSize];\n        },\n        setX: function setX(index, x) {\n            this.array[index * this.itemSize] = x;\n            return this;\n        },\n        getY: function getY(index) {\n            return this.array[index * this.itemSize + 1];\n        },\n        setY: function setY(index, y) {\n            this.array[index * this.itemSize + 1] = y;\n            return this;\n        },\n        getZ: function getZ(index) {\n            return this.array[index * this.itemSize + 2];\n        },\n        setZ: function setZ(index, z) {\n            this.array[index * this.itemSize + 2] = z;\n            return this;\n        },\n        getW: function getW(index) {\n            return this.array[index * this.itemSize + 3];\n        },\n        setW: function setW(index, w) {\n            this.array[index * this.itemSize + 3] = w;\n            return this;\n        },\n        setXY: function setXY(index, x, y) {\n            index *= this.itemSize;\n            this.array[index + 0] = x;\n            this.array[index + 1] = y;\n            return this;\n        },\n        setXYZ: function setXYZ(index, x, y, z) {\n            index *= this.itemSize;\n            this.array[index + 0] = x;\n            this.array[index + 1] = y;\n            this.array[index + 2] = z;\n            return this;\n        },\n        setXYZW: function setXYZW(index, x, y, z, w) {\n            index *= this.itemSize;\n            this.array[index + 0] = x;\n            this.array[index + 1] = y;\n            this.array[index + 2] = z;\n            this.array[index + 3] = w;\n            return this;\n        },\n        onUpload: function onUpload(callback) {\n            this.onUploadCallback = callback;\n            return this;\n        },\n        clone: function clone() {\n            return new this.constructor(this.array, this.itemSize).copy(this);\n        },\n        toJSON: function toJSON() {\n            return {\n                itemSize: this.itemSize,\n                type: this.array.constructor.name,\n                array: Array.prototype.slice.call(this.array),\n                normalized: this.normalized\n            };\n        }\n    }); //\n\n    function Int8BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Int8Array(array), itemSize, normalized);\n    }\n\n    Int8BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Int8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n    function Uint8BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Uint8Array(array), itemSize, normalized);\n    }\n\n    Uint8BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Uint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n    function Uint8ClampedBufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Uint8ClampedArray(array), itemSize, normalized);\n    }\n\n    Uint8ClampedBufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Uint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n    function Int16BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Int16Array(array), itemSize, normalized);\n    }\n\n    Int16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Int16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n    function Uint16BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Uint16Array(array), itemSize, normalized);\n    }\n\n    Uint16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Uint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n    function Int32BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Int32Array(array), itemSize, normalized);\n    }\n\n    Int32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Int32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n    function Uint32BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Uint32Array(array), itemSize, normalized);\n    }\n\n    Uint32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Uint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n    function Float16BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Uint16Array(array), itemSize, normalized);\n    }\n\n    Float16BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Float16BufferAttribute.prototype.constructor = Float16BufferAttribute;\n    Float16BufferAttribute.prototype.isFloat16BufferAttribute = true;\n\n    function Float32BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Float32Array(array), itemSize, normalized);\n    }\n\n    Float32BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Float32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n    function Float64BufferAttribute(array, itemSize, normalized) {\n        BufferAttribute.call(this, new Float64Array(array), itemSize, normalized);\n    }\n\n    Float64BufferAttribute.prototype = Object.create(BufferAttribute.prototype);\n    Float64BufferAttribute.prototype.constructor = Float64BufferAttribute; //\n\n    function arrayMax(array) {\n        if (array.length === 0) return -Infinity;\n        var max = array[0];\n\n        for (var i = 1, l = array.length; i < l; ++i) {\n            if (array[i] > max) max = array[i];\n        }\n\n        return max;\n    }\n\n    var TYPED_ARRAYS = {\n        Int8Array: Int8Array,\n        Uint8Array: Uint8Array,\n        Uint8ClampedArray: Uint8ClampedArray,\n        Int16Array: Int16Array,\n        Uint16Array: Uint16Array,\n        Int32Array: Int32Array,\n        Uint32Array: Uint32Array,\n        Float32Array: Float32Array,\n        Float64Array: Float64Array\n    };\n\n    function getTypedArray(type, buffer) {\n        return new TYPED_ARRAYS[type](buffer);\n    }\n\n    var _id = 0;\n\n    var _m1$2 = new Matrix4();\n\n    var _obj = new Object3D();\n\n    var _offset = new Vector3();\n\n    var _box$2 = new Box3();\n\n    var _boxMorphTargets = new Box3();\n\n    var _vector$4 = new Vector3();\n\n    function BufferGeometry() {\n        Object.defineProperty(this, 'id', {\n            value: _id++\n        });\n        this.uuid = MathUtils.generateUUID();\n        this.name = '';\n        this.type = 'BufferGeometry';\n        this.index = null;\n        this.attributes = {};\n        this.morphAttributes = {};\n        this.morphTargetsRelative = false;\n        this.groups = [];\n        this.boundingBox = null;\n        this.boundingSphere = null;\n        this.drawRange = {\n            start: 0,\n            count: Infinity\n        };\n        this.userData = {};\n    }\n\n    BufferGeometry.prototype = Object.assign(Object.create(EventDispatcher.prototype), {\n        constructor: BufferGeometry,\n        isBufferGeometry: true,\n        getIndex: function getIndex() {\n            return this.index;\n        },\n        setIndex: function setIndex(index) {\n            if (Array.isArray(index)) {\n                this.index = new(arrayMax(index) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute)(index, 1);\n            } else {\n                this.index = index;\n            }\n\n            return this;\n        },\n        getAttribute: function getAttribute(name) {\n            return this.attributes[name];\n        },\n        setAttribute: function setAttribute(name, attribute) {\n            this.attributes[name] = attribute;\n            return this;\n        },\n        deleteAttribute: function deleteAttribute(name) {\n            delete this.attributes[name];\n            return this;\n        },\n        hasAttribute: function hasAttribute(name) {\n            return this.attributes[name] !== undefined;\n        },\n        addGroup: function addGroup(start, count, materialIndex) {\n            if (materialIndex === void 0) {\n                materialIndex = 0;\n            }\n\n            this.groups.push({\n                start: start,\n                count: count,\n                materialIndex: materialIndex\n            });\n        },\n        clearGroups: function clearGroups() {\n            this.groups = [];\n        },\n        setDrawRange: function setDrawRange(start, count) {\n            this.drawRange.start = start;\n            this.drawRange.count = count;\n        },\n        applyMatrix4: function applyMatrix4(matrix) {\n            var position = this.attributes.position;\n\n            if (position !== undefined) {\n                position.applyMatrix4(matrix);\n                position.needsUpdate = true;\n            }\n\n            var normal = this.attributes.normal;\n\n            if (normal !== undefined) {\n                var normalMatrix = new Matrix3().getNormalMatrix(matrix);\n                normal.applyNormalMatrix(normalMatrix);\n                normal.needsUpdate = true;\n            }\n\n            var tangent = this.attributes.tangent;\n\n            if (tangent !== undefined) {\n                tangent.transformDirection(matrix);\n                tangent.needsUpdate = true;\n            }\n\n            if (this.boundingBox !== null) {\n                this.computeBoundingBox();\n            }\n\n            if (this.boundingSphere !== null) {\n                this.computeBoundingSphere();\n            }\n\n            return this;\n        },\n        rotateX: function rotateX(angle) {\n            // rotate geometry around world x-axis\n            _m1$2.makeRotationX(angle);\n\n            this.applyMatrix4(_m1$2);\n            return this;\n        },\n        rotateY: function rotateY(angle) {\n            // rotate geometry around world y-axis\n            _m1$2.makeRotationY(angle);\n\n            this.applyMatrix4(_m1$2);\n            return this;\n        },\n        rotateZ: function rotateZ(angle) {\n            // rotate geometry around world z-axis\n            _m1$2.makeRotationZ(angle);\n\n            this.applyMatrix4(_m1$2);\n            return this;\n        },\n        translate: function translate(x, y, z) {\n            // translate geometry\n            _m1$2.makeTranslation(x, y, z);\n\n            this.applyMatrix4(_m1$2);\n            return this;\n        },\n        scale: function scale(x, y, z) {\n            // scale geometry\n            _m1$2.makeScale(x, y, z);\n\n            this.applyMatrix4(_m1$2);\n            return this;\n        },\n        lookAt: function lookAt(vector) {\n            _obj.lookAt(vector);\n\n            _obj.updateMatrix();\n\n            this.applyMatrix4(_obj.matrix);\n            return this;\n        },\n        center: function center() {\n            this.computeBoundingBox();\n            this.boundingBox.getCenter(_offset).negate();\n            this.translate(_offset.x, _offset.y, _offset.z);\n            return this;\n        },\n        setFromPoints: function setFromPoints(points) {\n            var position = [];\n\n            for (var i = 0, l = points.length; i < l; i++) {\n                var point = points[i];\n                position.push(point.x, point.y, point.z || 0);\n            }\n\n            this.setAttribute('position', new Float32BufferAttribute(position, 3));\n            return this;\n        },\n        computeBoundingBox: function computeBoundingBox() {\n            if (this.boundingBox === null) {\n                this.boundingBox = new Box3();\n            }\n\n            var position = this.attributes.position;\n            var morphAttributesPosition = this.morphAttributes.position;\n\n            if (position && position.isGLBufferAttribute) {\n                console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this);\n                this.boundingBox.set(new Vector3(-Infinity, -Infinity, -Infinity), new Vector3(+Infinity, +Infinity, +Infinity));\n                return;\n            }\n\n            if (position !== undefined) {\n                this.boundingBox.setFromBufferAttribute(position); // process morph attributes if present\n\n                if (morphAttributesPosition) {\n                    for (var i = 0, il = morphAttributesPosition.length; i < il; i++) {\n                        var morphAttribute = morphAttributesPosition[i];\n\n                        _box$2.setFromBufferAttribute(morphAttribute);\n\n                        if (this.morphTargetsRelative) {\n                            _vector$4.addVectors(this.boundingBox.min, _box$2.min);\n\n                            this.boundingBox.expandByPoint(_vector$4);\n\n                            _vector$4.addVectors(this.boundingBox.max, _box$2.max);\n\n                            this.boundingBox.expandByPoint(_vector$4);\n                        } else {\n                            this.boundingBox.expandByPoint(_box$2.min);\n                            this.boundingBox.expandByPoint(_box$2.max);\n                        }\n                    }\n                }\n            } else {\n                this.boundingBox.makeEmpty();\n            }\n\n            if (isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z)) {\n                console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this);\n            }\n        },\n        computeBoundingSphere: function computeBoundingSphere() {\n            if (this.boundingSphere === null) {\n                this.boundingSphere = new Sphere();\n            }\n\n            var position = this.attributes.position;\n            var morphAttributesPosition = this.morphAttributes.position;\n\n            if (position && position.isGLBufferAttribute) {\n                console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this);\n                this.boundingSphere.set(new Vector3(), Infinity);\n                return;\n            }\n\n            if (position) {\n                // first, find the center of the bounding sphere\n                var center = this.boundingSphere.center;\n\n                _box$2.setFromBufferAttribute(position); // process morph attributes if present\n\n\n                if (morphAttributesPosition) {\n                    for (var i = 0, il = morphAttributesPosition.length; i < il; i++) {\n                        var morphAttribute = morphAttributesPosition[i];\n\n                        _boxMorphTargets.setFromBufferAttribute(morphAttribute);\n\n                        if (this.morphTargetsRelative) {\n                            _vector$4.addVectors(_box$2.min, _boxMorphTargets.min);\n\n                            _box$2.expandByPoint(_vector$4);\n\n                            _vector$4.addVectors(_box$2.max, _boxMorphTargets.max);\n\n                            _box$2.expandByPoint(_vector$4);\n                        } else {\n                            _box$2.expandByPoint(_boxMorphTargets.min);\n\n                            _box$2.expandByPoint(_boxMorphTargets.max);\n                        }\n                    }\n                }\n\n                _box$2.getCenter(center); // second, try to find a boundingSphere with a radius smaller than the\n                // boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\n                var maxRadiusSq = 0;\n\n                for (var _i = 0, _il = position.count; _i < _il; _i++) {\n                    _vector$4.fromBufferAttribute(position, _i);\n\n                    maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector$4));\n                } // process morph attributes if present\n\n\n                if (morphAttributesPosition) {\n                    for (var _i2 = 0, _il2 = morphAttributesPosition.length; _i2 < _il2; _i2++) {\n                        var _morphAttribute = morphAttributesPosition[_i2];\n                        var morphTargetsRelative = this.morphTargetsRelative;\n\n                        for (var j = 0, jl = _morphAttribute.count; j < jl; j++) {\n                            _vector$4.fromBufferAttribute(_morphAttribute, j);\n\n                            if (morphTargetsRelative) {\n                                _offset.fromBufferAttribute(position, j);\n\n                                _vector$4.add(_offset);\n                            }\n\n                            maxRadiusSq = Math.max(maxRadiusSq, center.distanceToSquared(_vector$4));\n                        }\n                    }\n                }\n\n                this.boundingSphere.radius = Math.sqrt(maxRadiusSq);\n\n                if (isNaN(this.boundingSphere.radius)) {\n                    console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this);\n                }\n            }\n        },\n        computeFaceNormals: function computeFaceNormals() { // backwards compatibility\n        },\n        computeTangents: function computeTangents() {\n            var index = this.index;\n            var attributes = this.attributes; // based on http://www.terathon.com/code/tangent.html\n            // (per vertex tangents)\n\n            if (index === null || attributes.position === undefined || attributes.normal === undefined || attributes.uv === undefined) {\n                console.error('THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)');\n                return;\n            }\n\n            var indices = index.array;\n            var positions = attributes.position.array;\n            var normals = attributes.normal.array;\n            var uvs = attributes.uv.array;\n            var nVertices = positions.length / 3;\n\n            if (attributes.tangent === undefined) {\n                this.setAttribute('tangent', new BufferAttribute(new Float32Array(4 * nVertices), 4));\n            }\n\n            var tangents = attributes.tangent.array;\n            var tan1 = [],\n                tan2 = [];\n\n            for (var i = 0; i < nVertices; i++) {\n                tan1[i] = new Vector3();\n                tan2[i] = new Vector3();\n            }\n\n            var vA = new Vector3(),\n                vB = new Vector3(),\n                vC = new Vector3(),\n                uvA = new Vector2(),\n                uvB = new Vector2(),\n                uvC = new Vector2(),\n                sdir = new Vector3(),\n                tdir = new Vector3();\n\n            function handleTriangle(a, b, c) {\n                vA.fromArray(positions, a * 3);\n                vB.fromArray(positions, b * 3);\n                vC.fromArray(positions, c * 3);\n                uvA.fromArray(uvs, a * 2);\n                uvB.fromArray(uvs, b * 2);\n                uvC.fromArray(uvs, c * 2);\n                vB.sub(vA);\n                vC.sub(vA);\n                uvB.sub(uvA);\n                uvC.sub(uvA);\n                var r = 1.0 / (uvB.x * uvC.y - uvC.x * uvB.y); // silently ignore degenerate uv triangles having coincident or colinear vertices\n\n                if (!isFinite(r)) return;\n                sdir.copy(vB).multiplyScalar(uvC.y).addScaledVector(vC, -uvB.y).multiplyScalar(r);\n                tdir.copy(vC).multiplyScalar(uvB.x).addScaledVector(vB, -uvC.x).multiplyScalar(r);\n                tan1[a].add(sdir);\n                tan1[b].add(sdir);\n                tan1[c].add(sdir);\n                tan2[a].add(tdir);\n                tan2[b].add(tdir);\n                tan2[c].add(tdir);\n            }\n\n            var groups = this.groups;\n\n            if (groups.length === 0) {\n                groups = [{\n                    start: 0,\n                    count: indices.length\n                }];\n            }\n\n            for (var _i3 = 0, il = groups.length; _i3 < il; ++_i3) {\n                var group = groups[_i3];\n                var start = group.start;\n                var count = group.count;\n\n                for (var j = start, jl = start + count; j < jl; j += 3) {\n                    handleTriangle(indices[j + 0], indices[j + 1], indices[j + 2]);\n                }\n            }\n\n            var tmp = new Vector3(),\n                tmp2 = new Vector3();\n            var n = new Vector3(),\n                n2 = new Vector3();\n\n            function handleVertex(v) {\n                n.fromArray(normals, v * 3);\n                n2.copy(n);\n                var t = tan1[v]; // Gram-Schmidt orthogonalize\n\n                tmp.copy(t);\n                tmp.sub(n.multiplyScalar(n.dot(t))).normalize(); // Calculate handedness\n\n                tmp2.crossVectors(n2, t);\n                var test = tmp2.dot(tan2[v]);\n                var w = test < 0.0 ? -1.0 : 1.0;\n                tangents[v * 4] = tmp.x;\n                tangents[v * 4 + 1] = tmp.y;\n                tangents[v * 4 + 2] = tmp.z;\n                tangents[v * 4 + 3] = w;\n            }\n\n            for (var _i4 = 0, _il3 = groups.length; _i4 < _il3; ++_i4) {\n                var _group = groups[_i4];\n                var _start = _group.start;\n                var _count = _group.count;\n\n                for (var _j = _start, _jl = _start + _count; _j < _jl; _j += 3) {\n                    handleVertex(indices[_j + 0]);\n                    handleVertex(indices[_j + 1]);\n                    handleVertex(indices[_j + 2]);\n                }\n            }\n        },\n        computeVertexNormals: function computeVertexNormals() {\n            var index = this.index;\n            var positionAttribute = this.getAttribute('position');\n\n            if (positionAttribute !== undefined) {\n                var normalAttribute = this.getAttribute('normal');\n\n                if (normalAttribute === undefined) {\n                    normalAttribute = new BufferAttribute(new Float32Array(positionAttribute.count * 3), 3);\n                    this.setAttribute('normal', normalAttribute);\n                } else {\n                    // reset existing normals to zero\n                    for (var i = 0, il = normalAttribute.count; i < il; i++) {\n                        normalAttribute.setXYZ(i, 0, 0, 0);\n                    }\n                }\n\n                var pA = new Vector3(),\n                    pB = new Vector3(),\n                    pC = new Vector3();\n                var nA = new Vector3(),\n                    nB = new Vector3(),\n                    nC = new Vector3();\n                var cb = new Vector3(),\n                    ab = new Vector3(); // indexed elements\n\n                if (index) {\n                    for (var _i5 = 0, _il4 = index.count; _i5 < _il4; _i5 += 3) {\n                        var vA = index.getX(_i5 + 0);\n                        var vB = index.getX(_i5 + 1);\n                        var vC = index.getX(_i5 + 2);\n                        pA.fromBufferAttribute(positionAttribute, vA);\n                        pB.fromBufferAttribute(positionAttribute, vB);\n                        pC.fromBufferAttribute(positionAttribute, vC);\n                        cb.subVectors(pC, pB);\n                        ab.subVectors(pA, pB);\n                        cb.cross(ab);\n                        nA.fromBufferAttribute(normalAttribute, vA);\n                        nB.fromBufferAttribute(normalAttribute, vB);\n                        nC.fromBufferAttribute(normalAttribute, vC);\n                        nA.add(cb);\n                        nB.add(cb);\n                        nC.add(cb);\n                        normalAttribute.setXYZ(vA, nA.x, nA.y, nA.z);\n                        normalAttribute.setXYZ(vB, nB.x, nB.y, nB.z);\n                        normalAttribute.setXYZ(vC, nC.x, nC.y, nC.z);\n                    }\n                } else {\n                    // non-indexed elements (unconnected triangle soup)\n                    for (var _i6 = 0, _il5 = positionAttribute.count; _i6 < _il5; _i6 += 3) {\n                        pA.fromBufferAttribute(positionAttribute, _i6 + 0);\n                        pB.fromBufferAttribute(positionAttribute, _i6 + 1);\n                        pC.fromBufferAttribute(positionAttribute, _i6 + 2);\n                        cb.subVectors(pC, pB);\n                        ab.subVectors(pA, pB);\n                        cb.cross(ab);\n                        normalAttribute.setXYZ(_i6 + 0, cb.x, cb.y, cb.z);\n                        normalAttribute.setXYZ(_i6 + 1, cb.x, cb.y, cb.z);\n                        normalAttribute.setXYZ(_i6 + 2, cb.x, cb.y, cb.z);\n                    }\n                }\n\n                this.normalizeNormals();\n                normalAttribute.needsUpdate = true;\n            }\n        },\n        merge: function merge(geometry, offset) {\n            if (!(geometry && geometry.isBufferGeometry)) {\n                console.error('THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry);\n                return;\n            }\n\n            if (offset === undefined) {\n                offset = 0;\n                console.warn('THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. ' + 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.');\n            }\n\n            var attributes = this.attributes;\n\n            for (var key in attributes) {\n                if (geometry.attributes[key] === undefined) continue;\n                var attribute1 = attributes[key];\n                var attributeArray1 = attribute1.array;\n                var attribute2 = geometry.attributes[key];\n                var attributeArray2 = attribute2.array;\n                var attributeOffset = attribute2.itemSize * offset;\n                var length = Math.min(attributeArray2.length, attributeArray1.length - attributeOffset);\n\n                for (var i = 0, j = attributeOffset; i < length; i++, j++) {\n                    attributeArray1[j] = attributeArray2[i];\n                }\n            }\n\n            return this;\n        },\n        normalizeNormals: function normalizeNormals() {\n            var normals = this.attributes.normal;\n\n            for (var i = 0, il = normals.count; i < il; i++) {\n                _vector$4.fromBufferAttribute(normals, i);\n\n                _vector$4.normalize();\n\n                normals.setXYZ(i, _vector$4.x, _vector$4.y, _vector$4.z);\n            }\n        },\n        toNonIndexed: function toNonIndexed() {\n            function convertBufferAttribute(attribute, indices) {\n                var array = attribute.array;\n                var itemSize = attribute.itemSize;\n                var normalized = attribute.normalized;\n                var array2 = new array.constructor(indices.length * itemSize);\n                var index = 0,\n                    index2 = 0;\n\n                for (var i = 0, l = indices.length; i < l; i++) {\n                    index = indices[i] * itemSize;\n\n                    for (var j = 0; j < itemSize; j++) {\n                        array2[index2++] = array[index++];\n                    }\n                }\n\n                return new BufferAttribute(array2, itemSize, normalized);\n            } //\n\n\n            if (this.index === null) {\n                console.warn('THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.');\n                return this;\n            }\n\n            var geometry2 = new BufferGeometry();\n            var indices = this.index.array;\n            var attributes = this.attributes; // attributes\n\n            for (var name in attributes) {\n                var attribute = attributes[name];\n                var newAttribute = convertBufferAttribute(attribute, indices);\n                geometry2.setAttribute(name, newAttribute);\n            } // morph attributes\n\n\n            var morphAttributes = this.morphAttributes;\n\n            for (var _name in morphAttributes) {\n                var morphArray = [];\n                var morphAttribute = morphAttributes[_name]; // morphAttribute: array of Float32BufferAttributes\n\n                for (var i = 0, il = morphAttribute.length; i < il; i++) {\n                    var _attribute = morphAttribute[i];\n\n                    var _newAttribute = convertBufferAttribute(_attribute, indices);\n\n                    morphArray.push(_newAttribute);\n                }\n\n                geometry2.morphAttributes[_name] = morphArray;\n            }\n\n            geometry2.morphTargetsRelative = this.morphTargetsRelative; // groups\n\n            var groups = this.groups;\n\n            for (var _i7 = 0, l = groups.length; _i7 < l; _i7++) {\n                var group = groups[_i7];\n                geometry2.addGroup(group.start, group.count, group.materialIndex);\n            }\n\n            return geometry2;\n        },\n        toJSON: function toJSON() {\n            var data = {\n                metadata: {\n                    version: 4.5,\n                    type: 'BufferGeometry',\n                    generator: 'BufferGeometry.toJSON'\n                }\n            }; // standard BufferGeometry serialization\n\n            data.uuid = this.uuid;\n            data.type = this.type;\n            if (this.name !== '') data.name = this.name;\n            if (Object.keys(this.userData).length > 0) data.userData = this.userData;\n\n            if (this.parameters !== undefined) {\n                var parameters = this.parameters;\n\n                for (var key in parameters) {\n                    if (parameters[key] !== undefined) data[key] = parameters[key];\n                }\n\n                return data;\n            }\n\n            data.data = {\n                attributes: {}\n            };\n            var index = this.index;\n\n            if (index !== null) {\n                data.data.index = {\n                    type: index.array.constructor.name,\n                    array: Array.prototype.slice.call(index.array)\n                };\n            }\n\n            var attributes = this.attributes;\n\n            for (var _key in attributes) {\n                var attribute = attributes[_key];\n                var attributeData = attribute.toJSON(data.data);\n                if (attribute.name !== '') attributeData.name = attribute.name;\n                data.data.attributes[_key] = attributeData;\n            }\n\n            var morphAttributes = {};\n            var hasMorphAttributes = false;\n\n            for (var _key2 in this.morphAttributes) {\n                var attributeArray = this.morphAttributes[_key2];\n                var array = [];\n\n                for (var i = 0, il = attributeArray.length; i < il; i++) {\n                    var _attribute2 = attributeArray[i];\n\n                    var _attributeData = _attribute2.toJSON(data.data);\n\n                    if (_attribute2.name !== '') _attributeData.name = _attribute2.name;\n                    array.push(_attributeData);\n                }\n\n                if (array.length > 0) {\n                    morphAttributes[_key2] = array;\n                    hasMorphAttributes = true;\n                }\n            }\n\n            if (hasMorphAttributes) {\n                data.data.morphAttributes = morphAttributes;\n                data.data.morphTargetsRelative = this.morphTargetsRelative;\n            }\n\n            var groups = this.groups;\n\n            if (groups.length > 0) {\n                data.data.groups = JSON.parse(JSON.stringify(groups));\n            }\n\n            var boundingSphere = this.boundingSphere;\n\n            if (boundingSphere !== null) {\n                data.data.boundingSphere = {\n                    center: boundingSphere.center.toArray(),\n                    radius: boundingSphere.radius\n                };\n            }\n\n            return data;\n        },\n        clone: function clone() {\n            /*\n             // Handle primitives\n            \t const parameters = this.parameters;\n            \t if ( parameters !== undefined ) {\n            \t const values = [];\n            \t for ( const key in parameters ) {\n            \t values.push( parameters[ key ] );\n            \t }\n            \t const geometry = Object.create( this.constructor.prototype );\n             this.constructor.apply( geometry, values );\n             return geometry;\n            \t }\n            \t return new this.constructor().copy( this );\n             */\n            return new BufferGeometry().copy(this);\n        },\n        copy: function copy(source) {\n            // reset\n            this.index = null;\n            this.attributes = {};\n            this.morphAttributes = {};\n            this.groups = [];\n            this.boundingBox = null;\n            this.boundingSphere = null; // used for storing cloned, shared data\n\n            var data = {}; // name\n\n            this.name = source.name; // index\n\n            var index = source.index;\n\n            if (index !== null) {\n                this.setIndex(index.clone(data));\n            } // attributes\n\n\n            var attributes = source.attributes;\n\n            for (var name in attributes) {\n                var attribute = attributes[name];\n                this.setAttribute(name, attribute.clone(data));\n            } // morph attributes\n\n\n            var morphAttributes = source.morphAttributes;\n\n            for (var _name2 in morphAttributes) {\n                var array = [];\n                var morphAttribute = morphAttributes[_name2]; // morphAttribute: array of Float32BufferAttributes\n\n                for (var i = 0, l = morphAttribute.length; i < l; i++) {\n                    array.push(morphAttribute[i].clone(data));\n                }\n\n                this.morphAttributes[_name2] = array;\n            }\n\n            this.morphTargetsRelative = source.morphTargetsRelative; // groups\n\n            var groups = source.groups;\n\n            for (var _i8 = 0, _l = groups.length; _i8 < _l; _i8++) {\n                var group = groups[_i8];\n                this.addGroup(group.start, group.count, group.materialIndex);\n            } // bounding box\n\n\n            var boundingBox = source.boundingBox;\n\n            if (boundingBox !== null) {\n                this.boundingBox = boundingBox.clone();\n            } // bounding sphere\n\n\n            var boundingSphere = source.boundingSphere;\n\n            if (boundingSphere !== null) {\n                this.boundingSphere = boundingSphere.clone();\n            } // draw range\n\n\n            this.drawRange.start = source.drawRange.start;\n            this.drawRange.count = source.drawRange.count; // user data\n\n            this.userData = source.userData;\n            return this;\n        },\n        dispose: function dispose() {\n            this.dispatchEvent({\n                type: 'dispose'\n            });\n        }\n    });\n\n    var _inverseMatrix = new Matrix4();\n\n    var _ray = new Ray();\n\n    var _sphere = new Sphere();\n\n    var _vA = new Vector3();\n\n    var _vB = new Vector3();\n\n    var _vC = new Vector3();\n\n    var _tempA = new Vector3();\n\n    var _tempB = new Vector3();\n\n    var _tempC = new Vector3();\n\n    var _morphA = new Vector3();\n\n    var _morphB = new Vector3();\n\n    var _morphC = new Vector3();\n\n    var _uvA = new Vector2();\n\n    var _uvB = new Vector2();\n\n    var _uvC = new Vector2();\n\n    var _intersectionPoint = new Vector3();\n\n    var _intersectionPointWorld = new Vector3();\n\n    function Mesh(geometry, material) {\n        if (geometry === void 0) {\n            geometry = new BufferGeometry();\n        }\n\n        if (material === void 0) {\n            material = new MeshBasicMaterial();\n        }\n\n        Object3D.call(this);\n        this.type = 'Mesh';\n        this.geometry = geometry;\n        this.material = material;\n        this.updateMorphTargets();\n    }\n\n    Mesh.prototype = Object.assign(Object.create(Object3D.prototype), {\n        constructor: Mesh,\n        isMesh: true,\n        copy: function copy(source) {\n            Object3D.prototype.copy.call(this, source);\n\n            if (source.morphTargetInfluences !== undefined) {\n                this.morphTargetInfluences = source.morphTargetInfluences.slice();\n            }\n\n            if (source.morphTargetDictionary !== undefined) {\n                this.morphTargetDictionary = Object.assign({}, source.morphTargetDictionary);\n            }\n\n            this.material = source.material;\n            this.geometry = source.geometry;\n            return this;\n        },\n        updateMorphTargets: function updateMorphTargets() {\n            var geometry = this.geometry;\n\n            if (geometry.isBufferGeometry) {\n                var morphAttributes = geometry.morphAttributes;\n                var keys = Object.keys(morphAttributes);\n\n                if (keys.length > 0) {\n                    var morphAttribute = morphAttributes[keys[0]];\n\n                    if (morphAttribute !== undefined) {\n                        this.morphTargetInfluences = [];\n                        this.morphTargetDictionary = {};\n\n                        for (var m = 0, ml = morphAttribute.length; m < ml; m++) {\n                            var name = morphAttribute[m].name || String(m);\n                            this.morphTargetInfluences.push(0);\n                            this.morphTargetDictionary[name] = m;\n                        }\n                    }\n                }\n            } else {\n                var morphTargets = geometry.morphTargets;\n\n                if (morphTargets !== undefined && morphTargets.length > 0) {\n                    console.error('THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n                }\n            }\n        },\n        raycast: function raycast(raycaster, intersects) {\n            var geometry = this.geometry;\n            var material = this.material;\n            var matrixWorld = this.matrixWorld;\n            if (material === undefined) return; // Checking boundingSphere distance to ray\n\n            if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n            _sphere.copy(geometry.boundingSphere);\n\n            _sphere.applyMatrix4(matrixWorld);\n\n            if (raycaster.ray.intersectsSphere(_sphere) === false) return; //\n\n            _inverseMatrix.copy(matrixWorld).invert();\n\n            _ray.copy(raycaster.ray).applyMatrix4(_inverseMatrix); // Check boundingBox before continuing\n\n\n            if (geometry.boundingBox !== null) {\n                if (_ray.intersectsBox(geometry.boundingBox) === false) return;\n            }\n\n            var intersection;\n\n            if (geometry.isBufferGeometry) {\n                var index = geometry.index;\n                var position = geometry.attributes.position;\n                var morphPosition = geometry.morphAttributes.position;\n                var morphTargetsRelative = geometry.morphTargetsRelative;\n                var uv = geometry.attributes.uv;\n                var uv2 = geometry.attributes.uv2;\n                var groups = geometry.groups;\n                var drawRange = geometry.drawRange;\n\n                if (index !== null) {\n                    // indexed buffer geometry\n                    if (Array.isArray(material)) {\n                        for (var i = 0, il = groups.length; i < il; i++) {\n                            var group = groups[i];\n                            var groupMaterial = material[group.materialIndex];\n                            var start = Math.max(group.start, drawRange.start);\n                            var end = Math.min(group.start + group.count, drawRange.start + drawRange.count);\n\n                            for (var j = start, jl = end; j < jl; j += 3) {\n                                var a = index.getX(j);\n                                var b = index.getX(j + 1);\n                                var c = index.getX(j + 2);\n                                intersection = checkBufferGeometryIntersection(this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c);\n\n                                if (intersection) {\n                                    intersection.faceIndex = Math.floor(j / 3); // triangle number in indexed buffer semantics\n\n                                    intersection.face.materialIndex = group.materialIndex;\n                                    intersects.push(intersection);\n                                }\n                            }\n                        }\n                    } else {\n                        var _start = Math.max(0, drawRange.start);\n\n                        var _end = Math.min(index.count, drawRange.start + drawRange.count);\n\n                        for (var _i = _start, _il = _end; _i < _il; _i += 3) {\n                            var _a = index.getX(_i);\n\n                            var _b = index.getX(_i + 1);\n\n                            var _c = index.getX(_i + 2);\n\n                            intersection = checkBufferGeometryIntersection(this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, _a, _b, _c);\n\n                            if (intersection) {\n                                intersection.faceIndex = Math.floor(_i / 3); // triangle number in indexed buffer semantics\n\n                                intersects.push(intersection);\n                            }\n                        }\n                    }\n                } else if (position !== undefined) {\n                    // non-indexed buffer geometry\n                    if (Array.isArray(material)) {\n                        for (var _i2 = 0, _il2 = groups.length; _i2 < _il2; _i2++) {\n                            var _group = groups[_i2];\n                            var _groupMaterial = material[_group.materialIndex];\n\n                            var _start2 = Math.max(_group.start, drawRange.start);\n\n                            var _end2 = Math.min(_group.start + _group.count, drawRange.start + drawRange.count);\n\n                            for (var _j = _start2, _jl = _end2; _j < _jl; _j += 3) {\n                                var _a2 = _j;\n\n                                var _b2 = _j + 1;\n\n                                var _c2 = _j + 2;\n\n                                intersection = checkBufferGeometryIntersection(this, _groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, _a2, _b2, _c2);\n\n                                if (intersection) {\n                                    intersection.faceIndex = Math.floor(_j / 3); // triangle number in non-indexed buffer semantics\n\n                                    intersection.face.materialIndex = _group.materialIndex;\n                                    intersects.push(intersection);\n                                }\n                            }\n                        }\n                    } else {\n                        var _start3 = Math.max(0, drawRange.start);\n\n                        var _end3 = Math.min(position.count, drawRange.start + drawRange.count);\n\n                        for (var _i3 = _start3, _il3 = _end3; _i3 < _il3; _i3 += 3) {\n                            var _a3 = _i3;\n\n                            var _b3 = _i3 + 1;\n\n                            var _c3 = _i3 + 2;\n\n                            intersection = checkBufferGeometryIntersection(this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, _a3, _b3, _c3);\n\n                            if (intersection) {\n                                intersection.faceIndex = Math.floor(_i3 / 3); // triangle number in non-indexed buffer semantics\n\n                                intersects.push(intersection);\n                            }\n                        }\n                    }\n                }\n            } else if (geometry.isGeometry) {\n                console.error('THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n            }\n        }\n    });\n\n    function checkIntersection(object, material, raycaster, ray, pA, pB, pC, point) {\n        var intersect;\n\n        if (material.side === BackSide) {\n            intersect = ray.intersectTriangle(pC, pB, pA, true, point);\n        } else {\n            intersect = ray.intersectTriangle(pA, pB, pC, material.side !== DoubleSide, point);\n        }\n\n        if (intersect === null) return null;\n\n        _intersectionPointWorld.copy(point);\n\n        _intersectionPointWorld.applyMatrix4(object.matrixWorld);\n\n        var distance = raycaster.ray.origin.distanceTo(_intersectionPointWorld);\n        if (distance < raycaster.near || distance > raycaster.far) return null;\n        return {\n            distance: distance,\n            point: _intersectionPointWorld.clone(),\n            object: object\n        };\n    }\n\n    function checkBufferGeometryIntersection(object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c) {\n        _vA.fromBufferAttribute(position, a);\n\n        _vB.fromBufferAttribute(position, b);\n\n        _vC.fromBufferAttribute(position, c);\n\n        var morphInfluences = object.morphTargetInfluences;\n\n        if (material.morphTargets && morphPosition && morphInfluences) {\n            _morphA.set(0, 0, 0);\n\n            _morphB.set(0, 0, 0);\n\n            _morphC.set(0, 0, 0);\n\n            for (var i = 0, il = morphPosition.length; i < il; i++) {\n                var influence = morphInfluences[i];\n                var morphAttribute = morphPosition[i];\n                if (influence === 0) continue;\n\n                _tempA.fromBufferAttribute(morphAttribute, a);\n\n                _tempB.fromBufferAttribute(morphAttribute, b);\n\n                _tempC.fromBufferAttribute(morphAttribute, c);\n\n                if (morphTargetsRelative) {\n                    _morphA.addScaledVector(_tempA, influence);\n\n                    _morphB.addScaledVector(_tempB, influence);\n\n                    _morphC.addScaledVector(_tempC, influence);\n                } else {\n                    _morphA.addScaledVector(_tempA.sub(_vA), influence);\n\n                    _morphB.addScaledVector(_tempB.sub(_vB), influence);\n\n                    _morphC.addScaledVector(_tempC.sub(_vC), influence);\n                }\n            }\n\n            _vA.add(_morphA);\n\n            _vB.add(_morphB);\n\n            _vC.add(_morphC);\n        }\n\n        if (object.isSkinnedMesh && material.skinning) {\n            object.boneTransform(a, _vA);\n            object.boneTransform(b, _vB);\n            object.boneTransform(c, _vC);\n        }\n\n        var intersection = checkIntersection(object, material, raycaster, ray, _vA, _vB, _vC, _intersectionPoint);\n\n        if (intersection) {\n            if (uv) {\n                _uvA.fromBufferAttribute(uv, a);\n\n                _uvB.fromBufferAttribute(uv, b);\n\n                _uvC.fromBufferAttribute(uv, c);\n\n                intersection.uv = Triangle.getUV(_intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2());\n            }\n\n            if (uv2) {\n                _uvA.fromBufferAttribute(uv2, a);\n\n                _uvB.fromBufferAttribute(uv2, b);\n\n                _uvC.fromBufferAttribute(uv2, c);\n\n                intersection.uv2 = Triangle.getUV(_intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2());\n            }\n\n            var face = {\n                a: a,\n                b: a,\n                c: c,\n                normal: new Vector3(),\n                materialIndex: 0\n            };\n            Triangle.getNormal(_vA, _vB, _vC, face.normal);\n            intersection.face = face;\n        }\n\n        return intersection;\n    }\n\n    var BoxGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(BoxGeometry, _BufferGeometry);\n\n        function BoxGeometry(width, height, depth, widthSegments, heightSegments, depthSegments) {\n            var _this;\n\n            if (width === void 0) {\n                width = 1;\n            }\n\n            if (height === void 0) {\n                height = 1;\n            }\n\n            if (depth === void 0) {\n                depth = 1;\n            }\n\n            if (widthSegments === void 0) {\n                widthSegments = 1;\n            }\n\n            if (heightSegments === void 0) {\n                heightSegments = 1;\n            }\n\n            if (depthSegments === void 0) {\n                depthSegments = 1;\n            }\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'BoxGeometry';\n            _this.parameters = {\n                width: width,\n                height: height,\n                depth: depth,\n                widthSegments: widthSegments,\n                heightSegments: heightSegments,\n                depthSegments: depthSegments\n            };\n\n            var scope = _assertThisInitialized(_this); // segments\n\n\n            widthSegments = Math.floor(widthSegments);\n            heightSegments = Math.floor(heightSegments);\n            depthSegments = Math.floor(depthSegments); // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // helper variables\n\n            var numberOfVertices = 0;\n            var groupStart = 0; // build each side of the box geometry\n\n            buildPlane('z', 'y', 'x', -1, -1, depth, height, width, depthSegments, heightSegments, 0); // px\n\n            buildPlane('z', 'y', 'x', 1, -1, depth, height, -width, depthSegments, heightSegments, 1); // nx\n\n            buildPlane('x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2); // py\n\n            buildPlane('x', 'z', 'y', 1, -1, width, depth, -height, widthSegments, depthSegments, 3); // ny\n\n            buildPlane('x', 'y', 'z', 1, -1, width, height, depth, widthSegments, heightSegments, 4); // pz\n\n            buildPlane('x', 'y', 'z', -1, -1, width, height, -depth, widthSegments, heightSegments, 5); // nz\n            // build geometry\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n            function buildPlane(u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex) {\n                var segmentWidth = width / gridX;\n                var segmentHeight = height / gridY;\n                var widthHalf = width / 2;\n                var heightHalf = height / 2;\n                var depthHalf = depth / 2;\n                var gridX1 = gridX + 1;\n                var gridY1 = gridY + 1;\n                var vertexCounter = 0;\n                var groupCount = 0;\n                var vector = new Vector3(); // generate vertices, normals and uvs\n\n                for (var iy = 0; iy < gridY1; iy++) {\n                    var y = iy * segmentHeight - heightHalf;\n\n                    for (var ix = 0; ix < gridX1; ix++) {\n                        var x = ix * segmentWidth - widthHalf; // set values to correct vector component\n\n                        vector[u] = x * udir;\n                        vector[v] = y * vdir;\n                        vector[w] = depthHalf; // now apply vector to vertex buffer\n\n                        vertices.push(vector.x, vector.y, vector.z); // set values to correct vector component\n\n                        vector[u] = 0;\n                        vector[v] = 0;\n                        vector[w] = depth > 0 ? 1 : -1; // now apply vector to normal buffer\n\n                        normals.push(vector.x, vector.y, vector.z); // uvs\n\n                        uvs.push(ix / gridX);\n                        uvs.push(1 - iy / gridY); // counters\n\n                        vertexCounter += 1;\n                    }\n                } // indices\n                // 1. you need three indices to draw a single face\n                // 2. a single segment consists of two faces\n                // 3. so we need to generate six (2*3) indices per segment\n\n\n                for (var _iy = 0; _iy < gridY; _iy++) {\n                    for (var _ix = 0; _ix < gridX; _ix++) {\n                        var a = numberOfVertices + _ix + gridX1 * _iy;\n                        var b = numberOfVertices + _ix + gridX1 * (_iy + 1);\n                        var c = numberOfVertices + (_ix + 1) + gridX1 * (_iy + 1);\n                        var d = numberOfVertices + (_ix + 1) + gridX1 * _iy; // faces\n\n                        indices.push(a, b, d);\n                        indices.push(b, c, d); // increase counter\n\n                        groupCount += 6;\n                    }\n                } // add a group to the geometry. this will ensure multi material support\n\n\n                scope.addGroup(groupStart, groupCount, materialIndex); // calculate new start value for groups\n\n                groupStart += groupCount; // update total number of vertices\n\n                numberOfVertices += vertexCounter;\n            }\n\n            return _this;\n        }\n\n        return BoxGeometry;\n    }(BufferGeometry);\n\n    /**\n     * Uniform Utilities\n     */\n    function cloneUniforms(src) {\n        var dst = {};\n\n        for (var u in src) {\n            dst[u] = {};\n\n            for (var p in src[u]) {\n                var property = src[u][p];\n\n                if (property && (property.isColor || property.isMatrix3 || property.isMatrix4 || property.isVector2 || property.isVector3 || property.isVector4 || property.isTexture || property.isQuaternion)) {\n                    dst[u][p] = property.clone();\n                } else if (Array.isArray(property)) {\n                    dst[u][p] = property.slice();\n                } else {\n                    dst[u][p] = property;\n                }\n            }\n        }\n\n        return dst;\n    }\n\n    function mergeUniforms(uniforms) {\n        var merged = {};\n\n        for (var u = 0; u < uniforms.length; u++) {\n            var tmp = cloneUniforms(uniforms[u]);\n\n            for (var p in tmp) {\n                merged[p] = tmp[p];\n            }\n        }\n\n        return merged;\n    } // Legacy\n\n    var UniformsUtils = {\n        clone: cloneUniforms,\n        merge: mergeUniforms\n    };\n\n    var default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\n    var default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n    /**\n     * parameters = {\n     *\tdefines: { \"label\" : \"value\" },\n     *\tuniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n     *\n     *\tfragmentShader: <string>,\n     *\tvertexShader: <string>,\n     *\n     *\twireframe: <boolean>,\n     *\twireframeLinewidth: <float>,\n     *\n     *\tlights: <bool>,\n     *\n     *\tskinning: <bool>,\n     *\tmorphTargets: <bool>,\n     *\tmorphNormals: <bool>\n     * }\n     */\n\n    function ShaderMaterial(parameters) {\n        Material.call(this);\n        this.type = 'ShaderMaterial';\n        this.defines = {};\n        this.uniforms = {};\n        this.vertexShader = default_vertex;\n        this.fragmentShader = default_fragment;\n        this.linewidth = 1;\n        this.wireframe = false;\n        this.wireframeLinewidth = 1;\n        this.fog = false; // set to use scene fog\n\n        this.lights = false; // set to use scene lights\n\n        this.clipping = false; // set to use user-defined clipping planes\n\n        this.skinning = false; // set to use skinning attribute streams\n\n        this.morphTargets = false; // set to use morph targets\n\n        this.morphNormals = false; // set to use morph normals\n\n        this.extensions = {\n            derivatives: false,\n            // set to use derivatives\n            fragDepth: false,\n            // set to use fragment depth values\n            drawBuffers: false,\n            // set to use draw buffers\n            shaderTextureLOD: false // set to use shader texture LOD\n\n        }; // When rendered geometry doesn't include these attributes but the material does,\n        // use these default values in WebGL. This avoids errors when buffer data is missing.\n\n        this.defaultAttributeValues = {\n            'color': [1, 1, 1],\n            'uv': [0, 0],\n            'uv2': [0, 0]\n        };\n        this.index0AttributeName = undefined;\n        this.uniformsNeedUpdate = false;\n        this.glslVersion = null;\n\n        if (parameters !== undefined) {\n            if (parameters.attributes !== undefined) {\n                console.error('THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.');\n            }\n\n            this.setValues(parameters);\n        }\n    }\n\n    ShaderMaterial.prototype = Object.create(Material.prototype);\n    ShaderMaterial.prototype.constructor = ShaderMaterial;\n    ShaderMaterial.prototype.isShaderMaterial = true;\n\n    ShaderMaterial.prototype.copy = function(source) {\n        Material.prototype.copy.call(this, source);\n        this.fragmentShader = source.fragmentShader;\n        this.vertexShader = source.vertexShader;\n        this.uniforms = cloneUniforms(source.uniforms);\n        this.defines = Object.assign({}, source.defines);\n        this.wireframe = source.wireframe;\n        this.wireframeLinewidth = source.wireframeLinewidth;\n        this.lights = source.lights;\n        this.clipping = source.clipping;\n        this.skinning = source.skinning;\n        this.morphTargets = source.morphTargets;\n        this.morphNormals = source.morphNormals;\n        this.extensions = Object.assign({}, source.extensions);\n        this.glslVersion = source.glslVersion;\n        return this;\n    };\n\n    ShaderMaterial.prototype.toJSON = function(meta) {\n        var data = Material.prototype.toJSON.call(this, meta);\n        data.glslVersion = this.glslVersion;\n        data.uniforms = {};\n\n        for (var name in this.uniforms) {\n            var uniform = this.uniforms[name];\n            var value = uniform.value;\n\n            if (value && value.isTexture) {\n                data.uniforms[name] = {\n                    type: 't',\n                    value: value.toJSON(meta).uuid\n                };\n            } else if (value && value.isColor) {\n                data.uniforms[name] = {\n                    type: 'c',\n                    value: value.getHex()\n                };\n            } else if (value && value.isVector2) {\n                data.uniforms[name] = {\n                    type: 'v2',\n                    value: value.toArray()\n                };\n            } else if (value && value.isVector3) {\n                data.uniforms[name] = {\n                    type: 'v3',\n                    value: value.toArray()\n                };\n            } else if (value && value.isVector4) {\n                data.uniforms[name] = {\n                    type: 'v4',\n                    value: value.toArray()\n                };\n            } else if (value && value.isMatrix3) {\n                data.uniforms[name] = {\n                    type: 'm3',\n                    value: value.toArray()\n                };\n            } else if (value && value.isMatrix4) {\n                data.uniforms[name] = {\n                    type: 'm4',\n                    value: value.toArray()\n                };\n            } else {\n                data.uniforms[name] = {\n                    value: value\n                }; // note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n            }\n        }\n\n        if (Object.keys(this.defines).length > 0) data.defines = this.defines;\n        data.vertexShader = this.vertexShader;\n        data.fragmentShader = this.fragmentShader;\n        var extensions = {};\n\n        for (var key in this.extensions) {\n            if (this.extensions[key] === true) extensions[key] = true;\n        }\n\n        if (Object.keys(extensions).length > 0) data.extensions = extensions;\n        return data;\n    };\n\n    function Camera() {\n        Object3D.call(this);\n        this.type = 'Camera';\n        this.matrixWorldInverse = new Matrix4();\n        this.projectionMatrix = new Matrix4();\n        this.projectionMatrixInverse = new Matrix4();\n    }\n\n    Camera.prototype = Object.assign(Object.create(Object3D.prototype), {\n        constructor: Camera,\n        isCamera: true,\n        copy: function copy(source, recursive) {\n            Object3D.prototype.copy.call(this, source, recursive);\n            this.matrixWorldInverse.copy(source.matrixWorldInverse);\n            this.projectionMatrix.copy(source.projectionMatrix);\n            this.projectionMatrixInverse.copy(source.projectionMatrixInverse);\n            return this;\n        },\n        getWorldDirection: function getWorldDirection(target) {\n            if (target === undefined) {\n                console.warn('THREE.Camera: .getWorldDirection() target is now required');\n                target = new Vector3();\n            }\n\n            this.updateWorldMatrix(true, false);\n            var e = this.matrixWorld.elements;\n            return target.set(-e[8], -e[9], -e[10]).normalize();\n        },\n        updateMatrixWorld: function updateMatrixWorld(force) {\n            Object3D.prototype.updateMatrixWorld.call(this, force);\n            this.matrixWorldInverse.copy(this.matrixWorld).invert();\n        },\n        updateWorldMatrix: function updateWorldMatrix(updateParents, updateChildren) {\n            Object3D.prototype.updateWorldMatrix.call(this, updateParents, updateChildren);\n            this.matrixWorldInverse.copy(this.matrixWorld).invert();\n        },\n        clone: function clone() {\n            return new this.constructor().copy(this);\n        }\n    });\n\n    function PerspectiveCamera(fov, aspect, near, far) {\n        if (fov === void 0) {\n            fov = 50;\n        }\n\n        if (aspect === void 0) {\n            aspect = 1;\n        }\n\n        if (near === void 0) {\n            near = 0.1;\n        }\n\n        if (far === void 0) {\n            far = 2000;\n        }\n\n        Camera.call(this);\n        this.type = 'PerspectiveCamera';\n        this.fov = fov;\n        this.zoom = 1;\n        this.near = near;\n        this.far = far;\n        this.focus = 10;\n        this.aspect = aspect;\n        this.view = null;\n        this.filmGauge = 35; // width of the film (default in millimeters)\n\n        this.filmOffset = 0; // horizontal film offset (same unit as gauge)\n\n        this.updateProjectionMatrix();\n    }\n\n    PerspectiveCamera.prototype = Object.assign(Object.create(Camera.prototype), {\n        constructor: PerspectiveCamera,\n        isPerspectiveCamera: true,\n        copy: function copy(source, recursive) {\n            Camera.prototype.copy.call(this, source, recursive);\n            this.fov = source.fov;\n            this.zoom = source.zoom;\n            this.near = source.near;\n            this.far = source.far;\n            this.focus = source.focus;\n            this.aspect = source.aspect;\n            this.view = source.view === null ? null : Object.assign({}, source.view);\n            this.filmGauge = source.filmGauge;\n            this.filmOffset = source.filmOffset;\n            return this;\n        },\n\n        /**\n         * Sets the FOV by focal length in respect to the current .filmGauge.\n         *\n         * The default film gauge is 35, so that the focal length can be specified for\n         * a 35mm (full frame) camera.\n         *\n         * Values for focal length and film gauge must have the same unit.\n         */\n        setFocalLength: function setFocalLength(focalLength) {\n            /** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */\n            var vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n            this.fov = MathUtils.RAD2DEG * 2 * Math.atan(vExtentSlope);\n            this.updateProjectionMatrix();\n        },\n\n        /**\n         * Calculates the focal length from the current .fov and .filmGauge.\n         */\n        getFocalLength: function getFocalLength() {\n            var vExtentSlope = Math.tan(MathUtils.DEG2RAD * 0.5 * this.fov);\n            return 0.5 * this.getFilmHeight() / vExtentSlope;\n        },\n        getEffectiveFOV: function getEffectiveFOV() {\n            return MathUtils.RAD2DEG * 2 * Math.atan(Math.tan(MathUtils.DEG2RAD * 0.5 * this.fov) / this.zoom);\n        },\n        getFilmWidth: function getFilmWidth() {\n            // film not completely covered in portrait format (aspect < 1)\n            return this.filmGauge * Math.min(this.aspect, 1);\n        },\n        getFilmHeight: function getFilmHeight() {\n            // film not completely covered in landscape format (aspect > 1)\n            return this.filmGauge / Math.max(this.aspect, 1);\n        },\n\n        /**\n         * Sets an offset in a larger frustum. This is useful for multi-window or\n         * multi-monitor/multi-machine setups.\n         *\n         * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n         * the monitors are in grid like this\n         *\n         *\t +---+---+---+\n         *\t | A | B | C |\n         *\t +---+---+---+\n         *\t | D | E | F |\n         *\t +---+---+---+\n         *\n         * then for each monitor you would call it like this\n         *\n         *\t const w = 1920;\n         *\t const h = 1080;\n         *\t const fullWidth = w * 3;\n         *\t const fullHeight = h * 2;\n         *\n         *\t --A--\n         *\t camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n         *\t --B--\n         *\t camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n         *\t --C--\n         *\t camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n         *\t --D--\n         *\t camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n         *\t --E--\n         *\t camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n         *\t --F--\n         *\t camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n         *\n         *\t Note there is no reason monitors have to be the same size or in a grid.\n         */\n        setViewOffset: function setViewOffset(fullWidth, fullHeight, x, y, width, height) {\n            this.aspect = fullWidth / fullHeight;\n\n            if (this.view === null) {\n                this.view = {\n                    enabled: true,\n                    fullWidth: 1,\n                    fullHeight: 1,\n                    offsetX: 0,\n                    offsetY: 0,\n                    width: 1,\n                    height: 1\n                };\n            }\n\n            this.view.enabled = true;\n            this.view.fullWidth = fullWidth;\n            this.view.fullHeight = fullHeight;\n            this.view.offsetX = x;\n            this.view.offsetY = y;\n            this.view.width = width;\n            this.view.height = height;\n            this.updateProjectionMatrix();\n        },\n        clearViewOffset: function clearViewOffset() {\n            if (this.view !== null) {\n                this.view.enabled = false;\n            }\n\n            this.updateProjectionMatrix();\n        },\n        updateProjectionMatrix: function updateProjectionMatrix() {\n            var near = this.near;\n            var top = near * Math.tan(MathUtils.DEG2RAD * 0.5 * this.fov) / this.zoom;\n            var height = 2 * top;\n            var width = this.aspect * height;\n            var left = -0.5 * width;\n            var view = this.view;\n\n            if (this.view !== null && this.view.enabled) {\n                var fullWidth = view.fullWidth,\n                    fullHeight = view.fullHeight;\n                left += view.offsetX * width / fullWidth;\n                top -= view.offsetY * height / fullHeight;\n                width *= view.width / fullWidth;\n                height *= view.height / fullHeight;\n            }\n\n            var skew = this.filmOffset;\n            if (skew !== 0) left += near * skew / this.getFilmWidth();\n            this.projectionMatrix.makePerspective(left, left + width, top, top - height, near, this.far);\n            this.projectionMatrixInverse.copy(this.projectionMatrix).invert();\n        },\n        toJSON: function toJSON(meta) {\n            var data = Object3D.prototype.toJSON.call(this, meta);\n            data.object.fov = this.fov;\n            data.object.zoom = this.zoom;\n            data.object.near = this.near;\n            data.object.far = this.far;\n            data.object.focus = this.focus;\n            data.object.aspect = this.aspect;\n            if (this.view !== null) data.object.view = Object.assign({}, this.view);\n            data.object.filmGauge = this.filmGauge;\n            data.object.filmOffset = this.filmOffset;\n            return data;\n        }\n    });\n\n    var fov = 90,\n        aspect = 1;\n\n    var CubeCamera = /*#__PURE__*/ function(_Object3D) {\n        _inheritsLoose(CubeCamera, _Object3D);\n\n        function CubeCamera(near, far, renderTarget) {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this.type = 'CubeCamera';\n\n            if (renderTarget.isWebGLCubeRenderTarget !== true) {\n                console.error('THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.');\n                return _assertThisInitialized(_this);\n            }\n\n            _this.renderTarget = renderTarget;\n            var cameraPX = new PerspectiveCamera(fov, aspect, near, far);\n            cameraPX.layers = _this.layers;\n            cameraPX.up.set(0, -1, 0);\n            cameraPX.lookAt(new Vector3(1, 0, 0));\n\n            _this.add(cameraPX);\n\n            var cameraNX = new PerspectiveCamera(fov, aspect, near, far);\n            cameraNX.layers = _this.layers;\n            cameraNX.up.set(0, -1, 0);\n            cameraNX.lookAt(new Vector3(-1, 0, 0));\n\n            _this.add(cameraNX);\n\n            var cameraPY = new PerspectiveCamera(fov, aspect, near, far);\n            cameraPY.layers = _this.layers;\n            cameraPY.up.set(0, 0, 1);\n            cameraPY.lookAt(new Vector3(0, 1, 0));\n\n            _this.add(cameraPY);\n\n            var cameraNY = new PerspectiveCamera(fov, aspect, near, far);\n            cameraNY.layers = _this.layers;\n            cameraNY.up.set(0, 0, -1);\n            cameraNY.lookAt(new Vector3(0, -1, 0));\n\n            _this.add(cameraNY);\n\n            var cameraPZ = new PerspectiveCamera(fov, aspect, near, far);\n            cameraPZ.layers = _this.layers;\n            cameraPZ.up.set(0, -1, 0);\n            cameraPZ.lookAt(new Vector3(0, 0, 1));\n\n            _this.add(cameraPZ);\n\n            var cameraNZ = new PerspectiveCamera(fov, aspect, near, far);\n            cameraNZ.layers = _this.layers;\n            cameraNZ.up.set(0, -1, 0);\n            cameraNZ.lookAt(new Vector3(0, 0, -1));\n\n            _this.add(cameraNZ);\n\n            return _this;\n        }\n\n        var _proto = CubeCamera.prototype;\n\n        _proto.update = function update(renderer, scene) {\n            if (this.parent === null) this.updateMatrixWorld();\n            var renderTarget = this.renderTarget;\n            var _this$children = this.children,\n                cameraPX = _this$children[0],\n                cameraNX = _this$children[1],\n                cameraPY = _this$children[2],\n                cameraNY = _this$children[3],\n                cameraPZ = _this$children[4],\n                cameraNZ = _this$children[5];\n            var currentXrEnabled = renderer.xr.enabled;\n            var currentRenderTarget = renderer.getRenderTarget();\n            renderer.xr.enabled = false;\n            var generateMipmaps = renderTarget.texture.generateMipmaps;\n            renderTarget.texture.generateMipmaps = false;\n            renderer.setRenderTarget(renderTarget, 0);\n            renderer.render(scene, cameraPX);\n            renderer.setRenderTarget(renderTarget, 1);\n            renderer.render(scene, cameraNX);\n            renderer.setRenderTarget(renderTarget, 2);\n            renderer.render(scene, cameraPY);\n            renderer.setRenderTarget(renderTarget, 3);\n            renderer.render(scene, cameraNY);\n            renderer.setRenderTarget(renderTarget, 4);\n            renderer.render(scene, cameraPZ);\n            renderTarget.texture.generateMipmaps = generateMipmaps;\n            renderer.setRenderTarget(renderTarget, 5);\n            renderer.render(scene, cameraNZ);\n            renderer.setRenderTarget(currentRenderTarget);\n            renderer.xr.enabled = currentXrEnabled;\n        };\n\n        return CubeCamera;\n    }(Object3D);\n\n    var CubeTexture = /*#__PURE__*/ function(_Texture) {\n        _inheritsLoose(CubeTexture, _Texture);\n\n        function CubeTexture(images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) {\n            var _this;\n\n            images = images !== undefined ? images : [];\n            mapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n            format = format !== undefined ? format : RGBFormat;\n            _this = _Texture.call(this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) || this; // Why CubeTexture._needsFlipEnvMap is necessary:\n            //\n            // By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n            // in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n            // in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n            // three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n            // and the flag _needsFlipEnvMap controls this conversion. The flip is not required (and thus _needsFlipEnvMap is set to false)\n            // when using WebGLCubeRenderTarget.texture as a cube texture.\n\n            _this._needsFlipEnvMap = true;\n            _this.flipY = false;\n            return _this;\n        }\n\n        _createClass(CubeTexture, [{\n            key: \"images\",\n            get: function get() {\n                return this.image;\n            },\n            set: function set(value) {\n                this.image = value;\n            }\n        }]);\n\n        return CubeTexture;\n    }(Texture);\n\n    CubeTexture.prototype.isCubeTexture = true;\n\n    var WebGLCubeRenderTarget = /*#__PURE__*/ function(_WebGLRenderTarget) {\n        _inheritsLoose(WebGLCubeRenderTarget, _WebGLRenderTarget);\n\n        function WebGLCubeRenderTarget(size, options, dummy) {\n            var _this;\n\n            if (Number.isInteger(options)) {\n                console.warn('THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )');\n                options = dummy;\n            }\n\n            _this = _WebGLRenderTarget.call(this, size, size, options) || this;\n            options = options || {};\n            _this.texture = new CubeTexture(undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding);\n            _this.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n            _this.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n            _this.texture._needsFlipEnvMap = false;\n            return _this;\n        }\n\n        var _proto = WebGLCubeRenderTarget.prototype;\n\n        _proto.fromEquirectangularTexture = function fromEquirectangularTexture(renderer, texture) {\n            this.texture.type = texture.type;\n            this.texture.format = RGBAFormat; // see #18859\n\n            this.texture.encoding = texture.encoding;\n            this.texture.generateMipmaps = texture.generateMipmaps;\n            this.texture.minFilter = texture.minFilter;\n            this.texture.magFilter = texture.magFilter;\n            var shader = {\n                uniforms: {\n                    tEquirect: {\n                        value: null\n                    }\n                },\n                vertexShader:\n                /* glsl */\n                    \"\\n\\n\\t\\t\\t\\tvarying vec3 vWorldDirection;\\n\\n\\t\\t\\t\\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\n\\t\\t\\t\\t\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\t\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\n\\t\\t\\t\\t\\t#include <begin_vertex>\\n\\t\\t\\t\\t\\t#include <project_vertex>\\n\\n\\t\\t\\t\\t}\\n\\t\\t\\t\",\n                fragmentShader:\n                /* glsl */\n                    \"\\n\\n\\t\\t\\t\\tuniform sampler2D tEquirect;\\n\\n\\t\\t\\t\\tvarying vec3 vWorldDirection;\\n\\n\\t\\t\\t\\t#include <common>\\n\\n\\t\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\t\\tvec3 direction = normalize( vWorldDirection );\\n\\n\\t\\t\\t\\t\\tvec2 sampleUV = equirectUv( direction );\\n\\n\\t\\t\\t\\t\\tgl_FragColor = texture2D( tEquirect, sampleUV );\\n\\n\\t\\t\\t\\t}\\n\\t\\t\\t\"\n            };\n            var geometry = new BoxGeometry(5, 5, 5);\n            var material = new ShaderMaterial({\n                name: 'CubemapFromEquirect',\n                uniforms: cloneUniforms(shader.uniforms),\n                vertexShader: shader.vertexShader,\n                fragmentShader: shader.fragmentShader,\n                side: BackSide,\n                blending: NoBlending\n            });\n            material.uniforms.tEquirect.value = texture;\n            var mesh = new Mesh(geometry, material);\n            var currentMinFilter = texture.minFilter; // Avoid blurred poles\n\n            if (texture.minFilter === LinearMipmapLinearFilter) texture.minFilter = LinearFilter;\n            var camera = new CubeCamera(1, 10, this);\n            camera.update(renderer, mesh);\n            texture.minFilter = currentMinFilter;\n            mesh.geometry.dispose();\n            mesh.material.dispose();\n            return this;\n        };\n\n        _proto.clear = function clear(renderer, color, depth, stencil) {\n            var currentRenderTarget = renderer.getRenderTarget();\n\n            for (var i = 0; i < 6; i++) {\n                renderer.setRenderTarget(this, i);\n                renderer.clear(color, depth, stencil);\n            }\n\n            renderer.setRenderTarget(currentRenderTarget);\n        };\n\n        return WebGLCubeRenderTarget;\n    }(WebGLRenderTarget);\n\n    WebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\n    var DataTexture = /*#__PURE__*/ function(_Texture) {\n        _inheritsLoose(DataTexture, _Texture);\n\n        function DataTexture(data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {\n            var _this;\n\n            _this = _Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) || this;\n            _this.image = {\n                data: data || null,\n                width: width || 1,\n                height: height || 1\n            };\n            _this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n            _this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n            _this.generateMipmaps = false;\n            _this.flipY = false;\n            _this.unpackAlignment = 1;\n            _this.needsUpdate = true;\n            return _this;\n        }\n\n        return DataTexture;\n    }(Texture);\n\n    DataTexture.prototype.isDataTexture = true;\n\n    var _sphere$1 = /*@__PURE__*/ new Sphere();\n\n    var _vector$5 = /*@__PURE__*/ new Vector3();\n\n    var Frustum = /*#__PURE__*/ function() {\n        function Frustum(p0, p1, p2, p3, p4, p5) {\n            if (p0 === void 0) {\n                p0 = new Plane();\n            }\n\n            if (p1 === void 0) {\n                p1 = new Plane();\n            }\n\n            if (p2 === void 0) {\n                p2 = new Plane();\n            }\n\n            if (p3 === void 0) {\n                p3 = new Plane();\n            }\n\n            if (p4 === void 0) {\n                p4 = new Plane();\n            }\n\n            if (p5 === void 0) {\n                p5 = new Plane();\n            }\n\n            this.planes = [p0, p1, p2, p3, p4, p5];\n        }\n\n        var _proto = Frustum.prototype;\n\n        _proto.set = function set(p0, p1, p2, p3, p4, p5) {\n            var planes = this.planes;\n            planes[0].copy(p0);\n            planes[1].copy(p1);\n            planes[2].copy(p2);\n            planes[3].copy(p3);\n            planes[4].copy(p4);\n            planes[5].copy(p5);\n            return this;\n        };\n\n        _proto.copy = function copy(frustum) {\n            var planes = this.planes;\n\n            for (var i = 0; i < 6; i++) {\n                planes[i].copy(frustum.planes[i]);\n            }\n\n            return this;\n        };\n\n        _proto.setFromProjectionMatrix = function setFromProjectionMatrix(m) {\n            var planes = this.planes;\n            var me = m.elements;\n            var me0 = me[0],\n                me1 = me[1],\n                me2 = me[2],\n                me3 = me[3];\n            var me4 = me[4],\n                me5 = me[5],\n                me6 = me[6],\n                me7 = me[7];\n            var me8 = me[8],\n                me9 = me[9],\n                me10 = me[10],\n                me11 = me[11];\n            var me12 = me[12],\n                me13 = me[13],\n                me14 = me[14],\n                me15 = me[15];\n            planes[0].setComponents(me3 - me0, me7 - me4, me11 - me8, me15 - me12).normalize();\n            planes[1].setComponents(me3 + me0, me7 + me4, me11 + me8, me15 + me12).normalize();\n            planes[2].setComponents(me3 + me1, me7 + me5, me11 + me9, me15 + me13).normalize();\n            planes[3].setComponents(me3 - me1, me7 - me5, me11 - me9, me15 - me13).normalize();\n            planes[4].setComponents(me3 - me2, me7 - me6, me11 - me10, me15 - me14).normalize();\n            planes[5].setComponents(me3 + me2, me7 + me6, me11 + me10, me15 + me14).normalize();\n            return this;\n        };\n\n        _proto.intersectsObject = function intersectsObject(object) {\n            var geometry = object.geometry;\n            if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n            _sphere$1.copy(geometry.boundingSphere).applyMatrix4(object.matrixWorld);\n\n            return this.intersectsSphere(_sphere$1);\n        };\n\n        _proto.intersectsSprite = function intersectsSprite(sprite) {\n            _sphere$1.center.set(0, 0, 0);\n\n            _sphere$1.radius = 0.7071067811865476;\n\n            _sphere$1.applyMatrix4(sprite.matrixWorld);\n\n            return this.intersectsSphere(_sphere$1);\n        };\n\n        _proto.intersectsSphere = function intersectsSphere(sphere) {\n            var planes = this.planes;\n            var center = sphere.center;\n            var negRadius = -sphere.radius;\n\n            for (var i = 0; i < 6; i++) {\n                var distance = planes[i].distanceToPoint(center);\n\n                if (distance < negRadius) {\n                    return false;\n                }\n            }\n\n            return true;\n        };\n\n        _proto.intersectsBox = function intersectsBox(box) {\n            var planes = this.planes;\n\n            for (var i = 0; i < 6; i++) {\n                var plane = planes[i]; // corner at max distance\n\n                _vector$5.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n                _vector$5.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n                _vector$5.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n                if (plane.distanceToPoint(_vector$5) < 0) {\n                    return false;\n                }\n            }\n\n            return true;\n        };\n\n        _proto.containsPoint = function containsPoint(point) {\n            var planes = this.planes;\n\n            for (var i = 0; i < 6; i++) {\n                if (planes[i].distanceToPoint(point) < 0) {\n                    return false;\n                }\n            }\n\n            return true;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        return Frustum;\n    }();\n\n    function WebGLAnimation() {\n        var context = null;\n        var isAnimating = false;\n        var animationLoop = null;\n        var requestId = null;\n\n        function onAnimationFrame(time, frame) {\n            animationLoop(time, frame);\n            requestId = context.requestAnimationFrame(onAnimationFrame);\n        }\n\n        return {\n            start: function start() {\n                if (isAnimating === true) return;\n                if (animationLoop === null) return;\n                requestId = context.requestAnimationFrame(onAnimationFrame);\n                isAnimating = true;\n            },\n            stop: function stop() {\n                context.cancelAnimationFrame(requestId);\n                isAnimating = false;\n            },\n            setAnimationLoop: function setAnimationLoop(callback) {\n                animationLoop = callback;\n            },\n            setContext: function setContext(value) {\n                context = value;\n            }\n        };\n    }\n\n    function WebGLAttributes(gl, capabilities) {\n        var isWebGL2 = capabilities.isWebGL2;\n        var buffers = new WeakMap();\n\n        function createBuffer(attribute, bufferType) {\n            var array = attribute.array;\n            var usage = attribute.usage;\n            var buffer = gl.createBuffer();\n            gl.bindBuffer(bufferType, buffer);\n            gl.bufferData(bufferType, array, usage);\n            attribute.onUploadCallback();\n            var type = 5126;\n\n            if (array instanceof Float32Array) {\n                type = 5126;\n            } else if (array instanceof Float64Array) {\n                console.warn('THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.');\n            } else if (array instanceof Uint16Array) {\n                if (attribute.isFloat16BufferAttribute) {\n                    if (isWebGL2) {\n                        type = 5131;\n                    } else {\n                        console.warn('THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.');\n                    }\n                } else {\n                    type = 5123;\n                }\n            } else if (array instanceof Int16Array) {\n                type = 5122;\n            } else if (array instanceof Uint32Array) {\n                type = 5125;\n            } else if (array instanceof Int32Array) {\n                type = 5124;\n            } else if (array instanceof Int8Array) {\n                type = 5120;\n            } else if (array instanceof Uint8Array) {\n                type = 5121;\n            }\n\n            return {\n                buffer: buffer,\n                type: type,\n                bytesPerElement: array.BYTES_PER_ELEMENT,\n                version: attribute.version\n            };\n        }\n\n        function updateBuffer(buffer, attribute, bufferType) {\n            var array = attribute.array;\n            var updateRange = attribute.updateRange;\n            gl.bindBuffer(bufferType, buffer);\n\n            if (updateRange.count === -1) {\n                // Not using update ranges\n                gl.bufferSubData(bufferType, 0, array);\n            } else {\n                if (isWebGL2) {\n                    gl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT, array, updateRange.offset, updateRange.count);\n                } else {\n                    gl.bufferSubData(bufferType, updateRange.offset * array.BYTES_PER_ELEMENT, array.subarray(updateRange.offset, updateRange.offset + updateRange.count));\n                }\n\n                updateRange.count = -1; // reset range\n            }\n        } //\n\n\n        function get(attribute) {\n            if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n            return buffers.get(attribute);\n        }\n\n        function remove(attribute) {\n            if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n            var data = buffers.get(attribute);\n\n            if (data) {\n                gl.deleteBuffer(data.buffer);\n                buffers.delete(attribute);\n            }\n        }\n\n        function update(attribute, bufferType) {\n            if (attribute.isGLBufferAttribute) {\n                var cached = buffers.get(attribute);\n\n                if (!cached || cached.version < attribute.version) {\n                    buffers.set(attribute, {\n                        buffer: attribute.buffer,\n                        type: attribute.type,\n                        bytesPerElement: attribute.elementSize,\n                        version: attribute.version\n                    });\n                }\n\n                return;\n            }\n\n            if (attribute.isInterleavedBufferAttribute) attribute = attribute.data;\n            var data = buffers.get(attribute);\n\n            if (data === undefined) {\n                buffers.set(attribute, createBuffer(attribute, bufferType));\n            } else if (data.version < attribute.version) {\n                updateBuffer(data.buffer, attribute, bufferType);\n                data.version = attribute.version;\n            }\n        }\n\n        return {\n            get: get,\n            remove: remove,\n            update: update\n        };\n    }\n\n    var PlaneGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(PlaneGeometry, _BufferGeometry);\n\n        function PlaneGeometry(width, height, widthSegments, heightSegments) {\n            var _this;\n\n            if (width === void 0) {\n                width = 1;\n            }\n\n            if (height === void 0) {\n                height = 1;\n            }\n\n            if (widthSegments === void 0) {\n                widthSegments = 1;\n            }\n\n            if (heightSegments === void 0) {\n                heightSegments = 1;\n            }\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'PlaneGeometry';\n            _this.parameters = {\n                width: width,\n                height: height,\n                widthSegments: widthSegments,\n                heightSegments: heightSegments\n            };\n            var width_half = width / 2;\n            var height_half = height / 2;\n            var gridX = Math.floor(widthSegments);\n            var gridY = Math.floor(heightSegments);\n            var gridX1 = gridX + 1;\n            var gridY1 = gridY + 1;\n            var segment_width = width / gridX;\n            var segment_height = height / gridY; //\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = [];\n\n            for (var iy = 0; iy < gridY1; iy++) {\n                var y = iy * segment_height - height_half;\n\n                for (var ix = 0; ix < gridX1; ix++) {\n                    var x = ix * segment_width - width_half;\n                    vertices.push(x, -y, 0);\n                    normals.push(0, 0, 1);\n                    uvs.push(ix / gridX);\n                    uvs.push(1 - iy / gridY);\n                }\n            }\n\n            for (var _iy = 0; _iy < gridY; _iy++) {\n                for (var _ix = 0; _ix < gridX; _ix++) {\n                    var a = _ix + gridX1 * _iy;\n                    var b = _ix + gridX1 * (_iy + 1);\n                    var c = _ix + 1 + gridX1 * (_iy + 1);\n                    var d = _ix + 1 + gridX1 * _iy;\n                    indices.push(a, b, d);\n                    indices.push(b, c, d);\n                }\n            }\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n            return _this;\n        }\n\n        return PlaneGeometry;\n    }(BufferGeometry);\n\n    var alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\n    var alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\n    var alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\n    var aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\n    var aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\n    var begin_vertex = \"vec3 transformed = vec3( position );\";\n\n    var beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\n    var bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\n    var bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\n    var clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\n    var clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\n    var clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\n    var clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\n    var color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\n    var color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\n    var color_pars_vertex = \"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\n    var color_vertex = \"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor.xyz *= color.xyz;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\n    var common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\n    var cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_maxMipLevel 8.0\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_maxTileSize 256.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\\n\\t\\tvec2 f = fract( uv );\\n\\t\\tuv += 0.5 - f;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tif ( mipInt < cubeUV_maxMipLevel ) {\\n\\t\\t\\tuv.y += 2.0 * cubeUV_maxTileSize;\\n\\t\\t}\\n\\t\\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n\\t\\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\\n\\t\\tuv *= texelSize;\\n\\t\\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x += texelSize;\\n\\t\\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.y += texelSize;\\n\\t\\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x -= texelSize;\\n\\t\\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\treturn mix( tm, bm, f.y );\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\n    var defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\n    var displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\n    var displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\n    var emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\n    var emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\n    var encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\n    var encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value ) {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\n    var envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\n    var envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\n    var envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\n    var envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\n    var envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\n    var fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = - mvPosition.z;\\n#endif\";\n\n    var fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\n    var fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\n    var fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\n    var gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\n    var lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\n    var lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\n    var lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\n    var lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\n    var envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\n    var lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\n    var lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\n    var lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\n    var lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\n    var lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\n    var lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat specularRoughness;\\n\\tvec3 specularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(\t\t0, 1,\t\t0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\n    var lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\n    var lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\n    var lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\n    var logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\n    var logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\n    var logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\n    var logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\n    var map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\n    var map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\n    var map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\n    var map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\n    var metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\n    var metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\n    var morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\n    var morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\n    var morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\n    var normal_fragment_begin = \"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\\n#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * faceDirection;\\n\\t\\t\\tbitangent = bitangent * faceDirection;\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\n    var normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\\n#endif\";\n\n    var normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 N = surf_norm;\\n\\t\\tvec3 q1perp = cross( q1, N );\\n\\t\\tvec3 q0perp = cross( N, q0 );\\n\\t\\tvec3 T = q1perp * st0.x + q0perp * st1.x;\\n\\t\\tvec3 B = q1perp * st0.y + q0perp * st1.y;\\n\\t\\tfloat det = max( dot( T, T ), dot( B, B ) );\\n\\t\\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\\n\\t\\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\\n\\t}\\n#endif\";\n\n    var clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\n    var clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\\n\\t#endif\\n#endif\";\n\n    var clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\n    var packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\n    var premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\n    var project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\n    var dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\n    var dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\n    var roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\n    var roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\n    var shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t\tf.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t\ttexture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t\tf.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\n    var shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\n    var shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\n    var shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\n    var skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\n    var skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\n    var skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\n    var skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\n    var specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\n    var specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\n    var tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\n    var tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(\t1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,\t1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,\t1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\n    var transmissionmap_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\\n#endif\";\n\n    var transmissionmap_pars_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\tuniform sampler2D transmissionMap;\\n#endif\";\n\n    var uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\n    var uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\n    var uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\n    var uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\n    var uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\n    var uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\n    var worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\n    var background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n    var background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\n    var cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n    var cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\n    var depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\n    var depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\n    var distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\n    var distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\n    var equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\n    var equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\n    var linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\n    var linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n    var meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n    var meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n    var meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\n    var meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n    var meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n    var meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSMISSION\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSMISSION\\n\\tuniform float transmission;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <transmissionmap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#ifdef TRANSMISSION\\n\\t\\tfloat totalTransmission = transmission;\\n\\t#endif\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <transmissionmap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSMISSION\\n\\t\\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\n    var meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\n    var normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\n    var points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\n    var points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n    var shadow_vert = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\n    var sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\n    var ShaderChunk = {\n        alphamap_fragment: alphamap_fragment,\n        alphamap_pars_fragment: alphamap_pars_fragment,\n        alphatest_fragment: alphatest_fragment,\n        aomap_fragment: aomap_fragment,\n        aomap_pars_fragment: aomap_pars_fragment,\n        begin_vertex: begin_vertex,\n        beginnormal_vertex: beginnormal_vertex,\n        bsdfs: bsdfs,\n        bumpmap_pars_fragment: bumpmap_pars_fragment,\n        clipping_planes_fragment: clipping_planes_fragment,\n        clipping_planes_pars_fragment: clipping_planes_pars_fragment,\n        clipping_planes_pars_vertex: clipping_planes_pars_vertex,\n        clipping_planes_vertex: clipping_planes_vertex,\n        color_fragment: color_fragment,\n        color_pars_fragment: color_pars_fragment,\n        color_pars_vertex: color_pars_vertex,\n        color_vertex: color_vertex,\n        common: common,\n        cube_uv_reflection_fragment: cube_uv_reflection_fragment,\n        defaultnormal_vertex: defaultnormal_vertex,\n        displacementmap_pars_vertex: displacementmap_pars_vertex,\n        displacementmap_vertex: displacementmap_vertex,\n        emissivemap_fragment: emissivemap_fragment,\n        emissivemap_pars_fragment: emissivemap_pars_fragment,\n        encodings_fragment: encodings_fragment,\n        encodings_pars_fragment: encodings_pars_fragment,\n        envmap_fragment: envmap_fragment,\n        envmap_common_pars_fragment: envmap_common_pars_fragment,\n        envmap_pars_fragment: envmap_pars_fragment,\n        envmap_pars_vertex: envmap_pars_vertex,\n        envmap_physical_pars_fragment: envmap_physical_pars_fragment,\n        envmap_vertex: envmap_vertex,\n        fog_vertex: fog_vertex,\n        fog_pars_vertex: fog_pars_vertex,\n        fog_fragment: fog_fragment,\n        fog_pars_fragment: fog_pars_fragment,\n        gradientmap_pars_fragment: gradientmap_pars_fragment,\n        lightmap_fragment: lightmap_fragment,\n        lightmap_pars_fragment: lightmap_pars_fragment,\n        lights_lambert_vertex: lights_lambert_vertex,\n        lights_pars_begin: lights_pars_begin,\n        lights_toon_fragment: lights_toon_fragment,\n        lights_toon_pars_fragment: lights_toon_pars_fragment,\n        lights_phong_fragment: lights_phong_fragment,\n        lights_phong_pars_fragment: lights_phong_pars_fragment,\n        lights_physical_fragment: lights_physical_fragment,\n        lights_physical_pars_fragment: lights_physical_pars_fragment,\n        lights_fragment_begin: lights_fragment_begin,\n        lights_fragment_maps: lights_fragment_maps,\n        lights_fragment_end: lights_fragment_end,\n        logdepthbuf_fragment: logdepthbuf_fragment,\n        logdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n        logdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n        logdepthbuf_vertex: logdepthbuf_vertex,\n        map_fragment: map_fragment,\n        map_pars_fragment: map_pars_fragment,\n        map_particle_fragment: map_particle_fragment,\n        map_particle_pars_fragment: map_particle_pars_fragment,\n        metalnessmap_fragment: metalnessmap_fragment,\n        metalnessmap_pars_fragment: metalnessmap_pars_fragment,\n        morphnormal_vertex: morphnormal_vertex,\n        morphtarget_pars_vertex: morphtarget_pars_vertex,\n        morphtarget_vertex: morphtarget_vertex,\n        normal_fragment_begin: normal_fragment_begin,\n        normal_fragment_maps: normal_fragment_maps,\n        normalmap_pars_fragment: normalmap_pars_fragment,\n        clearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n        clearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n        clearcoat_pars_fragment: clearcoat_pars_fragment,\n        packing: packing,\n        premultiplied_alpha_fragment: premultiplied_alpha_fragment,\n        project_vertex: project_vertex,\n        dithering_fragment: dithering_fragment,\n        dithering_pars_fragment: dithering_pars_fragment,\n        roughnessmap_fragment: roughnessmap_fragment,\n        roughnessmap_pars_fragment: roughnessmap_pars_fragment,\n        shadowmap_pars_fragment: shadowmap_pars_fragment,\n        shadowmap_pars_vertex: shadowmap_pars_vertex,\n        shadowmap_vertex: shadowmap_vertex,\n        shadowmask_pars_fragment: shadowmask_pars_fragment,\n        skinbase_vertex: skinbase_vertex,\n        skinning_pars_vertex: skinning_pars_vertex,\n        skinning_vertex: skinning_vertex,\n        skinnormal_vertex: skinnormal_vertex,\n        specularmap_fragment: specularmap_fragment,\n        specularmap_pars_fragment: specularmap_pars_fragment,\n        tonemapping_fragment: tonemapping_fragment,\n        tonemapping_pars_fragment: tonemapping_pars_fragment,\n        transmissionmap_fragment: transmissionmap_fragment,\n        transmissionmap_pars_fragment: transmissionmap_pars_fragment,\n        uv_pars_fragment: uv_pars_fragment,\n        uv_pars_vertex: uv_pars_vertex,\n        uv_vertex: uv_vertex,\n        uv2_pars_fragment: uv2_pars_fragment,\n        uv2_pars_vertex: uv2_pars_vertex,\n        uv2_vertex: uv2_vertex,\n        worldpos_vertex: worldpos_vertex,\n        background_frag: background_frag,\n        background_vert: background_vert,\n        cube_frag: cube_frag,\n        cube_vert: cube_vert,\n        depth_frag: depth_frag,\n        depth_vert: depth_vert,\n        distanceRGBA_frag: distanceRGBA_frag,\n        distanceRGBA_vert: distanceRGBA_vert,\n        equirect_frag: equirect_frag,\n        equirect_vert: equirect_vert,\n        linedashed_frag: linedashed_frag,\n        linedashed_vert: linedashed_vert,\n        meshbasic_frag: meshbasic_frag,\n        meshbasic_vert: meshbasic_vert,\n        meshlambert_frag: meshlambert_frag,\n        meshlambert_vert: meshlambert_vert,\n        meshmatcap_frag: meshmatcap_frag,\n        meshmatcap_vert: meshmatcap_vert,\n        meshtoon_frag: meshtoon_frag,\n        meshtoon_vert: meshtoon_vert,\n        meshphong_frag: meshphong_frag,\n        meshphong_vert: meshphong_vert,\n        meshphysical_frag: meshphysical_frag,\n        meshphysical_vert: meshphysical_vert,\n        normal_frag: normal_frag,\n        normal_vert: normal_vert,\n        points_frag: points_frag,\n        points_vert: points_vert,\n        shadow_frag: shadow_frag,\n        shadow_vert: shadow_vert,\n        sprite_frag: sprite_frag,\n        sprite_vert: sprite_vert\n    };\n\n    /**\n     * Uniforms library for shared webgl shaders\n     */\n\n    var UniformsLib = {\n        common: {\n            diffuse: {\n                value: new Color(0xeeeeee)\n            },\n            opacity: {\n                value: 1.0\n            },\n            map: {\n                value: null\n            },\n            uvTransform: {\n                value: new Matrix3()\n            },\n            uv2Transform: {\n                value: new Matrix3()\n            },\n            alphaMap: {\n                value: null\n            }\n        },\n        specularmap: {\n            specularMap: {\n                value: null\n            }\n        },\n        envmap: {\n            envMap: {\n                value: null\n            },\n            flipEnvMap: {\n                value: -1\n            },\n            reflectivity: {\n                value: 1.0\n            },\n            refractionRatio: {\n                value: 0.98\n            },\n            maxMipLevel: {\n                value: 0\n            }\n        },\n        aomap: {\n            aoMap: {\n                value: null\n            },\n            aoMapIntensity: {\n                value: 1\n            }\n        },\n        lightmap: {\n            lightMap: {\n                value: null\n            },\n            lightMapIntensity: {\n                value: 1\n            }\n        },\n        emissivemap: {\n            emissiveMap: {\n                value: null\n            }\n        },\n        bumpmap: {\n            bumpMap: {\n                value: null\n            },\n            bumpScale: {\n                value: 1\n            }\n        },\n        normalmap: {\n            normalMap: {\n                value: null\n            },\n            normalScale: {\n                value: new Vector2(1, 1)\n            }\n        },\n        displacementmap: {\n            displacementMap: {\n                value: null\n            },\n            displacementScale: {\n                value: 1\n            },\n            displacementBias: {\n                value: 0\n            }\n        },\n        roughnessmap: {\n            roughnessMap: {\n                value: null\n            }\n        },\n        metalnessmap: {\n            metalnessMap: {\n                value: null\n            }\n        },\n        gradientmap: {\n            gradientMap: {\n                value: null\n            }\n        },\n        fog: {\n            fogDensity: {\n                value: 0.00025\n            },\n            fogNear: {\n                value: 1\n            },\n            fogFar: {\n                value: 2000\n            },\n            fogColor: {\n                value: new Color(0xffffff)\n            }\n        },\n        lights: {\n            ambientLightColor: {\n                value: []\n            },\n            lightProbe: {\n                value: []\n            },\n            directionalLights: {\n                value: [],\n                properties: {\n                    direction: {},\n                    color: {}\n                }\n            },\n            directionalLightShadows: {\n                value: [],\n                properties: {\n                    shadowBias: {},\n                    shadowNormalBias: {},\n                    shadowRadius: {},\n                    shadowMapSize: {}\n                }\n            },\n            directionalShadowMap: {\n                value: []\n            },\n            directionalShadowMatrix: {\n                value: []\n            },\n            spotLights: {\n                value: [],\n                properties: {\n                    color: {},\n                    position: {},\n                    direction: {},\n                    distance: {},\n                    coneCos: {},\n                    penumbraCos: {},\n                    decay: {}\n                }\n            },\n            spotLightShadows: {\n                value: [],\n                properties: {\n                    shadowBias: {},\n                    shadowNormalBias: {},\n                    shadowRadius: {},\n                    shadowMapSize: {}\n                }\n            },\n            spotShadowMap: {\n                value: []\n            },\n            spotShadowMatrix: {\n                value: []\n            },\n            pointLights: {\n                value: [],\n                properties: {\n                    color: {},\n                    position: {},\n                    decay: {},\n                    distance: {}\n                }\n            },\n            pointLightShadows: {\n                value: [],\n                properties: {\n                    shadowBias: {},\n                    shadowNormalBias: {},\n                    shadowRadius: {},\n                    shadowMapSize: {},\n                    shadowCameraNear: {},\n                    shadowCameraFar: {}\n                }\n            },\n            pointShadowMap: {\n                value: []\n            },\n            pointShadowMatrix: {\n                value: []\n            },\n            hemisphereLights: {\n                value: [],\n                properties: {\n                    direction: {},\n                    skyColor: {},\n                    groundColor: {}\n                }\n            },\n            // TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n            rectAreaLights: {\n                value: [],\n                properties: {\n                    color: {},\n                    position: {},\n                    width: {},\n                    height: {}\n                }\n            },\n            ltc_1: {\n                value: null\n            },\n            ltc_2: {\n                value: null\n            }\n        },\n        points: {\n            diffuse: {\n                value: new Color(0xeeeeee)\n            },\n            opacity: {\n                value: 1.0\n            },\n            size: {\n                value: 1.0\n            },\n            scale: {\n                value: 1.0\n            },\n            map: {\n                value: null\n            },\n            alphaMap: {\n                value: null\n            },\n            uvTransform: {\n                value: new Matrix3()\n            }\n        },\n        sprite: {\n            diffuse: {\n                value: new Color(0xeeeeee)\n            },\n            opacity: {\n                value: 1.0\n            },\n            center: {\n                value: new Vector2(0.5, 0.5)\n            },\n            rotation: {\n                value: 0.0\n            },\n            map: {\n                value: null\n            },\n            alphaMap: {\n                value: null\n            },\n            uvTransform: {\n                value: new Matrix3()\n            }\n        }\n    };\n\n    var ShaderLib = {\n        basic: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.fog]),\n            vertexShader: ShaderChunk.meshbasic_vert,\n            fragmentShader: ShaderChunk.meshbasic_frag\n        },\n        lambert: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.fog, UniformsLib.lights, {\n                emissive: {\n                    value: new Color(0x000000)\n                }\n            }]),\n            vertexShader: ShaderChunk.meshlambert_vert,\n            fragmentShader: ShaderChunk.meshlambert_frag\n        },\n        phong: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.specularmap, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.fog, UniformsLib.lights, {\n                emissive: {\n                    value: new Color(0x000000)\n                },\n                specular: {\n                    value: new Color(0x111111)\n                },\n                shininess: {\n                    value: 30\n                }\n            }]),\n            vertexShader: ShaderChunk.meshphong_vert,\n            fragmentShader: ShaderChunk.meshphong_frag\n        },\n        standard: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.envmap, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.roughnessmap, UniformsLib.metalnessmap, UniformsLib.fog, UniformsLib.lights, {\n                emissive: {\n                    value: new Color(0x000000)\n                },\n                roughness: {\n                    value: 1.0\n                },\n                metalness: {\n                    value: 0.0\n                },\n                envMapIntensity: {\n                    value: 1\n                } // temporary\n\n            }]),\n            vertexShader: ShaderChunk.meshphysical_vert,\n            fragmentShader: ShaderChunk.meshphysical_frag\n        },\n        toon: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.aomap, UniformsLib.lightmap, UniformsLib.emissivemap, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.gradientmap, UniformsLib.fog, UniformsLib.lights, {\n                emissive: {\n                    value: new Color(0x000000)\n                }\n            }]),\n            vertexShader: ShaderChunk.meshtoon_vert,\n            fragmentShader: ShaderChunk.meshtoon_frag\n        },\n        matcap: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, UniformsLib.fog, {\n                matcap: {\n                    value: null\n                }\n            }]),\n            vertexShader: ShaderChunk.meshmatcap_vert,\n            fragmentShader: ShaderChunk.meshmatcap_frag\n        },\n        points: {\n            uniforms: mergeUniforms([UniformsLib.points, UniformsLib.fog]),\n            vertexShader: ShaderChunk.points_vert,\n            fragmentShader: ShaderChunk.points_frag\n        },\n        dashed: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.fog, {\n                scale: {\n                    value: 1\n                },\n                dashSize: {\n                    value: 1\n                },\n                totalSize: {\n                    value: 2\n                }\n            }]),\n            vertexShader: ShaderChunk.linedashed_vert,\n            fragmentShader: ShaderChunk.linedashed_frag\n        },\n        depth: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.displacementmap]),\n            vertexShader: ShaderChunk.depth_vert,\n            fragmentShader: ShaderChunk.depth_frag\n        },\n        normal: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.bumpmap, UniformsLib.normalmap, UniformsLib.displacementmap, {\n                opacity: {\n                    value: 1.0\n                }\n            }]),\n            vertexShader: ShaderChunk.normal_vert,\n            fragmentShader: ShaderChunk.normal_frag\n        },\n        sprite: {\n            uniforms: mergeUniforms([UniformsLib.sprite, UniformsLib.fog]),\n            vertexShader: ShaderChunk.sprite_vert,\n            fragmentShader: ShaderChunk.sprite_frag\n        },\n        background: {\n            uniforms: {\n                uvTransform: {\n                    value: new Matrix3()\n                },\n                t2D: {\n                    value: null\n                }\n            },\n            vertexShader: ShaderChunk.background_vert,\n            fragmentShader: ShaderChunk.background_frag\n        },\n\n        /* -------------------------------------------------------------------------\n        //\tCube map shader\n         ------------------------------------------------------------------------- */\n        cube: {\n            uniforms: mergeUniforms([UniformsLib.envmap, {\n                opacity: {\n                    value: 1.0\n                }\n            }]),\n            vertexShader: ShaderChunk.cube_vert,\n            fragmentShader: ShaderChunk.cube_frag\n        },\n        equirect: {\n            uniforms: {\n                tEquirect: {\n                    value: null\n                }\n            },\n            vertexShader: ShaderChunk.equirect_vert,\n            fragmentShader: ShaderChunk.equirect_frag\n        },\n        distanceRGBA: {\n            uniforms: mergeUniforms([UniformsLib.common, UniformsLib.displacementmap, {\n                referencePosition: {\n                    value: new Vector3()\n                },\n                nearDistance: {\n                    value: 1\n                },\n                farDistance: {\n                    value: 1000\n                }\n            }]),\n            vertexShader: ShaderChunk.distanceRGBA_vert,\n            fragmentShader: ShaderChunk.distanceRGBA_frag\n        },\n        shadow: {\n            uniforms: mergeUniforms([UniformsLib.lights, UniformsLib.fog, {\n                color: {\n                    value: new Color(0x00000)\n                },\n                opacity: {\n                    value: 1.0\n                }\n            }]),\n            vertexShader: ShaderChunk.shadow_vert,\n            fragmentShader: ShaderChunk.shadow_frag\n        }\n    };\n    ShaderLib.physical = {\n        uniforms: mergeUniforms([ShaderLib.standard.uniforms, {\n            clearcoat: {\n                value: 0\n            },\n            clearcoatMap: {\n                value: null\n            },\n            clearcoatRoughness: {\n                value: 0\n            },\n            clearcoatRoughnessMap: {\n                value: null\n            },\n            clearcoatNormalScale: {\n                value: new Vector2(1, 1)\n            },\n            clearcoatNormalMap: {\n                value: null\n            },\n            sheen: {\n                value: new Color(0x000000)\n            },\n            transmission: {\n                value: 0\n            },\n            transmissionMap: {\n                value: null\n            }\n        }]),\n        vertexShader: ShaderChunk.meshphysical_vert,\n        fragmentShader: ShaderChunk.meshphysical_frag\n    };\n\n    function WebGLBackground(renderer, cubemaps, state, objects, premultipliedAlpha) {\n        var clearColor = new Color(0x000000);\n        var clearAlpha = 0;\n        var planeMesh;\n        var boxMesh;\n        var currentBackground = null;\n        var currentBackgroundVersion = 0;\n        var currentTonemapping = null;\n\n        function render(renderList, scene, camera, forceClear) {\n            var background = scene.isScene === true ? scene.background : null;\n\n            if (background && background.isTexture) {\n                background = cubemaps.get(background);\n            } // Ignore background in AR\n            // TODO: Reconsider this.\n\n\n            var xr = renderer.xr;\n            var session = xr.getSession && xr.getSession();\n\n            if (session && session.environmentBlendMode === 'additive') {\n                background = null;\n            }\n\n            if (background === null) {\n                setClear(clearColor, clearAlpha);\n            } else if (background && background.isColor) {\n                setClear(background, 1);\n                forceClear = true;\n            }\n\n            if (renderer.autoClear || forceClear) {\n                renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n            }\n\n            if (background && (background.isCubeTexture || background.isWebGLCubeRenderTarget || background.mapping === CubeUVReflectionMapping)) {\n                if (boxMesh === undefined) {\n                    boxMesh = new Mesh(new BoxGeometry(1, 1, 1), new ShaderMaterial({\n                        name: 'BackgroundCubeMaterial',\n                        uniforms: cloneUniforms(ShaderLib.cube.uniforms),\n                        vertexShader: ShaderLib.cube.vertexShader,\n                        fragmentShader: ShaderLib.cube.fragmentShader,\n                        side: BackSide,\n                        depthTest: false,\n                        depthWrite: false,\n                        fog: false\n                    }));\n                    boxMesh.geometry.deleteAttribute('normal');\n                    boxMesh.geometry.deleteAttribute('uv');\n\n                    boxMesh.onBeforeRender = function(renderer, scene, camera) {\n                        this.matrixWorld.copyPosition(camera.matrixWorld);\n                    }; // enable code injection for non-built-in material\n\n\n                    Object.defineProperty(boxMesh.material, 'envMap', {\n                        get: function get() {\n                            return this.uniforms.envMap.value;\n                        }\n                    });\n                    objects.update(boxMesh);\n                }\n\n                if (background.isWebGLCubeRenderTarget) {\n                    // TODO Deprecate\n                    background = background.texture;\n                }\n\n                boxMesh.material.uniforms.envMap.value = background;\n                boxMesh.material.uniforms.flipEnvMap.value = background.isCubeTexture && background._needsFlipEnvMap ? -1 : 1;\n\n                if (currentBackground !== background || currentBackgroundVersion !== background.version || currentTonemapping !== renderer.toneMapping) {\n                    boxMesh.material.needsUpdate = true;\n                    currentBackground = background;\n                    currentBackgroundVersion = background.version;\n                    currentTonemapping = renderer.toneMapping;\n                } // push to the pre-sorted opaque render list\n\n\n                renderList.unshift(boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null);\n            } else if (background && background.isTexture) {\n                if (planeMesh === undefined) {\n                    planeMesh = new Mesh(new PlaneGeometry(2, 2), new ShaderMaterial({\n                        name: 'BackgroundMaterial',\n                        uniforms: cloneUniforms(ShaderLib.background.uniforms),\n                        vertexShader: ShaderLib.background.vertexShader,\n                        fragmentShader: ShaderLib.background.fragmentShader,\n                        side: FrontSide,\n                        depthTest: false,\n                        depthWrite: false,\n                        fog: false\n                    }));\n                    planeMesh.geometry.deleteAttribute('normal'); // enable code injection for non-built-in material\n\n                    Object.defineProperty(planeMesh.material, 'map', {\n                        get: function get() {\n                            return this.uniforms.t2D.value;\n                        }\n                    });\n                    objects.update(planeMesh);\n                }\n\n                planeMesh.material.uniforms.t2D.value = background;\n\n                if (background.matrixAutoUpdate === true) {\n                    background.updateMatrix();\n                }\n\n                planeMesh.material.uniforms.uvTransform.value.copy(background.matrix);\n\n                if (currentBackground !== background || currentBackgroundVersion !== background.version || currentTonemapping !== renderer.toneMapping) {\n                    planeMesh.material.needsUpdate = true;\n                    currentBackground = background;\n                    currentBackgroundVersion = background.version;\n                    currentTonemapping = renderer.toneMapping;\n                } // push to the pre-sorted opaque render list\n\n\n                renderList.unshift(planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null);\n            }\n        }\n\n        function setClear(color, alpha) {\n            state.buffers.color.setClear(color.r, color.g, color.b, alpha, premultipliedAlpha);\n        }\n\n        return {\n            getClearColor: function getClearColor() {\n                return clearColor;\n            },\n            setClearColor: function setClearColor(color, alpha) {\n                if (alpha === void 0) {\n                    alpha = 1;\n                }\n\n                clearColor.set(color);\n                clearAlpha = alpha;\n                setClear(clearColor, clearAlpha);\n            },\n            getClearAlpha: function getClearAlpha() {\n                return clearAlpha;\n            },\n            setClearAlpha: function setClearAlpha(alpha) {\n                clearAlpha = alpha;\n                setClear(clearColor, clearAlpha);\n            },\n            render: render\n        };\n    }\n\n    function WebGLBindingStates(gl, extensions, attributes, capabilities) {\n        var maxVertexAttributes = gl.getParameter(34921);\n        var extension = capabilities.isWebGL2 ? null : extensions.get('OES_vertex_array_object');\n        var vaoAvailable = capabilities.isWebGL2 || extension !== null;\n        var bindingStates = {};\n        var defaultState = createBindingState(null);\n        var currentState = defaultState;\n\n        function setup(object, material, program, geometry, index) {\n            var updateBuffers = false;\n\n            if (vaoAvailable) {\n                var state = getBindingState(geometry, program, material);\n\n                if (currentState !== state) {\n                    currentState = state;\n                    bindVertexArrayObject(currentState.object);\n                }\n\n                updateBuffers = needsUpdate(geometry, index);\n                if (updateBuffers) saveCache(geometry, index);\n            } else {\n                var wireframe = material.wireframe === true;\n\n                if (currentState.geometry !== geometry.id || currentState.program !== program.id || currentState.wireframe !== wireframe) {\n                    currentState.geometry = geometry.id;\n                    currentState.program = program.id;\n                    currentState.wireframe = wireframe;\n                    updateBuffers = true;\n                }\n            }\n\n            if (object.isInstancedMesh === true) {\n                updateBuffers = true;\n            }\n\n            if (index !== null) {\n                attributes.update(index, 34963);\n            }\n\n            if (updateBuffers) {\n                setupVertexAttributes(object, material, program, geometry);\n\n                if (index !== null) {\n                    gl.bindBuffer(34963, attributes.get(index).buffer);\n                }\n            }\n        }\n\n        function createVertexArrayObject() {\n            if (capabilities.isWebGL2) return gl.createVertexArray();\n            return extension.createVertexArrayOES();\n        }\n\n        function bindVertexArrayObject(vao) {\n            if (capabilities.isWebGL2) return gl.bindVertexArray(vao);\n            return extension.bindVertexArrayOES(vao);\n        }\n\n        function deleteVertexArrayObject(vao) {\n            if (capabilities.isWebGL2) return gl.deleteVertexArray(vao);\n            return extension.deleteVertexArrayOES(vao);\n        }\n\n        function getBindingState(geometry, program, material) {\n            var wireframe = material.wireframe === true;\n            var programMap = bindingStates[geometry.id];\n\n            if (programMap === undefined) {\n                programMap = {};\n                bindingStates[geometry.id] = programMap;\n            }\n\n            var stateMap = programMap[program.id];\n\n            if (stateMap === undefined) {\n                stateMap = {};\n                programMap[program.id] = stateMap;\n            }\n\n            var state = stateMap[wireframe];\n\n            if (state === undefined) {\n                state = createBindingState(createVertexArrayObject());\n                stateMap[wireframe] = state;\n            }\n\n            return state;\n        }\n\n        function createBindingState(vao) {\n            var newAttributes = [];\n            var enabledAttributes = [];\n            var attributeDivisors = [];\n\n            for (var i = 0; i < maxVertexAttributes; i++) {\n                newAttributes[i] = 0;\n                enabledAttributes[i] = 0;\n                attributeDivisors[i] = 0;\n            }\n\n            return {\n                // for backward compatibility on non-VAO support browser\n                geometry: null,\n                program: null,\n                wireframe: false,\n                newAttributes: newAttributes,\n                enabledAttributes: enabledAttributes,\n                attributeDivisors: attributeDivisors,\n                object: vao,\n                attributes: {},\n                index: null\n            };\n        }\n\n        function needsUpdate(geometry, index) {\n            var cachedAttributes = currentState.attributes;\n            var geometryAttributes = geometry.attributes;\n            var attributesNum = 0;\n\n            for (var key in geometryAttributes) {\n                var cachedAttribute = cachedAttributes[key];\n                var geometryAttribute = geometryAttributes[key];\n                if (cachedAttribute === undefined) return true;\n                if (cachedAttribute.attribute !== geometryAttribute) return true;\n                if (cachedAttribute.data !== geometryAttribute.data) return true;\n                attributesNum++;\n            }\n\n            if (currentState.attributesNum !== attributesNum) return true;\n            if (currentState.index !== index) return true;\n            return false;\n        }\n\n        function saveCache(geometry, index) {\n            var cache = {};\n            var attributes = geometry.attributes;\n            var attributesNum = 0;\n\n            for (var key in attributes) {\n                var attribute = attributes[key];\n                var data = {};\n                data.attribute = attribute;\n\n                if (attribute.data) {\n                    data.data = attribute.data;\n                }\n\n                cache[key] = data;\n                attributesNum++;\n            }\n\n            currentState.attributes = cache;\n            currentState.attributesNum = attributesNum;\n            currentState.index = index;\n        }\n\n        function initAttributes() {\n            var newAttributes = currentState.newAttributes;\n\n            for (var i = 0, il = newAttributes.length; i < il; i++) {\n                newAttributes[i] = 0;\n            }\n        }\n\n        function enableAttribute(attribute) {\n            enableAttributeAndDivisor(attribute, 0);\n        }\n\n        function enableAttributeAndDivisor(attribute, meshPerAttribute) {\n            var newAttributes = currentState.newAttributes;\n            var enabledAttributes = currentState.enabledAttributes;\n            var attributeDivisors = currentState.attributeDivisors;\n            newAttributes[attribute] = 1;\n\n            if (enabledAttributes[attribute] === 0) {\n                gl.enableVertexAttribArray(attribute);\n                enabledAttributes[attribute] = 1;\n            }\n\n            if (attributeDivisors[attribute] !== meshPerAttribute) {\n                var _extension = capabilities.isWebGL2 ? gl : extensions.get('ANGLE_instanced_arrays');\n\n                _extension[capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE'](attribute, meshPerAttribute);\n\n                attributeDivisors[attribute] = meshPerAttribute;\n            }\n        }\n\n        function disableUnusedAttributes() {\n            var newAttributes = currentState.newAttributes;\n            var enabledAttributes = currentState.enabledAttributes;\n\n            for (var i = 0, il = enabledAttributes.length; i < il; i++) {\n                if (enabledAttributes[i] !== newAttributes[i]) {\n                    gl.disableVertexAttribArray(i);\n                    enabledAttributes[i] = 0;\n                }\n            }\n        }\n\n        function vertexAttribPointer(index, size, type, normalized, stride, offset) {\n            if (capabilities.isWebGL2 === true && (type === 5124 || type === 5125)) {\n                gl.vertexAttribIPointer(index, size, type, stride, offset);\n            } else {\n                gl.vertexAttribPointer(index, size, type, normalized, stride, offset);\n            }\n        }\n\n        function setupVertexAttributes(object, material, program, geometry) {\n            if (capabilities.isWebGL2 === false && (object.isInstancedMesh || geometry.isInstancedBufferGeometry)) {\n                if (extensions.get('ANGLE_instanced_arrays') === null) return;\n            }\n\n            initAttributes();\n            var geometryAttributes = geometry.attributes;\n            var programAttributes = program.getAttributes();\n            var materialDefaultAttributeValues = material.defaultAttributeValues;\n\n            for (var name in programAttributes) {\n                var programAttribute = programAttributes[name];\n\n                if (programAttribute >= 0) {\n                    var geometryAttribute = geometryAttributes[name];\n\n                    if (geometryAttribute !== undefined) {\n                        var normalized = geometryAttribute.normalized;\n                        var size = geometryAttribute.itemSize;\n                        var attribute = attributes.get(geometryAttribute); // TODO Attribute may not be available on context restore\n\n                        if (attribute === undefined) continue;\n                        var buffer = attribute.buffer;\n                        var type = attribute.type;\n                        var bytesPerElement = attribute.bytesPerElement;\n\n                        if (geometryAttribute.isInterleavedBufferAttribute) {\n                            var data = geometryAttribute.data;\n                            var stride = data.stride;\n                            var offset = geometryAttribute.offset;\n\n                            if (data && data.isInstancedInterleavedBuffer) {\n                                enableAttributeAndDivisor(programAttribute, data.meshPerAttribute);\n\n                                if (geometry._maxInstanceCount === undefined) {\n                                    geometry._maxInstanceCount = data.meshPerAttribute * data.count;\n                                }\n                            } else {\n                                enableAttribute(programAttribute);\n                            }\n\n                            gl.bindBuffer(34962, buffer);\n                            vertexAttribPointer(programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement);\n                        } else {\n                            if (geometryAttribute.isInstancedBufferAttribute) {\n                                enableAttributeAndDivisor(programAttribute, geometryAttribute.meshPerAttribute);\n\n                                if (geometry._maxInstanceCount === undefined) {\n                                    geometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n                                }\n                            } else {\n                                enableAttribute(programAttribute);\n                            }\n\n                            gl.bindBuffer(34962, buffer);\n                            vertexAttribPointer(programAttribute, size, type, normalized, 0, 0);\n                        }\n                    } else if (name === 'instanceMatrix') {\n                        var _attribute = attributes.get(object.instanceMatrix); // TODO Attribute may not be available on context restore\n\n\n                        if (_attribute === undefined) continue;\n                        var _buffer = _attribute.buffer;\n                        var _type = _attribute.type;\n                        enableAttributeAndDivisor(programAttribute + 0, 1);\n                        enableAttributeAndDivisor(programAttribute + 1, 1);\n                        enableAttributeAndDivisor(programAttribute + 2, 1);\n                        enableAttributeAndDivisor(programAttribute + 3, 1);\n                        gl.bindBuffer(34962, _buffer);\n                        gl.vertexAttribPointer(programAttribute + 0, 4, _type, false, 64, 0);\n                        gl.vertexAttribPointer(programAttribute + 1, 4, _type, false, 64, 16);\n                        gl.vertexAttribPointer(programAttribute + 2, 4, _type, false, 64, 32);\n                        gl.vertexAttribPointer(programAttribute + 3, 4, _type, false, 64, 48);\n                    } else if (name === 'instanceColor') {\n                        var _attribute2 = attributes.get(object.instanceColor); // TODO Attribute may not be available on context restore\n\n\n                        if (_attribute2 === undefined) continue;\n                        var _buffer2 = _attribute2.buffer;\n                        var _type2 = _attribute2.type;\n                        enableAttributeAndDivisor(programAttribute, 1);\n                        gl.bindBuffer(34962, _buffer2);\n                        gl.vertexAttribPointer(programAttribute, 3, _type2, false, 12, 0);\n                    } else if (materialDefaultAttributeValues !== undefined) {\n                        var value = materialDefaultAttributeValues[name];\n\n                        if (value !== undefined) {\n                            switch (value.length) {\n                                case 2:\n                                    gl.vertexAttrib2fv(programAttribute, value);\n                                    break;\n\n                                case 3:\n                                    gl.vertexAttrib3fv(programAttribute, value);\n                                    break;\n\n                                case 4:\n                                    gl.vertexAttrib4fv(programAttribute, value);\n                                    break;\n\n                                default:\n                                    gl.vertexAttrib1fv(programAttribute, value);\n                            }\n                        }\n                    }\n                }\n            }\n\n            disableUnusedAttributes();\n        }\n\n        function dispose() {\n            reset();\n\n            for (var geometryId in bindingStates) {\n                var programMap = bindingStates[geometryId];\n\n                for (var programId in programMap) {\n                    var stateMap = programMap[programId];\n\n                    for (var wireframe in stateMap) {\n                        deleteVertexArrayObject(stateMap[wireframe].object);\n                        delete stateMap[wireframe];\n                    }\n\n                    delete programMap[programId];\n                }\n\n                delete bindingStates[geometryId];\n            }\n        }\n\n        function releaseStatesOfGeometry(geometry) {\n            if (bindingStates[geometry.id] === undefined) return;\n            var programMap = bindingStates[geometry.id];\n\n            for (var programId in programMap) {\n                var stateMap = programMap[programId];\n\n                for (var wireframe in stateMap) {\n                    deleteVertexArrayObject(stateMap[wireframe].object);\n                    delete stateMap[wireframe];\n                }\n\n                delete programMap[programId];\n            }\n\n            delete bindingStates[geometry.id];\n        }\n\n        function releaseStatesOfProgram(program) {\n            for (var geometryId in bindingStates) {\n                var programMap = bindingStates[geometryId];\n                if (programMap[program.id] === undefined) continue;\n                var stateMap = programMap[program.id];\n\n                for (var wireframe in stateMap) {\n                    deleteVertexArrayObject(stateMap[wireframe].object);\n                    delete stateMap[wireframe];\n                }\n\n                delete programMap[program.id];\n            }\n        }\n\n        function reset() {\n            resetDefaultState();\n            if (currentState === defaultState) return;\n            currentState = defaultState;\n            bindVertexArrayObject(currentState.object);\n        } // for backward-compatilibity\n\n\n        function resetDefaultState() {\n            defaultState.geometry = null;\n            defaultState.program = null;\n            defaultState.wireframe = false;\n        }\n\n        return {\n            setup: setup,\n            reset: reset,\n            resetDefaultState: resetDefaultState,\n            dispose: dispose,\n            releaseStatesOfGeometry: releaseStatesOfGeometry,\n            releaseStatesOfProgram: releaseStatesOfProgram,\n            initAttributes: initAttributes,\n            enableAttribute: enableAttribute,\n            disableUnusedAttributes: disableUnusedAttributes\n        };\n    }\n\n    function WebGLBufferRenderer(gl, extensions, info, capabilities) {\n        var isWebGL2 = capabilities.isWebGL2;\n        var mode;\n\n        function setMode(value) {\n            mode = value;\n        }\n\n        function render(start, count) {\n            gl.drawArrays(mode, start, count);\n            info.update(count, mode, 1);\n        }\n\n        function renderInstances(start, count, primcount) {\n            if (primcount === 0) return;\n            var extension, methodName;\n\n            if (isWebGL2) {\n                extension = gl;\n                methodName = 'drawArraysInstanced';\n            } else {\n                extension = extensions.get('ANGLE_instanced_arrays');\n                methodName = 'drawArraysInstancedANGLE';\n\n                if (extension === null) {\n                    console.error('THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n                    return;\n                }\n            }\n\n            extension[methodName](mode, start, count, primcount);\n            info.update(count, mode, primcount);\n        } //\n\n\n        this.setMode = setMode;\n        this.render = render;\n        this.renderInstances = renderInstances;\n    }\n\n    function WebGLCapabilities(gl, extensions, parameters) {\n        var maxAnisotropy;\n\n        function getMaxAnisotropy() {\n            if (maxAnisotropy !== undefined) return maxAnisotropy;\n\n            if (extensions.has('EXT_texture_filter_anisotropic') === true) {\n                var extension = extensions.get('EXT_texture_filter_anisotropic');\n                maxAnisotropy = gl.getParameter(extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT);\n            } else {\n                maxAnisotropy = 0;\n            }\n\n            return maxAnisotropy;\n        }\n\n        function getMaxPrecision(precision) {\n            if (precision === 'highp') {\n                if (gl.getShaderPrecisionFormat(35633, 36338).precision > 0 && gl.getShaderPrecisionFormat(35632, 36338).precision > 0) {\n                    return 'highp';\n                }\n\n                precision = 'mediump';\n            }\n\n            if (precision === 'mediump') {\n                if (gl.getShaderPrecisionFormat(35633, 36337).precision > 0 && gl.getShaderPrecisionFormat(35632, 36337).precision > 0) {\n                    return 'mediump';\n                }\n            }\n\n            return 'lowp';\n        }\n        /* eslint-disable no-undef */\n\n\n        var isWebGL2 = typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext || typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext;\n        /* eslint-enable no-undef */\n\n        var precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n        var maxPrecision = getMaxPrecision(precision);\n\n        if (maxPrecision !== precision) {\n            console.warn('THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.');\n            precision = maxPrecision;\n        }\n\n        var logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n        var maxTextures = gl.getParameter(34930);\n        var maxVertexTextures = gl.getParameter(35660);\n        var maxTextureSize = gl.getParameter(3379);\n        var maxCubemapSize = gl.getParameter(34076);\n        var maxAttributes = gl.getParameter(34921);\n        var maxVertexUniforms = gl.getParameter(36347);\n        var maxVaryings = gl.getParameter(36348);\n        var maxFragmentUniforms = gl.getParameter(36349);\n        var vertexTextures = maxVertexTextures > 0;\n        var floatFragmentTextures = isWebGL2 || extensions.has('OES_texture_float');\n        var floatVertexTextures = vertexTextures && floatFragmentTextures;\n        var maxSamples = isWebGL2 ? gl.getParameter(36183) : 0;\n        return {\n            isWebGL2: isWebGL2,\n            getMaxAnisotropy: getMaxAnisotropy,\n            getMaxPrecision: getMaxPrecision,\n            precision: precision,\n            logarithmicDepthBuffer: logarithmicDepthBuffer,\n            maxTextures: maxTextures,\n            maxVertexTextures: maxVertexTextures,\n            maxTextureSize: maxTextureSize,\n            maxCubemapSize: maxCubemapSize,\n            maxAttributes: maxAttributes,\n            maxVertexUniforms: maxVertexUniforms,\n            maxVaryings: maxVaryings,\n            maxFragmentUniforms: maxFragmentUniforms,\n            vertexTextures: vertexTextures,\n            floatFragmentTextures: floatFragmentTextures,\n            floatVertexTextures: floatVertexTextures,\n            maxSamples: maxSamples\n        };\n    }\n\n    function WebGLClipping(properties) {\n        var scope = this;\n        var globalState = null,\n            numGlobalPlanes = 0,\n            localClippingEnabled = false,\n            renderingShadows = false;\n        var plane = new Plane(),\n            viewNormalMatrix = new Matrix3(),\n            uniform = {\n                value: null,\n                needsUpdate: false\n            };\n        this.uniform = uniform;\n        this.numPlanes = 0;\n        this.numIntersection = 0;\n\n        this.init = function(planes, enableLocalClipping, camera) {\n            var enabled = planes.length !== 0 || enableLocalClipping || // enable state of previous frame - the clipping code has to\n                // run another frame in order to reset the state:\n                numGlobalPlanes !== 0 || localClippingEnabled;\n            localClippingEnabled = enableLocalClipping;\n            globalState = projectPlanes(planes, camera, 0);\n            numGlobalPlanes = planes.length;\n            return enabled;\n        };\n\n        this.beginShadows = function() {\n            renderingShadows = true;\n            projectPlanes(null);\n        };\n\n        this.endShadows = function() {\n            renderingShadows = false;\n            resetGlobalState();\n        };\n\n        this.setState = function(material, camera, useCache) {\n            var planes = material.clippingPlanes,\n                clipIntersection = material.clipIntersection,\n                clipShadows = material.clipShadows;\n            var materialProperties = properties.get(material);\n\n            if (!localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && !clipShadows) {\n                // there's no local clipping\n                if (renderingShadows) {\n                    // there's no global clipping\n                    projectPlanes(null);\n                } else {\n                    resetGlobalState();\n                }\n            } else {\n                var nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n                    lGlobal = nGlobal * 4;\n                var dstArray = materialProperties.clippingState || null;\n                uniform.value = dstArray; // ensure unique state\n\n                dstArray = projectPlanes(planes, camera, lGlobal, useCache);\n\n                for (var i = 0; i !== lGlobal; ++i) {\n                    dstArray[i] = globalState[i];\n                }\n\n                materialProperties.clippingState = dstArray;\n                this.numIntersection = clipIntersection ? this.numPlanes : 0;\n                this.numPlanes += nGlobal;\n            }\n        };\n\n        function resetGlobalState() {\n            if (uniform.value !== globalState) {\n                uniform.value = globalState;\n                uniform.needsUpdate = numGlobalPlanes > 0;\n            }\n\n            scope.numPlanes = numGlobalPlanes;\n            scope.numIntersection = 0;\n        }\n\n        function projectPlanes(planes, camera, dstOffset, skipTransform) {\n            var nPlanes = planes !== null ? planes.length : 0;\n            var dstArray = null;\n\n            if (nPlanes !== 0) {\n                dstArray = uniform.value;\n\n                if (skipTransform !== true || dstArray === null) {\n                    var flatSize = dstOffset + nPlanes * 4,\n                        viewMatrix = camera.matrixWorldInverse;\n                    viewNormalMatrix.getNormalMatrix(viewMatrix);\n\n                    if (dstArray === null || dstArray.length < flatSize) {\n                        dstArray = new Float32Array(flatSize);\n                    }\n\n                    for (var i = 0, i4 = dstOffset; i !== nPlanes; ++i, i4 += 4) {\n                        plane.copy(planes[i]).applyMatrix4(viewMatrix, viewNormalMatrix);\n                        plane.normal.toArray(dstArray, i4);\n                        dstArray[i4 + 3] = plane.constant;\n                    }\n                }\n\n                uniform.value = dstArray;\n                uniform.needsUpdate = true;\n            }\n\n            scope.numPlanes = nPlanes;\n            scope.numIntersection = 0;\n            return dstArray;\n        }\n    }\n\n    function WebGLCubeMaps(renderer) {\n        var cubemaps = new WeakMap();\n\n        function mapTextureMapping(texture, mapping) {\n            if (mapping === EquirectangularReflectionMapping) {\n                texture.mapping = CubeReflectionMapping;\n            } else if (mapping === EquirectangularRefractionMapping) {\n                texture.mapping = CubeRefractionMapping;\n            }\n\n            return texture;\n        }\n\n        function get(texture) {\n            if (texture && texture.isTexture) {\n                var mapping = texture.mapping;\n\n                if (mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping) {\n                    if (cubemaps.has(texture)) {\n                        var cubemap = cubemaps.get(texture).texture;\n                        return mapTextureMapping(cubemap, texture.mapping);\n                    } else {\n                        var image = texture.image;\n\n                        if (image && image.height > 0) {\n                            var currentRenderTarget = renderer.getRenderTarget();\n                            var renderTarget = new WebGLCubeRenderTarget(image.height / 2);\n                            renderTarget.fromEquirectangularTexture(renderer, texture);\n                            cubemaps.set(texture, renderTarget);\n                            renderer.setRenderTarget(currentRenderTarget);\n                            texture.addEventListener('dispose', onTextureDispose);\n                            return mapTextureMapping(renderTarget.texture, texture.mapping);\n                        } else {\n                            // image not yet ready. try the conversion next frame\n                            return null;\n                        }\n                    }\n                }\n            }\n\n            return texture;\n        }\n\n        function onTextureDispose(event) {\n            var texture = event.target;\n            texture.removeEventListener('dispose', onTextureDispose);\n            var cubemap = cubemaps.get(texture);\n\n            if (cubemap !== undefined) {\n                cubemaps.delete(texture);\n                cubemap.dispose();\n            }\n        }\n\n        function dispose() {\n            cubemaps = new WeakMap();\n        }\n\n        return {\n            get: get,\n            dispose: dispose\n        };\n    }\n\n    function WebGLExtensions(gl) {\n        var extensions = {};\n\n        function getExtension(name) {\n            if (extensions[name] !== undefined) {\n                return extensions[name];\n            }\n\n            var extension;\n\n            switch (name) {\n                case 'WEBGL_depth_texture':\n                    extension = gl.getExtension('WEBGL_depth_texture') || gl.getExtension('MOZ_WEBGL_depth_texture') || gl.getExtension('WEBKIT_WEBGL_depth_texture');\n                    break;\n\n                case 'EXT_texture_filter_anisotropic':\n                    extension = gl.getExtension('EXT_texture_filter_anisotropic') || gl.getExtension('MOZ_EXT_texture_filter_anisotropic') || gl.getExtension('WEBKIT_EXT_texture_filter_anisotropic');\n                    break;\n\n                case 'WEBGL_compressed_texture_s3tc':\n                    extension = gl.getExtension('WEBGL_compressed_texture_s3tc') || gl.getExtension('MOZ_WEBGL_compressed_texture_s3tc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_s3tc');\n                    break;\n\n                case 'WEBGL_compressed_texture_pvrtc':\n                    extension = gl.getExtension('WEBGL_compressed_texture_pvrtc') || gl.getExtension('WEBKIT_WEBGL_compressed_texture_pvrtc');\n                    break;\n\n                default:\n                    extension = gl.getExtension(name);\n            }\n\n            extensions[name] = extension;\n            return extension;\n        }\n\n        return {\n            has: function has(name) {\n                return getExtension(name) !== null;\n            },\n            init: function init(capabilities) {\n                if (capabilities.isWebGL2) {\n                    getExtension('EXT_color_buffer_float');\n                } else {\n                    getExtension('WEBGL_depth_texture');\n                    getExtension('OES_texture_float');\n                    getExtension('OES_texture_half_float');\n                    getExtension('OES_texture_half_float_linear');\n                    getExtension('OES_standard_derivatives');\n                    getExtension('OES_element_index_uint');\n                    getExtension('OES_vertex_array_object');\n                    getExtension('ANGLE_instanced_arrays');\n                }\n\n                getExtension('OES_texture_float_linear');\n                getExtension('EXT_color_buffer_half_float');\n            },\n            get: function get(name) {\n                var extension = getExtension(name);\n\n                if (extension === null) {\n                    console.warn('THREE.WebGLRenderer: ' + name + ' extension not supported.');\n                }\n\n                return extension;\n            }\n        };\n    }\n\n    function WebGLGeometries(gl, attributes, info, bindingStates) {\n        var geometries = {};\n        var wireframeAttributes = new WeakMap();\n\n        function onGeometryDispose(event) {\n            var geometry = event.target;\n\n            if (geometry.index !== null) {\n                attributes.remove(geometry.index);\n            }\n\n            for (var name in geometry.attributes) {\n                attributes.remove(geometry.attributes[name]);\n            }\n\n            geometry.removeEventListener('dispose', onGeometryDispose);\n            delete geometries[geometry.id];\n            var attribute = wireframeAttributes.get(geometry);\n\n            if (attribute) {\n                attributes.remove(attribute);\n                wireframeAttributes.delete(geometry);\n            }\n\n            bindingStates.releaseStatesOfGeometry(geometry);\n\n            if (geometry.isInstancedBufferGeometry === true) {\n                delete geometry._maxInstanceCount;\n            } //\n\n\n            info.memory.geometries--;\n        }\n\n        function get(object, geometry) {\n            if (geometries[geometry.id] === true) return geometry;\n            geometry.addEventListener('dispose', onGeometryDispose);\n            geometries[geometry.id] = true;\n            info.memory.geometries++;\n            return geometry;\n        }\n\n        function update(geometry) {\n            var geometryAttributes = geometry.attributes; // Updating index buffer in VAO now. See WebGLBindingStates.\n\n            for (var name in geometryAttributes) {\n                attributes.update(geometryAttributes[name], 34962);\n            } // morph targets\n\n\n            var morphAttributes = geometry.morphAttributes;\n\n            for (var _name in morphAttributes) {\n                var array = morphAttributes[_name];\n\n                for (var i = 0, l = array.length; i < l; i++) {\n                    attributes.update(array[i], 34962);\n                }\n            }\n        }\n\n        function updateWireframeAttribute(geometry) {\n            var indices = [];\n            var geometryIndex = geometry.index;\n            var geometryPosition = geometry.attributes.position;\n            var version = 0;\n\n            if (geometryIndex !== null) {\n                var array = geometryIndex.array;\n                version = geometryIndex.version;\n\n                for (var i = 0, l = array.length; i < l; i += 3) {\n                    var a = array[i + 0];\n                    var b = array[i + 1];\n                    var c = array[i + 2];\n                    indices.push(a, b, b, c, c, a);\n                }\n            } else {\n                var _array = geometryPosition.array;\n                version = geometryPosition.version;\n\n                for (var _i = 0, _l = _array.length / 3 - 1; _i < _l; _i += 3) {\n                    var _a = _i + 0;\n\n                    var _b = _i + 1;\n\n                    var _c = _i + 2;\n\n                    indices.push(_a, _b, _b, _c, _c, _a);\n                }\n            }\n\n            var attribute = new(arrayMax(indices) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute)(indices, 1);\n            attribute.version = version; // Updating index buffer in VAO now. See WebGLBindingStates\n            //\n\n            var previousAttribute = wireframeAttributes.get(geometry);\n            if (previousAttribute) attributes.remove(previousAttribute); //\n\n            wireframeAttributes.set(geometry, attribute);\n        }\n\n        function getWireframeAttribute(geometry) {\n            var currentAttribute = wireframeAttributes.get(geometry);\n\n            if (currentAttribute) {\n                var geometryIndex = geometry.index;\n\n                if (geometryIndex !== null) {\n                    // if the attribute is obsolete, create a new one\n                    if (currentAttribute.version < geometryIndex.version) {\n                        updateWireframeAttribute(geometry);\n                    }\n                }\n            } else {\n                updateWireframeAttribute(geometry);\n            }\n\n            return wireframeAttributes.get(geometry);\n        }\n\n        return {\n            get: get,\n            update: update,\n            getWireframeAttribute: getWireframeAttribute\n        };\n    }\n\n    function WebGLIndexedBufferRenderer(gl, extensions, info, capabilities) {\n        var isWebGL2 = capabilities.isWebGL2;\n        var mode;\n\n        function setMode(value) {\n            mode = value;\n        }\n\n        var type, bytesPerElement;\n\n        function setIndex(value) {\n            type = value.type;\n            bytesPerElement = value.bytesPerElement;\n        }\n\n        function render(start, count) {\n            gl.drawElements(mode, count, type, start * bytesPerElement);\n            info.update(count, mode, 1);\n        }\n\n        function renderInstances(start, count, primcount) {\n            if (primcount === 0) return;\n            var extension, methodName;\n\n            if (isWebGL2) {\n                extension = gl;\n                methodName = 'drawElementsInstanced';\n            } else {\n                extension = extensions.get('ANGLE_instanced_arrays');\n                methodName = 'drawElementsInstancedANGLE';\n\n                if (extension === null) {\n                    console.error('THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.');\n                    return;\n                }\n            }\n\n            extension[methodName](mode, count, type, start * bytesPerElement, primcount);\n            info.update(count, mode, primcount);\n        } //\n\n\n        this.setMode = setMode;\n        this.setIndex = setIndex;\n        this.render = render;\n        this.renderInstances = renderInstances;\n    }\n\n    function WebGLInfo(gl) {\n        var memory = {\n            geometries: 0,\n            textures: 0\n        };\n        var render = {\n            frame: 0,\n            calls: 0,\n            triangles: 0,\n            points: 0,\n            lines: 0\n        };\n\n        function update(count, mode, instanceCount) {\n            render.calls++;\n\n            switch (mode) {\n                case 4:\n                    render.triangles += instanceCount * (count / 3);\n                    break;\n\n                case 1:\n                    render.lines += instanceCount * (count / 2);\n                    break;\n\n                case 3:\n                    render.lines += instanceCount * (count - 1);\n                    break;\n\n                case 2:\n                    render.lines += instanceCount * count;\n                    break;\n\n                case 0:\n                    render.points += instanceCount * count;\n                    break;\n\n                default:\n                    console.error('THREE.WebGLInfo: Unknown draw mode:', mode);\n                    break;\n            }\n        }\n\n        function reset() {\n            render.frame++;\n            render.calls = 0;\n            render.triangles = 0;\n            render.points = 0;\n            render.lines = 0;\n        }\n\n        return {\n            memory: memory,\n            render: render,\n            programs: null,\n            autoReset: true,\n            reset: reset,\n            update: update\n        };\n    }\n\n    function numericalSort(a, b) {\n        return a[0] - b[0];\n    }\n\n    function absNumericalSort(a, b) {\n        return Math.abs(b[1]) - Math.abs(a[1]);\n    }\n\n    function WebGLMorphtargets(gl) {\n        var influencesList = {};\n        var morphInfluences = new Float32Array(8);\n        var workInfluences = [];\n\n        for (var i = 0; i < 8; i++) {\n            workInfluences[i] = [i, 0];\n        }\n\n        function update(object, geometry, material, program) {\n            var objectInfluences = object.morphTargetInfluences; // When object doesn't have morph target influences defined, we treat it as a 0-length array\n            // This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n            var length = objectInfluences === undefined ? 0 : objectInfluences.length;\n            var influences = influencesList[geometry.id];\n\n            if (influences === undefined) {\n                // initialise list\n                influences = [];\n\n                for (var _i = 0; _i < length; _i++) {\n                    influences[_i] = [_i, 0];\n                }\n\n                influencesList[geometry.id] = influences;\n            } // Collect influences\n\n\n            for (var _i2 = 0; _i2 < length; _i2++) {\n                var influence = influences[_i2];\n                influence[0] = _i2;\n                influence[1] = objectInfluences[_i2];\n            }\n\n            influences.sort(absNumericalSort);\n\n            for (var _i3 = 0; _i3 < 8; _i3++) {\n                if (_i3 < length && influences[_i3][1]) {\n                    workInfluences[_i3][0] = influences[_i3][0];\n                    workInfluences[_i3][1] = influences[_i3][1];\n                } else {\n                    workInfluences[_i3][0] = Number.MAX_SAFE_INTEGER;\n                    workInfluences[_i3][1] = 0;\n                }\n            }\n\n            workInfluences.sort(numericalSort);\n            var morphTargets = material.morphTargets && geometry.morphAttributes.position;\n            var morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n            var morphInfluencesSum = 0;\n\n            for (var _i4 = 0; _i4 < 8; _i4++) {\n                var _influence = workInfluences[_i4];\n                var index = _influence[0];\n                var value = _influence[1];\n\n                if (index !== Number.MAX_SAFE_INTEGER && value) {\n                    if (morphTargets && geometry.getAttribute('morphTarget' + _i4) !== morphTargets[index]) {\n                        geometry.setAttribute('morphTarget' + _i4, morphTargets[index]);\n                    }\n\n                    if (morphNormals && geometry.getAttribute('morphNormal' + _i4) !== morphNormals[index]) {\n                        geometry.setAttribute('morphNormal' + _i4, morphNormals[index]);\n                    }\n\n                    morphInfluences[_i4] = value;\n                    morphInfluencesSum += value;\n                } else {\n                    if (morphTargets && geometry.hasAttribute('morphTarget' + _i4) === true) {\n                        geometry.deleteAttribute('morphTarget' + _i4);\n                    }\n\n                    if (morphNormals && geometry.hasAttribute('morphNormal' + _i4) === true) {\n                        geometry.deleteAttribute('morphNormal' + _i4);\n                    }\n\n                    morphInfluences[_i4] = 0;\n                }\n            } // GLSL shader uses formula baseinfluence * base + sum(target * influence)\n            // This allows us to switch between absolute morphs and relative morphs without changing shader code\n            // When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\n\n            var morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n            program.getUniforms().setValue(gl, 'morphTargetBaseInfluence', morphBaseInfluence);\n            program.getUniforms().setValue(gl, 'morphTargetInfluences', morphInfluences);\n        }\n\n        return {\n            update: update\n        };\n    }\n\n    function WebGLObjects(gl, geometries, attributes, info) {\n        var updateMap = new WeakMap();\n\n        function update(object) {\n            var frame = info.render.frame;\n            var geometry = object.geometry;\n            var buffergeometry = geometries.get(object, geometry); // Update once per frame\n\n            if (updateMap.get(buffergeometry) !== frame) {\n                geometries.update(buffergeometry);\n                updateMap.set(buffergeometry, frame);\n            }\n\n            if (object.isInstancedMesh) {\n                if (object.hasEventListener('dispose', onInstancedMeshDispose) === false) {\n                    object.addEventListener('dispose', onInstancedMeshDispose);\n                }\n\n                attributes.update(object.instanceMatrix, 34962);\n\n                if (object.instanceColor !== null) {\n                    attributes.update(object.instanceColor, 34962);\n                }\n            }\n\n            return buffergeometry;\n        }\n\n        function dispose() {\n            updateMap = new WeakMap();\n        }\n\n        function onInstancedMeshDispose(event) {\n            var instancedMesh = event.target;\n            instancedMesh.removeEventListener('dispose', onInstancedMeshDispose);\n            attributes.remove(instancedMesh.instanceMatrix);\n            if (instancedMesh.instanceColor !== null) attributes.remove(instancedMesh.instanceColor);\n        }\n\n        return {\n            update: update,\n            dispose: dispose\n        };\n    }\n\n    var DataTexture2DArray = /*#__PURE__*/ function(_Texture) {\n        _inheritsLoose(DataTexture2DArray, _Texture);\n\n        function DataTexture2DArray(data, width, height, depth) {\n            var _this;\n\n            if (data === void 0) {\n                data = null;\n            }\n\n            if (width === void 0) {\n                width = 1;\n            }\n\n            if (height === void 0) {\n                height = 1;\n            }\n\n            if (depth === void 0) {\n                depth = 1;\n            }\n\n            _this = _Texture.call(this, null) || this;\n            _this.image = {\n                data: data,\n                width: width,\n                height: height,\n                depth: depth\n            };\n            _this.magFilter = NearestFilter;\n            _this.minFilter = NearestFilter;\n            _this.wrapR = ClampToEdgeWrapping;\n            _this.generateMipmaps = false;\n            _this.flipY = false;\n            _this.needsUpdate = true;\n            return _this;\n        }\n\n        return DataTexture2DArray;\n    }(Texture);\n\n    DataTexture2DArray.prototype.isDataTexture2DArray = true;\n\n    var DataTexture3D = /*#__PURE__*/ function(_Texture) {\n        _inheritsLoose(DataTexture3D, _Texture);\n\n        function DataTexture3D(data, width, height, depth) {\n            var _this;\n\n            if (data === void 0) {\n                data = null;\n            }\n\n            if (width === void 0) {\n                width = 1;\n            }\n\n            if (height === void 0) {\n                height = 1;\n            }\n\n            if (depth === void 0) {\n                depth = 1;\n            }\n\n            // We're going to add .setXXX() methods for setting properties later.\n            // Users can still set in DataTexture3D directly.\n            //\n            //\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n            // \ttexture.anisotropy = 16;\n            //\n            // See #14839\n            _this = _Texture.call(this, null) || this;\n            _this.image = {\n                data: data,\n                width: width,\n                height: height,\n                depth: depth\n            };\n            _this.magFilter = NearestFilter;\n            _this.minFilter = NearestFilter;\n            _this.wrapR = ClampToEdgeWrapping;\n            _this.generateMipmaps = false;\n            _this.flipY = false;\n            _this.needsUpdate = true;\n            return _this;\n        }\n\n        return DataTexture3D;\n    }(Texture);\n\n    DataTexture3D.prototype.isDataTexture3D = true;\n\n    /**\n     * Uniforms of a program.\n     * Those form a tree structure with a special top-level container for the root,\n     * which you get by calling 'new WebGLUniforms( gl, program )'.\n     *\n     *\n     * Properties of inner nodes including the top-level container:\n     *\n     * .seq - array of nested uniforms\n     * .map - nested uniforms by name\n     *\n     *\n     * Methods of all nodes except the top-level container:\n     *\n     * .setValue( gl, value, [textures] )\n     *\n     * \t\tuploads a uniform value(s)\n     *\t\tthe 'textures' parameter is needed for sampler uniforms\n     *\n     *\n     * Static methods of the top-level container (textures factorizations):\n     *\n     * .upload( gl, seq, values, textures )\n     *\n     * \t\tsets uniforms in 'seq' to 'values[id].value'\n     *\n     * .seqWithValue( seq, values ) : filteredSeq\n     *\n     * \t\tfilters 'seq' entries with corresponding entry in values\n     *\n     *\n     * Methods of the top-level container (textures factorizations):\n     *\n     * .setValue( gl, name, value, textures )\n     *\n     * \t\tsets uniform with\tname 'name' to 'value'\n     *\n     * .setOptional( gl, obj, prop )\n     *\n     * \t\tlike .set for an optional property of the object\n     *\n     */\n    var emptyTexture = new Texture();\n    var emptyTexture2dArray = new DataTexture2DArray();\n    var emptyTexture3d = new DataTexture3D();\n    var emptyCubeTexture = new CubeTexture(); // --- Utilities ---\n    // Array Caches (provide typed arrays for temporary by size)\n\n    var arrayCacheF32 = [];\n    var arrayCacheI32 = []; // Float32Array caches used for uploading Matrix uniforms\n\n    var mat4array = new Float32Array(16);\n    var mat3array = new Float32Array(9);\n    var mat2array = new Float32Array(4); // Flattening for arrays of vectors and matrices\n\n    function flatten(array, nBlocks, blockSize) {\n        var firstElem = array[0];\n        if (firstElem <= 0 || firstElem > 0) return array; // unoptimized: ! isNaN( firstElem )\n        // see http://jacksondunstan.com/articles/983\n\n        var n = nBlocks * blockSize;\n        var r = arrayCacheF32[n];\n\n        if (r === undefined) {\n            r = new Float32Array(n);\n            arrayCacheF32[n] = r;\n        }\n\n        if (nBlocks !== 0) {\n            firstElem.toArray(r, 0);\n\n            for (var i = 1, offset = 0; i !== nBlocks; ++i) {\n                offset += blockSize;\n                array[i].toArray(r, offset);\n            }\n        }\n\n        return r;\n    }\n\n    function arraysEqual(a, b) {\n        if (a.length !== b.length) return false;\n\n        for (var i = 0, l = a.length; i < l; i++) {\n            if (a[i] !== b[i]) return false;\n        }\n\n        return true;\n    }\n\n    function copyArray(a, b) {\n        for (var i = 0, l = b.length; i < l; i++) {\n            a[i] = b[i];\n        }\n    } // Texture unit allocation\n\n\n    function allocTexUnits(textures, n) {\n        var r = arrayCacheI32[n];\n\n        if (r === undefined) {\n            r = new Int32Array(n);\n            arrayCacheI32[n] = r;\n        }\n\n        for (var i = 0; i !== n; ++i) {\n            r[i] = textures.allocateTextureUnit();\n        }\n\n        return r;\n    } // --- Setters ---\n    // Note: Defining these methods externally, because they come in a bunch\n    // and this way their names minify.\n    // Single scalar\n\n\n    function setValueV1f(gl, v) {\n        var cache = this.cache;\n        if (cache[0] === v) return;\n        gl.uniform1f(this.addr, v);\n        cache[0] = v;\n    } // Single float vector (from flat array or THREE.VectorN)\n\n\n    function setValueV2f(gl, v) {\n        var cache = this.cache;\n\n        if (v.x !== undefined) {\n            if (cache[0] !== v.x || cache[1] !== v.y) {\n                gl.uniform2f(this.addr, v.x, v.y);\n                cache[0] = v.x;\n                cache[1] = v.y;\n            }\n        } else {\n            if (arraysEqual(cache, v)) return;\n            gl.uniform2fv(this.addr, v);\n            copyArray(cache, v);\n        }\n    }\n\n    function setValueV3f(gl, v) {\n        var cache = this.cache;\n\n        if (v.x !== undefined) {\n            if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z) {\n                gl.uniform3f(this.addr, v.x, v.y, v.z);\n                cache[0] = v.x;\n                cache[1] = v.y;\n                cache[2] = v.z;\n            }\n        } else if (v.r !== undefined) {\n            if (cache[0] !== v.r || cache[1] !== v.g || cache[2] !== v.b) {\n                gl.uniform3f(this.addr, v.r, v.g, v.b);\n                cache[0] = v.r;\n                cache[1] = v.g;\n                cache[2] = v.b;\n            }\n        } else {\n            if (arraysEqual(cache, v)) return;\n            gl.uniform3fv(this.addr, v);\n            copyArray(cache, v);\n        }\n    }\n\n    function setValueV4f(gl, v) {\n        var cache = this.cache;\n\n        if (v.x !== undefined) {\n            if (cache[0] !== v.x || cache[1] !== v.y || cache[2] !== v.z || cache[3] !== v.w) {\n                gl.uniform4f(this.addr, v.x, v.y, v.z, v.w);\n                cache[0] = v.x;\n                cache[1] = v.y;\n                cache[2] = v.z;\n                cache[3] = v.w;\n            }\n        } else {\n            if (arraysEqual(cache, v)) return;\n            gl.uniform4fv(this.addr, v);\n            copyArray(cache, v);\n        }\n    } // Single matrix (from flat array or MatrixN)\n\n\n    function setValueM2(gl, v) {\n        var cache = this.cache;\n        var elements = v.elements;\n\n        if (elements === undefined) {\n            if (arraysEqual(cache, v)) return;\n            gl.uniformMatrix2fv(this.addr, false, v);\n            copyArray(cache, v);\n        } else {\n            if (arraysEqual(cache, elements)) return;\n            mat2array.set(elements);\n            gl.uniformMatrix2fv(this.addr, false, mat2array);\n            copyArray(cache, elements);\n        }\n    }\n\n    function setValueM3(gl, v) {\n        var cache = this.cache;\n        var elements = v.elements;\n\n        if (elements === undefined) {\n            if (arraysEqual(cache, v)) return;\n            gl.uniformMatrix3fv(this.addr, false, v);\n            copyArray(cache, v);\n        } else {\n            if (arraysEqual(cache, elements)) return;\n            mat3array.set(elements);\n            gl.uniformMatrix3fv(this.addr, false, mat3array);\n            copyArray(cache, elements);\n        }\n    }\n\n    function setValueM4(gl, v) {\n        var cache = this.cache;\n        var elements = v.elements;\n\n        if (elements === undefined) {\n            if (arraysEqual(cache, v)) return;\n            gl.uniformMatrix4fv(this.addr, false, v);\n            copyArray(cache, v);\n        } else {\n            if (arraysEqual(cache, elements)) return;\n            mat4array.set(elements);\n            gl.uniformMatrix4fv(this.addr, false, mat4array);\n            copyArray(cache, elements);\n        }\n    } // Single texture (2D / Cube)\n\n\n    function setValueT1(gl, v, textures) {\n        var cache = this.cache;\n        var unit = textures.allocateTextureUnit();\n\n        if (cache[0] !== unit) {\n            gl.uniform1i(this.addr, unit);\n            cache[0] = unit;\n        }\n\n        textures.safeSetTexture2D(v || emptyTexture, unit);\n    }\n\n    function setValueT2DArray1(gl, v, textures) {\n        var cache = this.cache;\n        var unit = textures.allocateTextureUnit();\n\n        if (cache[0] !== unit) {\n            gl.uniform1i(this.addr, unit);\n            cache[0] = unit;\n        }\n\n        textures.setTexture2DArray(v || emptyTexture2dArray, unit);\n    }\n\n    function setValueT3D1(gl, v, textures) {\n        var cache = this.cache;\n        var unit = textures.allocateTextureUnit();\n\n        if (cache[0] !== unit) {\n            gl.uniform1i(this.addr, unit);\n            cache[0] = unit;\n        }\n\n        textures.setTexture3D(v || emptyTexture3d, unit);\n    }\n\n    function setValueT6(gl, v, textures) {\n        var cache = this.cache;\n        var unit = textures.allocateTextureUnit();\n\n        if (cache[0] !== unit) {\n            gl.uniform1i(this.addr, unit);\n            cache[0] = unit;\n        }\n\n        textures.safeSetTextureCube(v || emptyCubeTexture, unit);\n    } // Integer / Boolean vectors or arrays thereof (always flat arrays)\n\n\n    function setValueV1i(gl, v) {\n        var cache = this.cache;\n        if (cache[0] === v) return;\n        gl.uniform1i(this.addr, v);\n        cache[0] = v;\n    }\n\n    function setValueV2i(gl, v) {\n        var cache = this.cache;\n        if (arraysEqual(cache, v)) return;\n        gl.uniform2iv(this.addr, v);\n        copyArray(cache, v);\n    }\n\n    function setValueV3i(gl, v) {\n        var cache = this.cache;\n        if (arraysEqual(cache, v)) return;\n        gl.uniform3iv(this.addr, v);\n        copyArray(cache, v);\n    }\n\n    function setValueV4i(gl, v) {\n        var cache = this.cache;\n        if (arraysEqual(cache, v)) return;\n        gl.uniform4iv(this.addr, v);\n        copyArray(cache, v);\n    } // uint\n\n\n    function setValueV1ui(gl, v) {\n        var cache = this.cache;\n        if (cache[0] === v) return;\n        gl.uniform1ui(this.addr, v);\n        cache[0] = v;\n    } // Helper to pick the right setter for the singular case\n\n\n    function getSingularSetter(type) {\n        switch (type) {\n            case 0x1406:\n                return setValueV1f;\n                // FLOAT\n\n            case 0x8b50:\n                return setValueV2f;\n                // _VEC2\n\n            case 0x8b51:\n                return setValueV3f;\n                // _VEC3\n\n            case 0x8b52:\n                return setValueV4f;\n                // _VEC4\n\n            case 0x8b5a:\n                return setValueM2;\n                // _MAT2\n\n            case 0x8b5b:\n                return setValueM3;\n                // _MAT3\n\n            case 0x8b5c:\n                return setValueM4;\n                // _MAT4\n\n            case 0x1404:\n            case 0x8b56:\n                return setValueV1i;\n                // INT, BOOL\n\n            case 0x8b53:\n            case 0x8b57:\n                return setValueV2i;\n                // _VEC2\n\n            case 0x8b54:\n            case 0x8b58:\n                return setValueV3i;\n                // _VEC3\n\n            case 0x8b55:\n            case 0x8b59:\n                return setValueV4i;\n                // _VEC4\n\n            case 0x1405:\n                return setValueV1ui;\n                // UINT\n\n            case 0x8b5e: // SAMPLER_2D\n\n            case 0x8d66: // SAMPLER_EXTERNAL_OES\n\n            case 0x8dca: // INT_SAMPLER_2D\n\n            case 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\n            case 0x8b62:\n                // SAMPLER_2D_SHADOW\n                return setValueT1;\n\n            case 0x8b5f: // SAMPLER_3D\n\n            case 0x8dcb: // INT_SAMPLER_3D\n\n            case 0x8dd3:\n                // UNSIGNED_INT_SAMPLER_3D\n                return setValueT3D1;\n\n            case 0x8b60: // SAMPLER_CUBE\n\n            case 0x8dcc: // INT_SAMPLER_CUBE\n\n            case 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\n            case 0x8dc5:\n                // SAMPLER_CUBE_SHADOW\n                return setValueT6;\n\n            case 0x8dc1: // SAMPLER_2D_ARRAY\n\n            case 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\n            case 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\n            case 0x8dc4:\n                // SAMPLER_2D_ARRAY_SHADOW\n                return setValueT2DArray1;\n        }\n    } // Array of scalars\n\n\n    function setValueV1fArray(gl, v) {\n        gl.uniform1fv(this.addr, v);\n    } // Integer / Boolean vectors or arrays thereof (always flat arrays)\n\n\n    function setValueV1iArray(gl, v) {\n        gl.uniform1iv(this.addr, v);\n    }\n\n    function setValueV2iArray(gl, v) {\n        gl.uniform2iv(this.addr, v);\n    }\n\n    function setValueV3iArray(gl, v) {\n        gl.uniform3iv(this.addr, v);\n    }\n\n    function setValueV4iArray(gl, v) {\n        gl.uniform4iv(this.addr, v);\n    } // Array of vectors (flat or from THREE classes)\n\n\n    function setValueV2fArray(gl, v) {\n        var data = flatten(v, this.size, 2);\n        gl.uniform2fv(this.addr, data);\n    }\n\n    function setValueV3fArray(gl, v) {\n        var data = flatten(v, this.size, 3);\n        gl.uniform3fv(this.addr, data);\n    }\n\n    function setValueV4fArray(gl, v) {\n        var data = flatten(v, this.size, 4);\n        gl.uniform4fv(this.addr, data);\n    } // Array of matrices (flat or from THREE clases)\n\n\n    function setValueM2Array(gl, v) {\n        var data = flatten(v, this.size, 4);\n        gl.uniformMatrix2fv(this.addr, false, data);\n    }\n\n    function setValueM3Array(gl, v) {\n        var data = flatten(v, this.size, 9);\n        gl.uniformMatrix3fv(this.addr, false, data);\n    }\n\n    function setValueM4Array(gl, v) {\n        var data = flatten(v, this.size, 16);\n        gl.uniformMatrix4fv(this.addr, false, data);\n    } // Array of textures (2D / Cube)\n\n\n    function setValueT1Array(gl, v, textures) {\n        var n = v.length;\n        var units = allocTexUnits(textures, n);\n        gl.uniform1iv(this.addr, units);\n\n        for (var i = 0; i !== n; ++i) {\n            textures.safeSetTexture2D(v[i] || emptyTexture, units[i]);\n        }\n    }\n\n    function setValueT6Array(gl, v, textures) {\n        var n = v.length;\n        var units = allocTexUnits(textures, n);\n        gl.uniform1iv(this.addr, units);\n\n        for (var i = 0; i !== n; ++i) {\n            textures.safeSetTextureCube(v[i] || emptyCubeTexture, units[i]);\n        }\n    } // Helper to pick the right setter for a pure (bottom-level) array\n\n\n    function getPureArraySetter(type) {\n        switch (type) {\n            case 0x1406:\n                return setValueV1fArray;\n                // FLOAT\n\n            case 0x8b50:\n                return setValueV2fArray;\n                // _VEC2\n\n            case 0x8b51:\n                return setValueV3fArray;\n                // _VEC3\n\n            case 0x8b52:\n                return setValueV4fArray;\n                // _VEC4\n\n            case 0x8b5a:\n                return setValueM2Array;\n                // _MAT2\n\n            case 0x8b5b:\n                return setValueM3Array;\n                // _MAT3\n\n            case 0x8b5c:\n                return setValueM4Array;\n                // _MAT4\n\n            case 0x1404:\n            case 0x8b56:\n                return setValueV1iArray;\n                // INT, BOOL\n\n            case 0x8b53:\n            case 0x8b57:\n                return setValueV2iArray;\n                // _VEC2\n\n            case 0x8b54:\n            case 0x8b58:\n                return setValueV3iArray;\n                // _VEC3\n\n            case 0x8b55:\n            case 0x8b59:\n                return setValueV4iArray;\n                // _VEC4\n\n            case 0x8b5e: // SAMPLER_2D\n\n            case 0x8d66: // SAMPLER_EXTERNAL_OES\n\n            case 0x8dca: // INT_SAMPLER_2D\n\n            case 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\n            case 0x8b62:\n                // SAMPLER_2D_SHADOW\n                return setValueT1Array;\n\n            case 0x8b60: // SAMPLER_CUBE\n\n            case 0x8dcc: // INT_SAMPLER_CUBE\n\n            case 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\n            case 0x8dc5:\n                // SAMPLER_CUBE_SHADOW\n                return setValueT6Array;\n        }\n    } // --- Uniform Classes ---\n\n\n    function SingleUniform(id, activeInfo, addr) {\n        this.id = id;\n        this.addr = addr;\n        this.cache = [];\n        this.setValue = getSingularSetter(activeInfo.type); // this.path = activeInfo.name; // DEBUG\n    }\n\n    function PureArrayUniform(id, activeInfo, addr) {\n        this.id = id;\n        this.addr = addr;\n        this.cache = [];\n        this.size = activeInfo.size;\n        this.setValue = getPureArraySetter(activeInfo.type); // this.path = activeInfo.name; // DEBUG\n    }\n\n    PureArrayUniform.prototype.updateCache = function(data) {\n        var cache = this.cache;\n\n        if (data instanceof Float32Array && cache.length !== data.length) {\n            this.cache = new Float32Array(data.length);\n        }\n\n        copyArray(cache, data);\n    };\n\n    function StructuredUniform(id) {\n        this.id = id;\n        this.seq = [];\n        this.map = {};\n    }\n\n    StructuredUniform.prototype.setValue = function(gl, value, textures) {\n        var seq = this.seq;\n\n        for (var i = 0, n = seq.length; i !== n; ++i) {\n            var u = seq[i];\n            u.setValue(gl, value[u.id], textures);\n        }\n    }; // --- Top-level ---\n    // Parser - builds up the property tree from the path strings\n\n\n    var RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g; // extracts\n    // \t- the identifier (member name or array index)\n    //\t- followed by an optional right bracket (found when array index)\n    //\t- followed by an optional left bracket or dot (type of subscript)\n    //\n    // Note: These portions can be read in a non-overlapping fashion and\n    // allow straightforward parsing of the hierarchy that WebGL encodes\n    // in the uniform names.\n\n    function addUniform(container, uniformObject) {\n        container.seq.push(uniformObject);\n        container.map[uniformObject.id] = uniformObject;\n    }\n\n    function parseUniform(activeInfo, addr, container) {\n        var path = activeInfo.name,\n            pathLength = path.length; // reset RegExp object, because of the early exit of a previous run\n\n        RePathPart.lastIndex = 0;\n\n        while (true) {\n            var match = RePathPart.exec(path),\n                matchEnd = RePathPart.lastIndex;\n            var id = match[1];\n            var idIsIndex = match[2] === ']',\n                subscript = match[3];\n            if (idIsIndex) id = id | 0; // convert to integer\n\n            if (subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength) {\n                // bare name or \"pure\" bottom-level array \"[0]\" suffix\n                addUniform(container, subscript === undefined ? new SingleUniform(id, activeInfo, addr) : new PureArrayUniform(id, activeInfo, addr));\n                break;\n            } else {\n                // step into inner node / create it in case it doesn't exist\n                var map = container.map;\n                var next = map[id];\n\n                if (next === undefined) {\n                    next = new StructuredUniform(id);\n                    addUniform(container, next);\n                }\n\n                container = next;\n            }\n        }\n    } // Root Container\n\n\n    function WebGLUniforms(gl, program) {\n        this.seq = [];\n        this.map = {};\n        var n = gl.getProgramParameter(program, 35718);\n\n        for (var i = 0; i < n; ++i) {\n            var info = gl.getActiveUniform(program, i),\n                addr = gl.getUniformLocation(program, info.name);\n            parseUniform(info, addr, this);\n        }\n    }\n\n    WebGLUniforms.prototype.setValue = function(gl, name, value, textures) {\n        var u = this.map[name];\n        if (u !== undefined) u.setValue(gl, value, textures);\n    };\n\n    WebGLUniforms.prototype.setOptional = function(gl, object, name) {\n        var v = object[name];\n        if (v !== undefined) this.setValue(gl, name, v);\n    }; // Static interface\n\n\n    WebGLUniforms.upload = function(gl, seq, values, textures) {\n        for (var i = 0, n = seq.length; i !== n; ++i) {\n            var u = seq[i],\n                v = values[u.id];\n\n            if (v.needsUpdate !== false) {\n                // note: always updating when .needsUpdate is undefined\n                u.setValue(gl, v.value, textures);\n            }\n        }\n    };\n\n    WebGLUniforms.seqWithValue = function(seq, values) {\n        var r = [];\n\n        for (var i = 0, n = seq.length; i !== n; ++i) {\n            var u = seq[i];\n            if (u.id in values) r.push(u);\n        }\n\n        return r;\n    };\n\n    function WebGLShader(gl, type, string) {\n        var shader = gl.createShader(type);\n        gl.shaderSource(shader, string);\n        gl.compileShader(shader);\n        return shader;\n    }\n\n    var programIdCount = 0;\n\n    function addLineNumbers(string) {\n        var lines = string.split('\\n');\n\n        for (var i = 0; i < lines.length; i++) {\n            lines[i] = i + 1 + ': ' + lines[i];\n        }\n\n        return lines.join('\\n');\n    }\n\n    function getEncodingComponents(encoding) {\n        switch (encoding) {\n            case LinearEncoding:\n                return ['Linear', '( value )'];\n\n            case sRGBEncoding:\n                return ['sRGB', '( value )'];\n\n            case RGBEEncoding:\n                return ['RGBE', '( value )'];\n\n            case RGBM7Encoding:\n                return ['RGBM', '( value, 7.0 )'];\n\n            case RGBM16Encoding:\n                return ['RGBM', '( value, 16.0 )'];\n\n            case RGBDEncoding:\n                return ['RGBD', '( value, 256.0 )'];\n\n            case GammaEncoding:\n                return ['Gamma', '( value, float( GAMMA_FACTOR ) )'];\n\n            case LogLuvEncoding:\n                return ['LogLuv', '( value )'];\n\n            default:\n                console.warn('THREE.WebGLProgram: Unsupported encoding:', encoding);\n                return ['Linear', '( value )'];\n        }\n    }\n\n    function getShaderErrors(gl, shader, type) {\n        var status = gl.getShaderParameter(shader, 35713);\n        var log = gl.getShaderInfoLog(shader).trim();\n        if (status && log === '') return ''; // --enable-privileged-webgl-extension\n        // console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n        var source = gl.getShaderSource(shader);\n        return 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers(source);\n    }\n\n    function getTexelDecodingFunction(functionName, encoding) {\n        var components = getEncodingComponents(encoding);\n        return 'vec4 ' + functionName + '( vec4 value ) { return ' + components[0] + 'ToLinear' + components[1] + '; }';\n    }\n\n    function getTexelEncodingFunction(functionName, encoding) {\n        var components = getEncodingComponents(encoding);\n        return 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[0] + components[1] + '; }';\n    }\n\n    function getToneMappingFunction(functionName, toneMapping) {\n        var toneMappingName;\n\n        switch (toneMapping) {\n            case LinearToneMapping:\n                toneMappingName = 'Linear';\n                break;\n\n            case ReinhardToneMapping:\n                toneMappingName = 'Reinhard';\n                break;\n\n            case CineonToneMapping:\n                toneMappingName = 'OptimizedCineon';\n                break;\n\n            case ACESFilmicToneMapping:\n                toneMappingName = 'ACESFilmic';\n                break;\n\n            case CustomToneMapping:\n                toneMappingName = 'Custom';\n                break;\n\n            default:\n                console.warn('THREE.WebGLProgram: Unsupported toneMapping:', toneMapping);\n                toneMappingName = 'Linear';\n        }\n\n        return 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n    }\n\n    function generateExtensions(parameters) {\n        var chunks = [parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ? '#extension GL_OES_standard_derivatives : enable' : '', (parameters.extensionFragDepth || parameters.logarithmicDepthBuffer) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '', parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ? '#extension GL_EXT_draw_buffers : require' : '', (parameters.extensionShaderTextureLOD || parameters.envMap) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''];\n        return chunks.filter(filterEmptyLine).join('\\n');\n    }\n\n    function generateDefines(defines) {\n        var chunks = [];\n\n        for (var name in defines) {\n            var value = defines[name];\n            if (value === false) continue;\n            chunks.push('#define ' + name + ' ' + value);\n        }\n\n        return chunks.join('\\n');\n    }\n\n    function fetchAttributeLocations(gl, program) {\n        var attributes = {};\n        var n = gl.getProgramParameter(program, 35721);\n\n        for (var i = 0; i < n; i++) {\n            var info = gl.getActiveAttrib(program, i);\n            var name = info.name; // console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n            attributes[name] = gl.getAttribLocation(program, name);\n        }\n\n        return attributes;\n    }\n\n    function filterEmptyLine(string) {\n        return string !== '';\n    }\n\n    function replaceLightNums(string, parameters) {\n        return string.replace(/NUM_DIR_LIGHTS/g, parameters.numDirLights).replace(/NUM_SPOT_LIGHTS/g, parameters.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g, parameters.numPointLights).replace(/NUM_HEMI_LIGHTS/g, parameters.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows);\n    }\n\n    function replaceClippingPlaneNums(string, parameters) {\n        return string.replace(/NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g, parameters.numClippingPlanes - parameters.numClipIntersection);\n    } // Resolve Includes\n\n\n    var includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\n    function resolveIncludes(string) {\n        return string.replace(includePattern, includeReplacer);\n    }\n\n    function includeReplacer(match, include) {\n        var string = ShaderChunk[include];\n\n        if (string === undefined) {\n            throw new Error('Can not resolve #include <' + include + '>');\n        }\n\n        return resolveIncludes(string);\n    } // Unroll Loops\n\n\n    var deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n    var unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\n    function unrollLoops(string) {\n        return string.replace(unrollLoopPattern, loopReplacer).replace(deprecatedUnrollLoopPattern, deprecatedLoopReplacer);\n    }\n\n    function deprecatedLoopReplacer(match, start, end, snippet) {\n        console.warn('WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.');\n        return loopReplacer(match, start, end, snippet);\n    }\n\n    function loopReplacer(match, start, end, snippet) {\n        var string = '';\n\n        for (var i = parseInt(start); i < parseInt(end); i++) {\n            string += snippet.replace(/\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]').replace(/UNROLLED_LOOP_INDEX/g, i);\n        }\n\n        return string;\n    } //\n\n\n    function generatePrecision(parameters) {\n        var precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\n\n        if (parameters.precision === 'highp') {\n            precisionstring += '\\n#define HIGH_PRECISION';\n        } else if (parameters.precision === 'mediump') {\n            precisionstring += '\\n#define MEDIUM_PRECISION';\n        } else if (parameters.precision === 'lowp') {\n            precisionstring += '\\n#define LOW_PRECISION';\n        }\n\n        return precisionstring;\n    }\n\n    function generateShadowMapTypeDefine(parameters) {\n        var shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n        if (parameters.shadowMapType === PCFShadowMap) {\n            shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n        } else if (parameters.shadowMapType === PCFSoftShadowMap) {\n            shadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n        } else if (parameters.shadowMapType === VSMShadowMap) {\n            shadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n        }\n\n        return shadowMapTypeDefine;\n    }\n\n    function generateEnvMapTypeDefine(parameters) {\n        var envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n        if (parameters.envMap) {\n            switch (parameters.envMapMode) {\n                case CubeReflectionMapping:\n                case CubeRefractionMapping:\n                    envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n                    break;\n\n                case CubeUVReflectionMapping:\n                case CubeUVRefractionMapping:\n                    envMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n                    break;\n            }\n        }\n\n        return envMapTypeDefine;\n    }\n\n    function generateEnvMapModeDefine(parameters) {\n        var envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n        if (parameters.envMap) {\n            switch (parameters.envMapMode) {\n                case CubeRefractionMapping:\n                case CubeUVRefractionMapping:\n                    envMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n                    break;\n            }\n        }\n\n        return envMapModeDefine;\n    }\n\n    function generateEnvMapBlendingDefine(parameters) {\n        var envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n        if (parameters.envMap) {\n            switch (parameters.combine) {\n                case MultiplyOperation:\n                    envMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n                    break;\n\n                case MixOperation:\n                    envMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n                    break;\n\n                case AddOperation:\n                    envMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n                    break;\n            }\n        }\n\n        return envMapBlendingDefine;\n    }\n\n    function WebGLProgram(renderer, cacheKey, parameters, bindingStates) {\n        var gl = renderer.getContext();\n        var defines = parameters.defines;\n        var vertexShader = parameters.vertexShader;\n        var fragmentShader = parameters.fragmentShader;\n        var shadowMapTypeDefine = generateShadowMapTypeDefine(parameters);\n        var envMapTypeDefine = generateEnvMapTypeDefine(parameters);\n        var envMapModeDefine = generateEnvMapModeDefine(parameters);\n        var envMapBlendingDefine = generateEnvMapBlendingDefine(parameters);\n        var gammaFactorDefine = renderer.gammaFactor > 0 ? renderer.gammaFactor : 1.0;\n        var customExtensions = parameters.isWebGL2 ? '' : generateExtensions(parameters);\n        var customDefines = generateDefines(defines);\n        var program = gl.createProgram();\n        var prefixVertex, prefixFragment;\n        var versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\n\n        if (parameters.isRawShaderMaterial) {\n            prefixVertex = [customDefines].filter(filterEmptyLine).join('\\n');\n\n            if (prefixVertex.length > 0) {\n                prefixVertex += '\\n';\n            }\n\n            prefixFragment = [customExtensions, customDefines].filter(filterEmptyLine).join('\\n');\n\n            if (prefixFragment.length > 0) {\n                prefixFragment += '\\n';\n            }\n        } else {\n            prefixVertex = [generatePrecision(parameters), '#define SHADER_NAME ' + parameters.shaderName, customDefines, parameters.instancing ? '#define USE_INSTANCING' : '', parameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '', parameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '', '#define GAMMA_FACTOR ' + gammaFactorDefine, '#define MAX_BONES ' + parameters.maxBones, parameters.useFog && parameters.fog ? '#define USE_FOG' : '', parameters.useFog && parameters.fogExp2 ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', parameters.normalMap && parameters.objectSpaceNormalMap ? '#define OBJECTSPACE_NORMALMAP' : '', parameters.normalMap && parameters.tangentSpaceNormalMap ? '#define TANGENTSPACE_NORMALMAP' : '', parameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '', parameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '', parameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '', parameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '', parameters.vertexTangents ? '#define USE_TANGENT' : '', parameters.vertexColors ? '#define USE_COLOR' : '', parameters.vertexUvs ? '#define USE_UV' : '', parameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.skinning ? '#define USE_SKINNING' : '', parameters.useVertexTexture ? '#define BONE_TEXTURE' : '', parameters.morphTargets ? '#define USE_MORPHTARGETS' : '', parameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ? '#define USE_LOGDEPTHBUF_EXT' : '', 'uniform mat4 modelMatrix;', 'uniform mat4 modelViewMatrix;', 'uniform mat4 projectionMatrix;', 'uniform mat4 viewMatrix;', 'uniform mat3 normalMatrix;', 'uniform vec3 cameraPosition;', 'uniform bool isOrthographic;', '#ifdef USE_INSTANCING', '\tattribute mat4 instanceMatrix;', '#endif', '#ifdef USE_INSTANCING_COLOR', '\tattribute vec3 instanceColor;', '#endif', 'attribute vec3 position;', 'attribute vec3 normal;', 'attribute vec2 uv;', '#ifdef USE_TANGENT', '\tattribute vec4 tangent;', '#endif', '#ifdef USE_COLOR', '\tattribute vec3 color;', '#endif', '#ifdef USE_MORPHTARGETS', '\tattribute vec3 morphTarget0;', '\tattribute vec3 morphTarget1;', '\tattribute vec3 morphTarget2;', '\tattribute vec3 morphTarget3;', '\t#ifdef USE_MORPHNORMALS', '\t\tattribute vec3 morphNormal0;', '\t\tattribute vec3 morphNormal1;', '\t\tattribute vec3 morphNormal2;', '\t\tattribute vec3 morphNormal3;', '\t#else', '\t\tattribute vec3 morphTarget4;', '\t\tattribute vec3 morphTarget5;', '\t\tattribute vec3 morphTarget6;', '\t\tattribute vec3 morphTarget7;', '\t#endif', '#endif', '#ifdef USE_SKINNING', '\tattribute vec4 skinIndex;', '\tattribute vec4 skinWeight;', '#endif', '\\n'].filter(filterEmptyLine).join('\\n');\n            prefixFragment = [customExtensions, generatePrecision(parameters), '#define SHADER_NAME ' + parameters.shaderName, customDefines, parameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + (parameters.alphaTest % 1 ? '' : '.0') : '', // add '.0' if integer\n                '#define GAMMA_FACTOR ' + gammaFactorDefine, parameters.useFog && parameters.fog ? '#define USE_FOG' : '', parameters.useFog && parameters.fogExp2 ? '#define FOG_EXP2' : '', parameters.map ? '#define USE_MAP' : '', parameters.matcap ? '#define USE_MATCAP' : '', parameters.envMap ? '#define USE_ENVMAP' : '', parameters.envMap ? '#define ' + envMapTypeDefine : '', parameters.envMap ? '#define ' + envMapModeDefine : '', parameters.envMap ? '#define ' + envMapBlendingDefine : '', parameters.lightMap ? '#define USE_LIGHTMAP' : '', parameters.aoMap ? '#define USE_AOMAP' : '', parameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '', parameters.bumpMap ? '#define USE_BUMPMAP' : '', parameters.normalMap ? '#define USE_NORMALMAP' : '', parameters.normalMap && parameters.objectSpaceNormalMap ? '#define OBJECTSPACE_NORMALMAP' : '', parameters.normalMap && parameters.tangentSpaceNormalMap ? '#define TANGENTSPACE_NORMALMAP' : '', parameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '', parameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '', parameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '', parameters.specularMap ? '#define USE_SPECULARMAP' : '', parameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '', parameters.metalnessMap ? '#define USE_METALNESSMAP' : '', parameters.alphaMap ? '#define USE_ALPHAMAP' : '', parameters.sheen ? '#define USE_SHEEN' : '', parameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '', parameters.vertexTangents ? '#define USE_TANGENT' : '', parameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '', parameters.vertexUvs ? '#define USE_UV' : '', parameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '', parameters.gradientMap ? '#define USE_GRADIENTMAP' : '', parameters.flatShading ? '#define FLAT_SHADED' : '', parameters.doubleSided ? '#define DOUBLE_SIDED' : '', parameters.flipSided ? '#define FLIP_SIDED' : '', parameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '', parameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '', parameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '', parameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '', parameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '', parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ? '#define USE_LOGDEPTHBUF_EXT' : '', (parameters.extensionShaderTextureLOD || parameters.envMap) && parameters.rendererExtensionShaderTextureLod ? '#define TEXTURE_LOD_EXT' : '', 'uniform mat4 viewMatrix;', 'uniform vec3 cameraPosition;', 'uniform bool isOrthographic;', parameters.toneMapping !== NoToneMapping ? '#define TONE_MAPPING' : '', parameters.toneMapping !== NoToneMapping ? ShaderChunk['tonemapping_pars_fragment'] : '', // this code is required here because it is used by the toneMapping() function defined below\n                parameters.toneMapping !== NoToneMapping ? getToneMappingFunction('toneMapping', parameters.toneMapping) : '', parameters.dithering ? '#define DITHERING' : '', ShaderChunk['encodings_pars_fragment'], // this code is required here because it is used by the various encoding/decoding function defined below\n                parameters.map ? getTexelDecodingFunction('mapTexelToLinear', parameters.mapEncoding) : '', parameters.matcap ? getTexelDecodingFunction('matcapTexelToLinear', parameters.matcapEncoding) : '', parameters.envMap ? getTexelDecodingFunction('envMapTexelToLinear', parameters.envMapEncoding) : '', parameters.emissiveMap ? getTexelDecodingFunction('emissiveMapTexelToLinear', parameters.emissiveMapEncoding) : '', parameters.lightMap ? getTexelDecodingFunction('lightMapTexelToLinear', parameters.lightMapEncoding) : '', getTexelEncodingFunction('linearToOutputTexel', parameters.outputEncoding), parameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '', '\\n'\n            ].filter(filterEmptyLine).join('\\n');\n        }\n\n        vertexShader = resolveIncludes(vertexShader);\n        vertexShader = replaceLightNums(vertexShader, parameters);\n        vertexShader = replaceClippingPlaneNums(vertexShader, parameters);\n        fragmentShader = resolveIncludes(fragmentShader);\n        fragmentShader = replaceLightNums(fragmentShader, parameters);\n        fragmentShader = replaceClippingPlaneNums(fragmentShader, parameters);\n        vertexShader = unrollLoops(vertexShader);\n        fragmentShader = unrollLoops(fragmentShader);\n\n        if (parameters.isWebGL2 && parameters.isRawShaderMaterial !== true) {\n            // GLSL 3.0 conversion for built-in materials and ShaderMaterial\n            versionString = '#version 300 es\\n';\n            prefixVertex = ['#define attribute in', '#define varying out', '#define texture2D texture'].join('\\n') + '\\n' + prefixVertex;\n            prefixFragment = ['#define varying in', parameters.glslVersion === GLSL3 ? '' : 'out highp vec4 pc_fragColor;', parameters.glslVersion === GLSL3 ? '' : '#define gl_FragColor pc_fragColor', '#define gl_FragDepthEXT gl_FragDepth', '#define texture2D texture', '#define textureCube texture', '#define texture2DProj textureProj', '#define texture2DLodEXT textureLod', '#define texture2DProjLodEXT textureProjLod', '#define textureCubeLodEXT textureLod', '#define texture2DGradEXT textureGrad', '#define texture2DProjGradEXT textureProjGrad', '#define textureCubeGradEXT textureGrad'].join('\\n') + '\\n' + prefixFragment;\n        }\n\n        var vertexGlsl = versionString + prefixVertex + vertexShader;\n        var fragmentGlsl = versionString + prefixFragment + fragmentShader; // console.log( '*VERTEX*', vertexGlsl );\n        // console.log( '*FRAGMENT*', fragmentGlsl );\n\n        var glVertexShader = WebGLShader(gl, 35633, vertexGlsl);\n        var glFragmentShader = WebGLShader(gl, 35632, fragmentGlsl);\n        gl.attachShader(program, glVertexShader);\n        gl.attachShader(program, glFragmentShader); // Force a particular attribute to index 0.\n\n        if (parameters.index0AttributeName !== undefined) {\n            gl.bindAttribLocation(program, 0, parameters.index0AttributeName);\n        } else if (parameters.morphTargets === true) {\n            // programs with morphTargets displace position out of attribute 0\n            gl.bindAttribLocation(program, 0, 'position');\n        }\n\n        gl.linkProgram(program); // check for link errors\n\n        if (renderer.debug.checkShaderErrors) {\n            var programLog = gl.getProgramInfoLog(program).trim();\n            var vertexLog = gl.getShaderInfoLog(glVertexShader).trim();\n            var fragmentLog = gl.getShaderInfoLog(glFragmentShader).trim();\n            var runnable = true;\n            var haveDiagnostics = true;\n\n            if (gl.getProgramParameter(program, 35714) === false) {\n                runnable = false;\n                var vertexErrors = getShaderErrors(gl, glVertexShader, 'vertex');\n                var fragmentErrors = getShaderErrors(gl, glFragmentShader, 'fragment');\n                console.error('THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter(program, 35715), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors);\n            } else if (programLog !== '') {\n                console.warn('THREE.WebGLProgram: gl.getProgramInfoLog()', programLog);\n            } else if (vertexLog === '' || fragmentLog === '') {\n                haveDiagnostics = false;\n            }\n\n            if (haveDiagnostics) {\n                this.diagnostics = {\n                    runnable: runnable,\n                    programLog: programLog,\n                    vertexShader: {\n                        log: vertexLog,\n                        prefix: prefixVertex\n                    },\n                    fragmentShader: {\n                        log: fragmentLog,\n                        prefix: prefixFragment\n                    }\n                };\n            }\n        } // Clean up\n        // Crashes in iOS9 and iOS10. #18402\n        // gl.detachShader( program, glVertexShader );\n        // gl.detachShader( program, glFragmentShader );\n\n\n        gl.deleteShader(glVertexShader);\n        gl.deleteShader(glFragmentShader); // set up caching for uniform locations\n\n        var cachedUniforms;\n\n        this.getUniforms = function() {\n            if (cachedUniforms === undefined) {\n                cachedUniforms = new WebGLUniforms(gl, program);\n            }\n\n            return cachedUniforms;\n        }; // set up caching for attribute locations\n\n\n        var cachedAttributes;\n\n        this.getAttributes = function() {\n            if (cachedAttributes === undefined) {\n                cachedAttributes = fetchAttributeLocations(gl, program);\n            }\n\n            return cachedAttributes;\n        }; // free resource\n\n\n        this.destroy = function() {\n            bindingStates.releaseStatesOfProgram(this);\n            gl.deleteProgram(program);\n            this.program = undefined;\n        }; //\n\n\n        this.name = parameters.shaderName;\n        this.id = programIdCount++;\n        this.cacheKey = cacheKey;\n        this.usedTimes = 1;\n        this.program = program;\n        this.vertexShader = glVertexShader;\n        this.fragmentShader = glFragmentShader;\n        return this;\n    }\n\n    function WebGLPrograms(renderer, cubemaps, extensions, capabilities, bindingStates, clipping) {\n        var programs = [];\n        var isWebGL2 = capabilities.isWebGL2;\n        var logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n        var floatVertexTextures = capabilities.floatVertexTextures;\n        var maxVertexUniforms = capabilities.maxVertexUniforms;\n        var vertexTextures = capabilities.vertexTextures;\n        var precision = capabilities.precision;\n        var shaderIDs = {\n            MeshDepthMaterial: 'depth',\n            MeshDistanceMaterial: 'distanceRGBA',\n            MeshNormalMaterial: 'normal',\n            MeshBasicMaterial: 'basic',\n            MeshLambertMaterial: 'lambert',\n            MeshPhongMaterial: 'phong',\n            MeshToonMaterial: 'toon',\n            MeshStandardMaterial: 'physical',\n            MeshPhysicalMaterial: 'physical',\n            MeshMatcapMaterial: 'matcap',\n            LineBasicMaterial: 'basic',\n            LineDashedMaterial: 'dashed',\n            PointsMaterial: 'points',\n            ShadowMaterial: 'shadow',\n            SpriteMaterial: 'sprite'\n        };\n        var parameterNames = ['precision', 'isWebGL2', 'supportsVertexTextures', 'outputEncoding', 'instancing', 'instancingColor', 'map', 'mapEncoding', 'matcap', 'matcapEncoding', 'envMap', 'envMapMode', 'envMapEncoding', 'envMapCubeUV', 'lightMap', 'lightMapEncoding', 'aoMap', 'emissiveMap', 'emissiveMapEncoding', 'bumpMap', 'normalMap', 'objectSpaceNormalMap', 'tangentSpaceNormalMap', 'clearcoatMap', 'clearcoatRoughnessMap', 'clearcoatNormalMap', 'displacementMap', 'specularMap', 'roughnessMap', 'metalnessMap', 'gradientMap', 'alphaMap', 'combine', 'vertexColors', 'vertexTangents', 'vertexUvs', 'uvsVertexOnly', 'fog', 'useFog', 'fogExp2', 'flatShading', 'sizeAttenuation', 'logarithmicDepthBuffer', 'skinning', 'maxBones', 'useVertexTexture', 'morphTargets', 'morphNormals', 'maxMorphTargets', 'maxMorphNormals', 'premultipliedAlpha', 'numDirLights', 'numPointLights', 'numSpotLights', 'numHemiLights', 'numRectAreaLights', 'numDirLightShadows', 'numPointLightShadows', 'numSpotLightShadows', 'shadowMapEnabled', 'shadowMapType', 'toneMapping', 'physicallyCorrectLights', 'alphaTest', 'doubleSided', 'flipSided', 'numClippingPlanes', 'numClipIntersection', 'depthPacking', 'dithering', 'sheen', 'transmissionMap'];\n\n        function getMaxBones(object) {\n            var skeleton = object.skeleton;\n            var bones = skeleton.bones;\n\n            if (floatVertexTextures) {\n                return 1024;\n            } else {\n                // default for when object is not specified\n                // ( for example when prebuilding shader to be used with multiple objects )\n                //\n                //\t- leave some extra space for other uniforms\n                //\t- limit here is ANGLE's 254 max uniform vectors\n                //\t\t(up to 54 should be safe)\n                var nVertexUniforms = maxVertexUniforms;\n                var nVertexMatrices = Math.floor((nVertexUniforms - 20) / 4);\n                var maxBones = Math.min(nVertexMatrices, bones.length);\n\n                if (maxBones < bones.length) {\n                    console.warn('THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.');\n                    return 0;\n                }\n\n                return maxBones;\n            }\n        }\n\n        function getTextureEncodingFromMap(map) {\n            var encoding;\n\n            if (map && map.isTexture) {\n                encoding = map.encoding;\n            } else if (map && map.isWebGLRenderTarget) {\n                console.warn('THREE.WebGLPrograms.getTextureEncodingFromMap: don\\'t use render targets as textures. Use their .texture property instead.');\n                encoding = map.texture.encoding;\n            } else {\n                encoding = LinearEncoding;\n            }\n\n            return encoding;\n        }\n\n        function getParameters(material, lights, shadows, scene, object) {\n            var fog = scene.fog;\n            var environment = material.isMeshStandardMaterial ? scene.environment : null;\n            var envMap = cubemaps.get(material.envMap || environment);\n            var shaderID = shaderIDs[material.type]; // heuristics to create shader parameters according to lights in the scene\n            // (not to blow over maxLights budget)\n\n            var maxBones = object.isSkinnedMesh ? getMaxBones(object) : 0;\n\n            if (material.precision !== null) {\n                precision = capabilities.getMaxPrecision(material.precision);\n\n                if (precision !== material.precision) {\n                    console.warn('THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.');\n                }\n            }\n\n            var vertexShader, fragmentShader;\n\n            if (shaderID) {\n                var shader = ShaderLib[shaderID];\n                vertexShader = shader.vertexShader;\n                fragmentShader = shader.fragmentShader;\n            } else {\n                vertexShader = material.vertexShader;\n                fragmentShader = material.fragmentShader;\n            }\n\n            var currentRenderTarget = renderer.getRenderTarget();\n            var parameters = {\n                isWebGL2: isWebGL2,\n                shaderID: shaderID,\n                shaderName: material.type,\n                vertexShader: vertexShader,\n                fragmentShader: fragmentShader,\n                defines: material.defines,\n                isRawShaderMaterial: material.isRawShaderMaterial === true,\n                glslVersion: material.glslVersion,\n                precision: precision,\n                instancing: object.isInstancedMesh === true,\n                instancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n                supportsVertexTextures: vertexTextures,\n                outputEncoding: currentRenderTarget !== null ? getTextureEncodingFromMap(currentRenderTarget.texture) : renderer.outputEncoding,\n                map: !!material.map,\n                mapEncoding: getTextureEncodingFromMap(material.map),\n                matcap: !!material.matcap,\n                matcapEncoding: getTextureEncodingFromMap(material.matcap),\n                envMap: !!envMap,\n                envMapMode: envMap && envMap.mapping,\n                envMapEncoding: getTextureEncodingFromMap(envMap),\n                envMapCubeUV: !!envMap && (envMap.mapping === CubeUVReflectionMapping || envMap.mapping === CubeUVRefractionMapping),\n                lightMap: !!material.lightMap,\n                lightMapEncoding: getTextureEncodingFromMap(material.lightMap),\n                aoMap: !!material.aoMap,\n                emissiveMap: !!material.emissiveMap,\n                emissiveMapEncoding: getTextureEncodingFromMap(material.emissiveMap),\n                bumpMap: !!material.bumpMap,\n                normalMap: !!material.normalMap,\n                objectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n                tangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n                clearcoatMap: !!material.clearcoatMap,\n                clearcoatRoughnessMap: !!material.clearcoatRoughnessMap,\n                clearcoatNormalMap: !!material.clearcoatNormalMap,\n                displacementMap: !!material.displacementMap,\n                roughnessMap: !!material.roughnessMap,\n                metalnessMap: !!material.metalnessMap,\n                specularMap: !!material.specularMap,\n                alphaMap: !!material.alphaMap,\n                gradientMap: !!material.gradientMap,\n                sheen: !!material.sheen,\n                transmissionMap: !!material.transmissionMap,\n                combine: material.combine,\n                vertexTangents: material.normalMap && material.vertexTangents,\n                vertexColors: material.vertexColors,\n                vertexUvs: !!material.map || !!material.bumpMap || !!material.normalMap || !!material.specularMap || !!material.alphaMap || !!material.emissiveMap || !!material.roughnessMap || !!material.metalnessMap || !!material.clearcoatMap || !!material.clearcoatRoughnessMap || !!material.clearcoatNormalMap || !!material.displacementMap || !!material.transmissionMap,\n                uvsVertexOnly: !(!!material.map || !!material.bumpMap || !!material.normalMap || !!material.specularMap || !!material.alphaMap || !!material.emissiveMap || !!material.roughnessMap || !!material.metalnessMap || !!material.clearcoatNormalMap || !!material.transmissionMap) && !!material.displacementMap,\n                fog: !!fog,\n                useFog: material.fog,\n                fogExp2: fog && fog.isFogExp2,\n                flatShading: !!material.flatShading,\n                sizeAttenuation: material.sizeAttenuation,\n                logarithmicDepthBuffer: logarithmicDepthBuffer,\n                skinning: material.skinning && maxBones > 0,\n                maxBones: maxBones,\n                useVertexTexture: floatVertexTextures,\n                morphTargets: material.morphTargets,\n                morphNormals: material.morphNormals,\n                maxMorphTargets: renderer.maxMorphTargets,\n                maxMorphNormals: renderer.maxMorphNormals,\n                numDirLights: lights.directional.length,\n                numPointLights: lights.point.length,\n                numSpotLights: lights.spot.length,\n                numRectAreaLights: lights.rectArea.length,\n                numHemiLights: lights.hemi.length,\n                numDirLightShadows: lights.directionalShadowMap.length,\n                numPointLightShadows: lights.pointShadowMap.length,\n                numSpotLightShadows: lights.spotShadowMap.length,\n                numClippingPlanes: clipping.numPlanes,\n                numClipIntersection: clipping.numIntersection,\n                dithering: material.dithering,\n                shadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n                shadowMapType: renderer.shadowMap.type,\n                toneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n                physicallyCorrectLights: renderer.physicallyCorrectLights,\n                premultipliedAlpha: material.premultipliedAlpha,\n                alphaTest: material.alphaTest,\n                doubleSided: material.side === DoubleSide,\n                flipSided: material.side === BackSide,\n                depthPacking: material.depthPacking !== undefined ? material.depthPacking : false,\n                index0AttributeName: material.index0AttributeName,\n                extensionDerivatives: material.extensions && material.extensions.derivatives,\n                extensionFragDepth: material.extensions && material.extensions.fragDepth,\n                extensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n                extensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n                rendererExtensionFragDepth: isWebGL2 || extensions.has('EXT_frag_depth'),\n                rendererExtensionDrawBuffers: isWebGL2 || extensions.has('WEBGL_draw_buffers'),\n                rendererExtensionShaderTextureLod: isWebGL2 || extensions.has('EXT_shader_texture_lod'),\n                customProgramCacheKey: material.customProgramCacheKey()\n            };\n            return parameters;\n        }\n\n        function getProgramCacheKey(parameters) {\n            var array = [];\n\n            if (parameters.shaderID) {\n                array.push(parameters.shaderID);\n            } else {\n                array.push(parameters.fragmentShader);\n                array.push(parameters.vertexShader);\n            }\n\n            if (parameters.defines !== undefined) {\n                for (var name in parameters.defines) {\n                    array.push(name);\n                    array.push(parameters.defines[name]);\n                }\n            }\n\n            if (parameters.isRawShaderMaterial === false) {\n                for (var i = 0; i < parameterNames.length; i++) {\n                    array.push(parameters[parameterNames[i]]);\n                }\n\n                array.push(renderer.outputEncoding);\n                array.push(renderer.gammaFactor);\n            }\n\n            array.push(parameters.customProgramCacheKey);\n            return array.join();\n        }\n\n        function getUniforms(material) {\n            var shaderID = shaderIDs[material.type];\n            var uniforms;\n\n            if (shaderID) {\n                var shader = ShaderLib[shaderID];\n                uniforms = UniformsUtils.clone(shader.uniforms);\n            } else {\n                uniforms = material.uniforms;\n            }\n\n            return uniforms;\n        }\n\n        function acquireProgram(parameters, cacheKey) {\n            var program; // Check if code has been already compiled\n\n            for (var p = 0, pl = programs.length; p < pl; p++) {\n                var preexistingProgram = programs[p];\n\n                if (preexistingProgram.cacheKey === cacheKey) {\n                    program = preexistingProgram;\n                    ++program.usedTimes;\n                    break;\n                }\n            }\n\n            if (program === undefined) {\n                program = new WebGLProgram(renderer, cacheKey, parameters, bindingStates);\n                programs.push(program);\n            }\n\n            return program;\n        }\n\n        function releaseProgram(program) {\n            if (--program.usedTimes === 0) {\n                // Remove from unordered set\n                var i = programs.indexOf(program);\n                programs[i] = programs[programs.length - 1];\n                programs.pop(); // Free WebGL resources\n\n                program.destroy();\n            }\n        }\n\n        return {\n            getParameters: getParameters,\n            getProgramCacheKey: getProgramCacheKey,\n            getUniforms: getUniforms,\n            acquireProgram: acquireProgram,\n            releaseProgram: releaseProgram,\n            // Exposed for resource monitoring & error feedback via renderer.info:\n            programs: programs\n        };\n    }\n\n    function WebGLProperties() {\n        var properties = new WeakMap();\n\n        function get(object) {\n            var map = properties.get(object);\n\n            if (map === undefined) {\n                map = {};\n                properties.set(object, map);\n            }\n\n            return map;\n        }\n\n        function remove(object) {\n            properties.delete(object);\n        }\n\n        function update(object, key, value) {\n            properties.get(object)[key] = value;\n        }\n\n        function dispose() {\n            properties = new WeakMap();\n        }\n\n        return {\n            get: get,\n            remove: remove,\n            update: update,\n            dispose: dispose\n        };\n    }\n\n    function painterSortStable(a, b) {\n        if (a.groupOrder !== b.groupOrder) {\n            return a.groupOrder - b.groupOrder;\n        } else if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        } else if (a.program !== b.program) {\n            return a.program.id - b.program.id;\n        } else if (a.material.id !== b.material.id) {\n            return a.material.id - b.material.id;\n        } else if (a.z !== b.z) {\n            return a.z - b.z;\n        } else {\n            return a.id - b.id;\n        }\n    }\n\n    function reversePainterSortStable(a, b) {\n        if (a.groupOrder !== b.groupOrder) {\n            return a.groupOrder - b.groupOrder;\n        } else if (a.renderOrder !== b.renderOrder) {\n            return a.renderOrder - b.renderOrder;\n        } else if (a.z !== b.z) {\n            return b.z - a.z;\n        } else {\n            return a.id - b.id;\n        }\n    }\n\n    function WebGLRenderList(properties) {\n        var renderItems = [];\n        var renderItemsIndex = 0;\n        var opaque = [];\n        var transparent = [];\n        var defaultProgram = {\n            id: -1\n        };\n\n        function init() {\n            renderItemsIndex = 0;\n            opaque.length = 0;\n            transparent.length = 0;\n        }\n\n        function getNextRenderItem(object, geometry, material, groupOrder, z, group) {\n            var renderItem = renderItems[renderItemsIndex];\n            var materialProperties = properties.get(material);\n\n            if (renderItem === undefined) {\n                renderItem = {\n                    id: object.id,\n                    object: object,\n                    geometry: geometry,\n                    material: material,\n                    program: materialProperties.program || defaultProgram,\n                    groupOrder: groupOrder,\n                    renderOrder: object.renderOrder,\n                    z: z,\n                    group: group\n                };\n                renderItems[renderItemsIndex] = renderItem;\n            } else {\n                renderItem.id = object.id;\n                renderItem.object = object;\n                renderItem.geometry = geometry;\n                renderItem.material = material;\n                renderItem.program = materialProperties.program || defaultProgram;\n                renderItem.groupOrder = groupOrder;\n                renderItem.renderOrder = object.renderOrder;\n                renderItem.z = z;\n                renderItem.group = group;\n            }\n\n            renderItemsIndex++;\n            return renderItem;\n        }\n\n        function push(object, geometry, material, groupOrder, z, group) {\n            var renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n            (material.transparent === true ? transparent : opaque).push(renderItem);\n        }\n\n        function unshift(object, geometry, material, groupOrder, z, group) {\n            var renderItem = getNextRenderItem(object, geometry, material, groupOrder, z, group);\n            (material.transparent === true ? transparent : opaque).unshift(renderItem);\n        }\n\n        function sort(customOpaqueSort, customTransparentSort) {\n            if (opaque.length > 1) opaque.sort(customOpaqueSort || painterSortStable);\n            if (transparent.length > 1) transparent.sort(customTransparentSort || reversePainterSortStable);\n        }\n\n        function finish() {\n            // Clear references from inactive renderItems in the list\n            for (var i = renderItemsIndex, il = renderItems.length; i < il; i++) {\n                var renderItem = renderItems[i];\n                if (renderItem.id === null) break;\n                renderItem.id = null;\n                renderItem.object = null;\n                renderItem.geometry = null;\n                renderItem.material = null;\n                renderItem.program = null;\n                renderItem.group = null;\n            }\n        }\n\n        return {\n            opaque: opaque,\n            transparent: transparent,\n            init: init,\n            push: push,\n            unshift: unshift,\n            finish: finish,\n            sort: sort\n        };\n    }\n\n    function WebGLRenderLists(properties) {\n        var lists = new WeakMap();\n\n        function get(scene, renderCallDepth) {\n            var list;\n\n            if (lists.has(scene) === false) {\n                list = new WebGLRenderList(properties);\n                lists.set(scene, [list]);\n            } else {\n                if (renderCallDepth >= lists.get(scene).length) {\n                    list = new WebGLRenderList(properties);\n                    lists.get(scene).push(list);\n                } else {\n                    list = lists.get(scene)[renderCallDepth];\n                }\n            }\n\n            return list;\n        }\n\n        function dispose() {\n            lists = new WeakMap();\n        }\n\n        return {\n            get: get,\n            dispose: dispose\n        };\n    }\n\n    function UniformsCache() {\n        var lights = {};\n        return {\n            get: function get(light) {\n                if (lights[light.id] !== undefined) {\n                    return lights[light.id];\n                }\n\n                var uniforms;\n\n                switch (light.type) {\n                    case 'DirectionalLight':\n                        uniforms = {\n                            direction: new Vector3(),\n                            color: new Color()\n                        };\n                        break;\n\n                    case 'SpotLight':\n                        uniforms = {\n                            position: new Vector3(),\n                            direction: new Vector3(),\n                            color: new Color(),\n                            distance: 0,\n                            coneCos: 0,\n                            penumbraCos: 0,\n                            decay: 0\n                        };\n                        break;\n\n                    case 'PointLight':\n                        uniforms = {\n                            position: new Vector3(),\n                            color: new Color(),\n                            distance: 0,\n                            decay: 0\n                        };\n                        break;\n\n                    case 'HemisphereLight':\n                        uniforms = {\n                            direction: new Vector3(),\n                            skyColor: new Color(),\n                            groundColor: new Color()\n                        };\n                        break;\n\n                    case 'RectAreaLight':\n                        uniforms = {\n                            color: new Color(),\n                            position: new Vector3(),\n                            halfWidth: new Vector3(),\n                            halfHeight: new Vector3()\n                        };\n                        break;\n                }\n\n                lights[light.id] = uniforms;\n                return uniforms;\n            }\n        };\n    }\n\n    function ShadowUniformsCache() {\n        var lights = {};\n        return {\n            get: function get(light) {\n                if (lights[light.id] !== undefined) {\n                    return lights[light.id];\n                }\n\n                var uniforms;\n\n                switch (light.type) {\n                    case 'DirectionalLight':\n                        uniforms = {\n                            shadowBias: 0,\n                            shadowNormalBias: 0,\n                            shadowRadius: 1,\n                            shadowMapSize: new Vector2()\n                        };\n                        break;\n\n                    case 'SpotLight':\n                        uniforms = {\n                            shadowBias: 0,\n                            shadowNormalBias: 0,\n                            shadowRadius: 1,\n                            shadowMapSize: new Vector2()\n                        };\n                        break;\n\n                    case 'PointLight':\n                        uniforms = {\n                            shadowBias: 0,\n                            shadowNormalBias: 0,\n                            shadowRadius: 1,\n                            shadowMapSize: new Vector2(),\n                            shadowCameraNear: 1,\n                            shadowCameraFar: 1000\n                        };\n                        break;\n                        // TODO (abelnation): set RectAreaLight shadow uniforms\n                }\n\n                lights[light.id] = uniforms;\n                return uniforms;\n            }\n        };\n    }\n\n    var nextVersion = 0;\n\n    function shadowCastingLightsFirst(lightA, lightB) {\n        return (lightB.castShadow ? 1 : 0) - (lightA.castShadow ? 1 : 0);\n    }\n\n    function WebGLLights(extensions, capabilities) {\n        var cache = new UniformsCache();\n        var shadowCache = ShadowUniformsCache();\n        var state = {\n            version: 0,\n            hash: {\n                directionalLength: -1,\n                pointLength: -1,\n                spotLength: -1,\n                rectAreaLength: -1,\n                hemiLength: -1,\n                numDirectionalShadows: -1,\n                numPointShadows: -1,\n                numSpotShadows: -1\n            },\n            ambient: [0, 0, 0],\n            probe: [],\n            directional: [],\n            directionalShadow: [],\n            directionalShadowMap: [],\n            directionalShadowMatrix: [],\n            spot: [],\n            spotShadow: [],\n            spotShadowMap: [],\n            spotShadowMatrix: [],\n            rectArea: [],\n            rectAreaLTC1: null,\n            rectAreaLTC2: null,\n            point: [],\n            pointShadow: [],\n            pointShadowMap: [],\n            pointShadowMatrix: [],\n            hemi: []\n        };\n\n        for (var i = 0; i < 9; i++) {\n            state.probe.push(new Vector3());\n        }\n\n        var vector3 = new Vector3();\n        var matrix4 = new Matrix4();\n        var matrix42 = new Matrix4();\n\n        function setup(lights) {\n            var r = 0,\n                g = 0,\n                b = 0;\n\n            for (var _i = 0; _i < 9; _i++) {\n                state.probe[_i].set(0, 0, 0);\n            }\n\n            var directionalLength = 0;\n            var pointLength = 0;\n            var spotLength = 0;\n            var rectAreaLength = 0;\n            var hemiLength = 0;\n            var numDirectionalShadows = 0;\n            var numPointShadows = 0;\n            var numSpotShadows = 0;\n            lights.sort(shadowCastingLightsFirst);\n\n            for (var _i2 = 0, l = lights.length; _i2 < l; _i2++) {\n                var light = lights[_i2];\n                var color = light.color;\n                var intensity = light.intensity;\n                var distance = light.distance;\n                var shadowMap = light.shadow && light.shadow.map ? light.shadow.map.texture : null;\n\n                if (light.isAmbientLight) {\n                    r += color.r * intensity;\n                    g += color.g * intensity;\n                    b += color.b * intensity;\n                } else if (light.isLightProbe) {\n                    for (var j = 0; j < 9; j++) {\n                        state.probe[j].addScaledVector(light.sh.coefficients[j], intensity);\n                    }\n                } else if (light.isDirectionalLight) {\n                    var uniforms = cache.get(light);\n                    uniforms.color.copy(light.color).multiplyScalar(light.intensity);\n\n                    if (light.castShadow) {\n                        var shadow = light.shadow;\n                        var shadowUniforms = shadowCache.get(light);\n                        shadowUniforms.shadowBias = shadow.bias;\n                        shadowUniforms.shadowNormalBias = shadow.normalBias;\n                        shadowUniforms.shadowRadius = shadow.radius;\n                        shadowUniforms.shadowMapSize = shadow.mapSize;\n                        state.directionalShadow[directionalLength] = shadowUniforms;\n                        state.directionalShadowMap[directionalLength] = shadowMap;\n                        state.directionalShadowMatrix[directionalLength] = light.shadow.matrix;\n                        numDirectionalShadows++;\n                    }\n\n                    state.directional[directionalLength] = uniforms;\n                    directionalLength++;\n                } else if (light.isSpotLight) {\n                    var _uniforms = cache.get(light);\n\n                    _uniforms.position.setFromMatrixPosition(light.matrixWorld);\n\n                    _uniforms.color.copy(color).multiplyScalar(intensity);\n\n                    _uniforms.distance = distance;\n                    _uniforms.coneCos = Math.cos(light.angle);\n                    _uniforms.penumbraCos = Math.cos(light.angle * (1 - light.penumbra));\n                    _uniforms.decay = light.decay;\n\n                    if (light.castShadow) {\n                        var _shadow = light.shadow;\n\n                        var _shadowUniforms = shadowCache.get(light);\n\n                        _shadowUniforms.shadowBias = _shadow.bias;\n                        _shadowUniforms.shadowNormalBias = _shadow.normalBias;\n                        _shadowUniforms.shadowRadius = _shadow.radius;\n                        _shadowUniforms.shadowMapSize = _shadow.mapSize;\n                        state.spotShadow[spotLength] = _shadowUniforms;\n                        state.spotShadowMap[spotLength] = shadowMap;\n                        state.spotShadowMatrix[spotLength] = light.shadow.matrix;\n                        numSpotShadows++;\n                    }\n\n                    state.spot[spotLength] = _uniforms;\n                    spotLength++;\n                } else if (light.isRectAreaLight) {\n                    var _uniforms2 = cache.get(light); // (a) intensity is the total visible light emitted\n                    //uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n                    // (b) intensity is the brightness of the light\n\n\n                    _uniforms2.color.copy(color).multiplyScalar(intensity);\n\n                    _uniforms2.halfWidth.set(light.width * 0.5, 0.0, 0.0);\n\n                    _uniforms2.halfHeight.set(0.0, light.height * 0.5, 0.0);\n\n                    state.rectArea[rectAreaLength] = _uniforms2;\n                    rectAreaLength++;\n                } else if (light.isPointLight) {\n                    var _uniforms3 = cache.get(light);\n\n                    _uniforms3.color.copy(light.color).multiplyScalar(light.intensity);\n\n                    _uniforms3.distance = light.distance;\n                    _uniforms3.decay = light.decay;\n\n                    if (light.castShadow) {\n                        var _shadow2 = light.shadow;\n\n                        var _shadowUniforms2 = shadowCache.get(light);\n\n                        _shadowUniforms2.shadowBias = _shadow2.bias;\n                        _shadowUniforms2.shadowNormalBias = _shadow2.normalBias;\n                        _shadowUniforms2.shadowRadius = _shadow2.radius;\n                        _shadowUniforms2.shadowMapSize = _shadow2.mapSize;\n                        _shadowUniforms2.shadowCameraNear = _shadow2.camera.near;\n                        _shadowUniforms2.shadowCameraFar = _shadow2.camera.far;\n                        state.pointShadow[pointLength] = _shadowUniforms2;\n                        state.pointShadowMap[pointLength] = shadowMap;\n                        state.pointShadowMatrix[pointLength] = light.shadow.matrix;\n                        numPointShadows++;\n                    }\n\n                    state.point[pointLength] = _uniforms3;\n                    pointLength++;\n                } else if (light.isHemisphereLight) {\n                    var _uniforms4 = cache.get(light);\n\n                    _uniforms4.skyColor.copy(light.color).multiplyScalar(intensity);\n\n                    _uniforms4.groundColor.copy(light.groundColor).multiplyScalar(intensity);\n\n                    state.hemi[hemiLength] = _uniforms4;\n                    hemiLength++;\n                }\n            }\n\n            if (rectAreaLength > 0) {\n                if (capabilities.isWebGL2) {\n                    // WebGL 2\n                    state.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n                    state.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n                } else {\n                    // WebGL 1\n                    if (extensions.has('OES_texture_float_linear') === true) {\n                        state.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n                        state.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n                    } else if (extensions.has('OES_texture_half_float_linear') === true) {\n                        state.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n                        state.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n                    } else {\n                        console.error('THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.');\n                    }\n                }\n            }\n\n            state.ambient[0] = r;\n            state.ambient[1] = g;\n            state.ambient[2] = b;\n            var hash = state.hash;\n\n            if (hash.directionalLength !== directionalLength || hash.pointLength !== pointLength || hash.spotLength !== spotLength || hash.rectAreaLength !== rectAreaLength || hash.hemiLength !== hemiLength || hash.numDirectionalShadows !== numDirectionalShadows || hash.numPointShadows !== numPointShadows || hash.numSpotShadows !== numSpotShadows) {\n                state.directional.length = directionalLength;\n                state.spot.length = spotLength;\n                state.rectArea.length = rectAreaLength;\n                state.point.length = pointLength;\n                state.hemi.length = hemiLength;\n                state.directionalShadow.length = numDirectionalShadows;\n                state.directionalShadowMap.length = numDirectionalShadows;\n                state.pointShadow.length = numPointShadows;\n                state.pointShadowMap.length = numPointShadows;\n                state.spotShadow.length = numSpotShadows;\n                state.spotShadowMap.length = numSpotShadows;\n                state.directionalShadowMatrix.length = numDirectionalShadows;\n                state.pointShadowMatrix.length = numPointShadows;\n                state.spotShadowMatrix.length = numSpotShadows;\n                hash.directionalLength = directionalLength;\n                hash.pointLength = pointLength;\n                hash.spotLength = spotLength;\n                hash.rectAreaLength = rectAreaLength;\n                hash.hemiLength = hemiLength;\n                hash.numDirectionalShadows = numDirectionalShadows;\n                hash.numPointShadows = numPointShadows;\n                hash.numSpotShadows = numSpotShadows;\n                state.version = nextVersion++;\n            }\n        }\n\n        function setupView(lights, camera) {\n            var directionalLength = 0;\n            var pointLength = 0;\n            var spotLength = 0;\n            var rectAreaLength = 0;\n            var hemiLength = 0;\n            var viewMatrix = camera.matrixWorldInverse;\n\n            for (var _i3 = 0, l = lights.length; _i3 < l; _i3++) {\n                var light = lights[_i3];\n\n                if (light.isDirectionalLight) {\n                    var uniforms = state.directional[directionalLength];\n                    uniforms.direction.setFromMatrixPosition(light.matrixWorld);\n                    vector3.setFromMatrixPosition(light.target.matrixWorld);\n                    uniforms.direction.sub(vector3);\n                    uniforms.direction.transformDirection(viewMatrix);\n                    directionalLength++;\n                } else if (light.isSpotLight) {\n                    var _uniforms5 = state.spot[spotLength];\n\n                    _uniforms5.position.setFromMatrixPosition(light.matrixWorld);\n\n                    _uniforms5.position.applyMatrix4(viewMatrix);\n\n                    _uniforms5.direction.setFromMatrixPosition(light.matrixWorld);\n\n                    vector3.setFromMatrixPosition(light.target.matrixWorld);\n\n                    _uniforms5.direction.sub(vector3);\n\n                    _uniforms5.direction.transformDirection(viewMatrix);\n\n                    spotLength++;\n                } else if (light.isRectAreaLight) {\n                    var _uniforms6 = state.rectArea[rectAreaLength];\n\n                    _uniforms6.position.setFromMatrixPosition(light.matrixWorld);\n\n                    _uniforms6.position.applyMatrix4(viewMatrix); // extract local rotation of light to derive width/height half vectors\n\n\n                    matrix42.identity();\n                    matrix4.copy(light.matrixWorld);\n                    matrix4.premultiply(viewMatrix);\n                    matrix42.extractRotation(matrix4);\n\n                    _uniforms6.halfWidth.set(light.width * 0.5, 0.0, 0.0);\n\n                    _uniforms6.halfHeight.set(0.0, light.height * 0.5, 0.0);\n\n                    _uniforms6.halfWidth.applyMatrix4(matrix42);\n\n                    _uniforms6.halfHeight.applyMatrix4(matrix42);\n\n                    rectAreaLength++;\n                } else if (light.isPointLight) {\n                    var _uniforms7 = state.point[pointLength];\n\n                    _uniforms7.position.setFromMatrixPosition(light.matrixWorld);\n\n                    _uniforms7.position.applyMatrix4(viewMatrix);\n\n                    pointLength++;\n                } else if (light.isHemisphereLight) {\n                    var _uniforms8 = state.hemi[hemiLength];\n\n                    _uniforms8.direction.setFromMatrixPosition(light.matrixWorld);\n\n                    _uniforms8.direction.transformDirection(viewMatrix);\n\n                    _uniforms8.direction.normalize();\n\n                    hemiLength++;\n                }\n            }\n        }\n\n        return {\n            setup: setup,\n            setupView: setupView,\n            state: state\n        };\n    }\n\n    function WebGLRenderState(extensions, capabilities) {\n        var lights = new WebGLLights(extensions, capabilities);\n        var lightsArray = [];\n        var shadowsArray = [];\n\n        function init() {\n            lightsArray.length = 0;\n            shadowsArray.length = 0;\n        }\n\n        function pushLight(light) {\n            lightsArray.push(light);\n        }\n\n        function pushShadow(shadowLight) {\n            shadowsArray.push(shadowLight);\n        }\n\n        function setupLights() {\n            lights.setup(lightsArray);\n        }\n\n        function setupLightsView(camera) {\n            lights.setupView(lightsArray, camera);\n        }\n\n        var state = {\n            lightsArray: lightsArray,\n            shadowsArray: shadowsArray,\n            lights: lights\n        };\n        return {\n            init: init,\n            state: state,\n            setupLights: setupLights,\n            setupLightsView: setupLightsView,\n            pushLight: pushLight,\n            pushShadow: pushShadow\n        };\n    }\n\n    function WebGLRenderStates(extensions, capabilities) {\n        var renderStates = new WeakMap();\n\n        function get(scene, renderCallDepth) {\n            if (renderCallDepth === void 0) {\n                renderCallDepth = 0;\n            }\n\n            var renderState;\n\n            if (renderStates.has(scene) === false) {\n                renderState = new WebGLRenderState(extensions, capabilities);\n                renderStates.set(scene, [renderState]);\n            } else {\n                if (renderCallDepth >= renderStates.get(scene).length) {\n                    renderState = new WebGLRenderState(extensions, capabilities);\n                    renderStates.get(scene).push(renderState);\n                } else {\n                    renderState = renderStates.get(scene)[renderCallDepth];\n                }\n            }\n\n            return renderState;\n        }\n\n        function dispose() {\n            renderStates = new WeakMap();\n        }\n\n        return {\n            get: get,\n            dispose: dispose\n        };\n    }\n\n    /**\n     * parameters = {\n     *\n     *\topacity: <float>,\n     *\n     *\tmap: new THREE.Texture( <Image> ),\n     *\n     *\talphaMap: new THREE.Texture( <Image> ),\n     *\n     *\tdisplacementMap: new THREE.Texture( <Image> ),\n     *\tdisplacementScale: <float>,\n     *\tdisplacementBias: <float>,\n     *\n     *\twireframe: <boolean>,\n     *\twireframeLinewidth: <float>\n     * }\n     */\n\n    var MeshDepthMaterial = /*#__PURE__*/ function(_Material) {\n        _inheritsLoose(MeshDepthMaterial, _Material);\n\n        function MeshDepthMaterial(parameters) {\n            var _this;\n\n            _this = _Material.call(this) || this;\n            _this.type = 'MeshDepthMaterial';\n            _this.depthPacking = BasicDepthPacking;\n            _this.skinning = false;\n            _this.morphTargets = false;\n            _this.map = null;\n            _this.alphaMap = null;\n            _this.displacementMap = null;\n            _this.displacementScale = 1;\n            _this.displacementBias = 0;\n            _this.wireframe = false;\n            _this.wireframeLinewidth = 1;\n            _this.fog = false;\n\n            _this.setValues(parameters);\n\n            return _this;\n        }\n\n        var _proto = MeshDepthMaterial.prototype;\n\n        _proto.copy = function copy(source) {\n            _Material.prototype.copy.call(this, source);\n\n            this.depthPacking = source.depthPacking;\n            this.skinning = source.skinning;\n            this.morphTargets = source.morphTargets;\n            this.map = source.map;\n            this.alphaMap = source.alphaMap;\n            this.displacementMap = source.displacementMap;\n            this.displacementScale = source.displacementScale;\n            this.displacementBias = source.displacementBias;\n            this.wireframe = source.wireframe;\n            this.wireframeLinewidth = source.wireframeLinewidth;\n            return this;\n        };\n\n        return MeshDepthMaterial;\n    }(Material);\n\n    MeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\n    /**\n     * parameters = {\n     *\n     *\treferencePosition: <float>,\n     *\tnearDistance: <float>,\n     *\tfarDistance: <float>,\n     *\n     *\tskinning: <bool>,\n     *\tmorphTargets: <bool>,\n     *\n     *\tmap: new THREE.Texture( <Image> ),\n     *\n     *\talphaMap: new THREE.Texture( <Image> ),\n     *\n     *\tdisplacementMap: new THREE.Texture( <Image> ),\n     *\tdisplacementScale: <float>,\n     *\tdisplacementBias: <float>\n     *\n     * }\n     */\n\n    var MeshDistanceMaterial = /*#__PURE__*/ function(_Material) {\n        _inheritsLoose(MeshDistanceMaterial, _Material);\n\n        function MeshDistanceMaterial(parameters) {\n            var _this;\n\n            _this = _Material.call(this) || this;\n            _this.type = 'MeshDistanceMaterial';\n            _this.referencePosition = new Vector3();\n            _this.nearDistance = 1;\n            _this.farDistance = 1000;\n            _this.skinning = false;\n            _this.morphTargets = false;\n            _this.map = null;\n            _this.alphaMap = null;\n            _this.displacementMap = null;\n            _this.displacementScale = 1;\n            _this.displacementBias = 0;\n            _this.fog = false;\n\n            _this.setValues(parameters);\n\n            return _this;\n        }\n\n        var _proto = MeshDistanceMaterial.prototype;\n\n        _proto.copy = function copy(source) {\n            _Material.prototype.copy.call(this, source);\n\n            this.referencePosition.copy(source.referencePosition);\n            this.nearDistance = source.nearDistance;\n            this.farDistance = source.farDistance;\n            this.skinning = source.skinning;\n            this.morphTargets = source.morphTargets;\n            this.map = source.map;\n            this.alphaMap = source.alphaMap;\n            this.displacementMap = source.displacementMap;\n            this.displacementScale = source.displacementScale;\n            this.displacementBias = source.displacementBias;\n            return this;\n        };\n\n        return MeshDistanceMaterial;\n    }(Material);\n\n    MeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\n    var vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\\n\\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n\\t\\t#ifdef HORIZONTAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean * HALF_SAMPLE_RATE;\\n\\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\n    var vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\n    function WebGLShadowMap(_renderer, _objects, maxTextureSize) {\n        var _frustum = new Frustum();\n\n        var _shadowMapSize = new Vector2(),\n            _viewportSize = new Vector2(),\n            _viewport = new Vector4(),\n            _depthMaterials = [],\n            _distanceMaterials = [],\n            _materialCache = {};\n\n        var shadowSide = {\n            0: BackSide,\n            1: FrontSide,\n            2: DoubleSide\n        };\n        var shadowMaterialVertical = new ShaderMaterial({\n            defines: {\n                SAMPLE_RATE: 2.0 / 8.0,\n                HALF_SAMPLE_RATE: 1.0 / 8.0\n            },\n            uniforms: {\n                shadow_pass: {\n                    value: null\n                },\n                resolution: {\n                    value: new Vector2()\n                },\n                radius: {\n                    value: 4.0\n                }\n            },\n            vertexShader: vsm_vert,\n            fragmentShader: vsm_frag\n        });\n        var shadowMaterialHorizontal = shadowMaterialVertical.clone();\n        shadowMaterialHorizontal.defines.HORIZONTAL_PASS = 1;\n        var fullScreenTri = new BufferGeometry();\n        fullScreenTri.setAttribute('position', new BufferAttribute(new Float32Array([-1, -1, 0.5, 3, -1, 0.5, -1, 3, 0.5]), 3));\n        var fullScreenMesh = new Mesh(fullScreenTri, shadowMaterialVertical);\n        var scope = this;\n        this.enabled = false;\n        this.autoUpdate = true;\n        this.needsUpdate = false;\n        this.type = PCFShadowMap;\n\n        this.render = function(lights, scene, camera) {\n            if (scope.enabled === false) return;\n            if (scope.autoUpdate === false && scope.needsUpdate === false) return;\n            if (lights.length === 0) return;\n\n            var currentRenderTarget = _renderer.getRenderTarget();\n\n            var activeCubeFace = _renderer.getActiveCubeFace();\n\n            var activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n            var _state = _renderer.state; // Set GL state for depth map.\n\n            _state.setBlending(NoBlending);\n\n            _state.buffers.color.setClear(1, 1, 1, 1);\n\n            _state.buffers.depth.setTest(true);\n\n            _state.setScissorTest(false); // render depth map\n\n\n            for (var i = 0, il = lights.length; i < il; i++) {\n                var light = lights[i];\n                var shadow = light.shadow;\n\n                if (shadow === undefined) {\n                    console.warn('THREE.WebGLShadowMap:', light, 'has no shadow.');\n                    continue;\n                }\n\n                if (shadow.autoUpdate === false && shadow.needsUpdate === false) continue;\n\n                _shadowMapSize.copy(shadow.mapSize);\n\n                var shadowFrameExtents = shadow.getFrameExtents();\n\n                _shadowMapSize.multiply(shadowFrameExtents);\n\n                _viewportSize.copy(shadow.mapSize);\n\n                if (_shadowMapSize.x > maxTextureSize || _shadowMapSize.y > maxTextureSize) {\n                    if (_shadowMapSize.x > maxTextureSize) {\n                        _viewportSize.x = Math.floor(maxTextureSize / shadowFrameExtents.x);\n                        _shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n                        shadow.mapSize.x = _viewportSize.x;\n                    }\n\n                    if (_shadowMapSize.y > maxTextureSize) {\n                        _viewportSize.y = Math.floor(maxTextureSize / shadowFrameExtents.y);\n                        _shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n                        shadow.mapSize.y = _viewportSize.y;\n                    }\n                }\n\n                if (shadow.map === null && !shadow.isPointLightShadow && this.type === VSMShadowMap) {\n                    var pars = {\n                        minFilter: LinearFilter,\n                        magFilter: LinearFilter,\n                        format: RGBAFormat\n                    };\n                    shadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n                    shadow.map.texture.name = light.name + '.shadowMap';\n                    shadow.mapPass = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, pars);\n                    shadow.camera.updateProjectionMatrix();\n                }\n\n                if (shadow.map === null) {\n                    var _pars = {\n                        minFilter: NearestFilter,\n                        magFilter: NearestFilter,\n                        format: RGBAFormat\n                    };\n                    shadow.map = new WebGLRenderTarget(_shadowMapSize.x, _shadowMapSize.y, _pars);\n                    shadow.map.texture.name = light.name + '.shadowMap';\n                    shadow.camera.updateProjectionMatrix();\n                }\n\n                _renderer.setRenderTarget(shadow.map);\n\n                _renderer.clear();\n\n                var viewportCount = shadow.getViewportCount();\n\n                for (var vp = 0; vp < viewportCount; vp++) {\n                    var viewport = shadow.getViewport(vp);\n\n                    _viewport.set(_viewportSize.x * viewport.x, _viewportSize.y * viewport.y, _viewportSize.x * viewport.z, _viewportSize.y * viewport.w);\n\n                    _state.viewport(_viewport);\n\n                    shadow.updateMatrices(light, vp);\n                    _frustum = shadow.getFrustum();\n                    renderObject(scene, camera, shadow.camera, light, this.type);\n                } // do blur pass for VSM\n\n\n                if (!shadow.isPointLightShadow && this.type === VSMShadowMap) {\n                    VSMPass(shadow, camera);\n                }\n\n                shadow.needsUpdate = false;\n            }\n\n            scope.needsUpdate = false;\n\n            _renderer.setRenderTarget(currentRenderTarget, activeCubeFace, activeMipmapLevel);\n        };\n\n        function VSMPass(shadow, camera) {\n            var geometry = _objects.update(fullScreenMesh); // vertical pass\n\n\n            shadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n            shadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n            shadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\n            _renderer.setRenderTarget(shadow.mapPass);\n\n            _renderer.clear();\n\n            _renderer.renderBufferDirect(camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null); // horizontal pass\n\n\n            shadowMaterialHorizontal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n            shadowMaterialHorizontal.uniforms.resolution.value = shadow.mapSize;\n            shadowMaterialHorizontal.uniforms.radius.value = shadow.radius;\n\n            _renderer.setRenderTarget(shadow.map);\n\n            _renderer.clear();\n\n            _renderer.renderBufferDirect(camera, null, geometry, shadowMaterialHorizontal, fullScreenMesh, null);\n        }\n\n        function getDepthMaterialVariant(useMorphing, useSkinning, useInstancing) {\n            var index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n            var material = _depthMaterials[index];\n\n            if (material === undefined) {\n                material = new MeshDepthMaterial({\n                    depthPacking: RGBADepthPacking,\n                    morphTargets: useMorphing,\n                    skinning: useSkinning\n                });\n                _depthMaterials[index] = material;\n            }\n\n            return material;\n        }\n\n        function getDistanceMaterialVariant(useMorphing, useSkinning, useInstancing) {\n            var index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n            var material = _distanceMaterials[index];\n\n            if (material === undefined) {\n                material = new MeshDistanceMaterial({\n                    morphTargets: useMorphing,\n                    skinning: useSkinning\n                });\n                _distanceMaterials[index] = material;\n            }\n\n            return material;\n        }\n\n        function getDepthMaterial(object, geometry, material, light, shadowCameraNear, shadowCameraFar, type) {\n            var result = null;\n            var getMaterialVariant = getDepthMaterialVariant;\n            var customMaterial = object.customDepthMaterial;\n\n            if (light.isPointLight === true) {\n                getMaterialVariant = getDistanceMaterialVariant;\n                customMaterial = object.customDistanceMaterial;\n            }\n\n            if (customMaterial === undefined) {\n                var useMorphing = false;\n\n                if (material.morphTargets === true) {\n                    useMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n                }\n\n                var useSkinning = false;\n\n                if (object.isSkinnedMesh === true) {\n                    if (material.skinning === true) {\n                        useSkinning = true;\n                    } else {\n                        console.warn('THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object);\n                    }\n                }\n\n                var useInstancing = object.isInstancedMesh === true;\n                result = getMaterialVariant(useMorphing, useSkinning, useInstancing);\n            } else {\n                result = customMaterial;\n            }\n\n            if (_renderer.localClippingEnabled && material.clipShadows === true && material.clippingPlanes.length !== 0) {\n                // in this case we need a unique material instance reflecting the\n                // appropriate state\n                var keyA = result.uuid,\n                    keyB = material.uuid;\n                var materialsForVariant = _materialCache[keyA];\n\n                if (materialsForVariant === undefined) {\n                    materialsForVariant = {};\n                    _materialCache[keyA] = materialsForVariant;\n                }\n\n                var cachedMaterial = materialsForVariant[keyB];\n\n                if (cachedMaterial === undefined) {\n                    cachedMaterial = result.clone();\n                    materialsForVariant[keyB] = cachedMaterial;\n                }\n\n                result = cachedMaterial;\n            }\n\n            result.visible = material.visible;\n            result.wireframe = material.wireframe;\n\n            if (type === VSMShadowMap) {\n                result.side = material.shadowSide !== null ? material.shadowSide : material.side;\n            } else {\n                result.side = material.shadowSide !== null ? material.shadowSide : shadowSide[material.side];\n            }\n\n            result.clipShadows = material.clipShadows;\n            result.clippingPlanes = material.clippingPlanes;\n            result.clipIntersection = material.clipIntersection;\n            result.wireframeLinewidth = material.wireframeLinewidth;\n            result.linewidth = material.linewidth;\n\n            if (light.isPointLight === true && result.isMeshDistanceMaterial === true) {\n                result.referencePosition.setFromMatrixPosition(light.matrixWorld);\n                result.nearDistance = shadowCameraNear;\n                result.farDistance = shadowCameraFar;\n            }\n\n            return result;\n        }\n\n        function renderObject(object, camera, shadowCamera, light, type) {\n            if (object.visible === false) return;\n            var visible = object.layers.test(camera.layers);\n\n            if (visible && (object.isMesh || object.isLine || object.isPoints)) {\n                if ((object.castShadow || object.receiveShadow && type === VSMShadowMap) && (!object.frustumCulled || _frustum.intersectsObject(object))) {\n                    object.modelViewMatrix.multiplyMatrices(shadowCamera.matrixWorldInverse, object.matrixWorld);\n\n                    var geometry = _objects.update(object);\n\n                    var material = object.material;\n\n                    if (Array.isArray(material)) {\n                        var groups = geometry.groups;\n\n                        for (var k = 0, kl = groups.length; k < kl; k++) {\n                            var group = groups[k];\n                            var groupMaterial = material[group.materialIndex];\n\n                            if (groupMaterial && groupMaterial.visible) {\n                                var depthMaterial = getDepthMaterial(object, geometry, groupMaterial, light, shadowCamera.near, shadowCamera.far, type);\n\n                                _renderer.renderBufferDirect(shadowCamera, null, geometry, depthMaterial, object, group);\n                            }\n                        }\n                    } else if (material.visible) {\n                        var _depthMaterial = getDepthMaterial(object, geometry, material, light, shadowCamera.near, shadowCamera.far, type);\n\n                        _renderer.renderBufferDirect(shadowCamera, null, geometry, _depthMaterial, object, null);\n                    }\n                }\n            }\n\n            var children = object.children;\n\n            for (var i = 0, l = children.length; i < l; i++) {\n                renderObject(children[i], camera, shadowCamera, light, type);\n            }\n        }\n    }\n\n    function WebGLState(gl, extensions, capabilities) {\n        var _equationToGL, _factorToGL;\n\n        var isWebGL2 = capabilities.isWebGL2;\n\n        function ColorBuffer() {\n            var locked = false;\n            var color = new Vector4();\n            var currentColorMask = null;\n            var currentColorClear = new Vector4(0, 0, 0, 0);\n            return {\n                setMask: function setMask(colorMask) {\n                    if (currentColorMask !== colorMask && !locked) {\n                        gl.colorMask(colorMask, colorMask, colorMask, colorMask);\n                        currentColorMask = colorMask;\n                    }\n                },\n                setLocked: function setLocked(lock) {\n                    locked = lock;\n                },\n                setClear: function setClear(r, g, b, a, premultipliedAlpha) {\n                    if (premultipliedAlpha === true) {\n                        r *= a;\n                        g *= a;\n                        b *= a;\n                    }\n\n                    color.set(r, g, b, a);\n\n                    if (currentColorClear.equals(color) === false) {\n                        gl.clearColor(r, g, b, a);\n                        currentColorClear.copy(color);\n                    }\n                },\n                reset: function reset() {\n                    locked = false;\n                    currentColorMask = null;\n                    currentColorClear.set(-1, 0, 0, 0); // set to invalid state\n                }\n            };\n        }\n\n        function DepthBuffer() {\n            var locked = false;\n            var currentDepthMask = null;\n            var currentDepthFunc = null;\n            var currentDepthClear = null;\n            return {\n                setTest: function setTest(depthTest) {\n                    if (depthTest) {\n                        enable(2929);\n                    } else {\n                        disable(2929);\n                    }\n                },\n                setMask: function setMask(depthMask) {\n                    if (currentDepthMask !== depthMask && !locked) {\n                        gl.depthMask(depthMask);\n                        currentDepthMask = depthMask;\n                    }\n                },\n                setFunc: function setFunc(depthFunc) {\n                    if (currentDepthFunc !== depthFunc) {\n                        if (depthFunc) {\n                            switch (depthFunc) {\n                                case NeverDepth:\n                                    gl.depthFunc(512);\n                                    break;\n\n                                case AlwaysDepth:\n                                    gl.depthFunc(519);\n                                    break;\n\n                                case LessDepth:\n                                    gl.depthFunc(513);\n                                    break;\n\n                                case LessEqualDepth:\n                                    gl.depthFunc(515);\n                                    break;\n\n                                case EqualDepth:\n                                    gl.depthFunc(514);\n                                    break;\n\n                                case GreaterEqualDepth:\n                                    gl.depthFunc(518);\n                                    break;\n\n                                case GreaterDepth:\n                                    gl.depthFunc(516);\n                                    break;\n\n                                case NotEqualDepth:\n                                    gl.depthFunc(517);\n                                    break;\n\n                                default:\n                                    gl.depthFunc(515);\n                            }\n                        } else {\n                            gl.depthFunc(515);\n                        }\n\n                        currentDepthFunc = depthFunc;\n                    }\n                },\n                setLocked: function setLocked(lock) {\n                    locked = lock;\n                },\n                setClear: function setClear(depth) {\n                    if (currentDepthClear !== depth) {\n                        gl.clearDepth(depth);\n                        currentDepthClear = depth;\n                    }\n                },\n                reset: function reset() {\n                    locked = false;\n                    currentDepthMask = null;\n                    currentDepthFunc = null;\n                    currentDepthClear = null;\n                }\n            };\n        }\n\n        function StencilBuffer() {\n            var locked = false;\n            var currentStencilMask = null;\n            var currentStencilFunc = null;\n            var currentStencilRef = null;\n            var currentStencilFuncMask = null;\n            var currentStencilFail = null;\n            var currentStencilZFail = null;\n            var currentStencilZPass = null;\n            var currentStencilClear = null;\n            return {\n                setTest: function setTest(stencilTest) {\n                    if (!locked) {\n                        if (stencilTest) {\n                            enable(2960);\n                        } else {\n                            disable(2960);\n                        }\n                    }\n                },\n                setMask: function setMask(stencilMask) {\n                    if (currentStencilMask !== stencilMask && !locked) {\n                        gl.stencilMask(stencilMask);\n                        currentStencilMask = stencilMask;\n                    }\n                },\n                setFunc: function setFunc(stencilFunc, stencilRef, stencilMask) {\n                    if (currentStencilFunc !== stencilFunc || currentStencilRef !== stencilRef || currentStencilFuncMask !== stencilMask) {\n                        gl.stencilFunc(stencilFunc, stencilRef, stencilMask);\n                        currentStencilFunc = stencilFunc;\n                        currentStencilRef = stencilRef;\n                        currentStencilFuncMask = stencilMask;\n                    }\n                },\n                setOp: function setOp(stencilFail, stencilZFail, stencilZPass) {\n                    if (currentStencilFail !== stencilFail || currentStencilZFail !== stencilZFail || currentStencilZPass !== stencilZPass) {\n                        gl.stencilOp(stencilFail, stencilZFail, stencilZPass);\n                        currentStencilFail = stencilFail;\n                        currentStencilZFail = stencilZFail;\n                        currentStencilZPass = stencilZPass;\n                    }\n                },\n                setLocked: function setLocked(lock) {\n                    locked = lock;\n                },\n                setClear: function setClear(stencil) {\n                    if (currentStencilClear !== stencil) {\n                        gl.clearStencil(stencil);\n                        currentStencilClear = stencil;\n                    }\n                },\n                reset: function reset() {\n                    locked = false;\n                    currentStencilMask = null;\n                    currentStencilFunc = null;\n                    currentStencilRef = null;\n                    currentStencilFuncMask = null;\n                    currentStencilFail = null;\n                    currentStencilZFail = null;\n                    currentStencilZPass = null;\n                    currentStencilClear = null;\n                }\n            };\n        } //\n\n\n        var colorBuffer = new ColorBuffer();\n        var depthBuffer = new DepthBuffer();\n        var stencilBuffer = new StencilBuffer();\n        var enabledCapabilities = {};\n        var currentProgram = null;\n        var currentBlendingEnabled = false;\n        var currentBlending = null;\n        var currentBlendEquation = null;\n        var currentBlendSrc = null;\n        var currentBlendDst = null;\n        var currentBlendEquationAlpha = null;\n        var currentBlendSrcAlpha = null;\n        var currentBlendDstAlpha = null;\n        var currentPremultipledAlpha = false;\n        var currentFlipSided = null;\n        var currentCullFace = null;\n        var currentLineWidth = null;\n        var currentPolygonOffsetFactor = null;\n        var currentPolygonOffsetUnits = null;\n        var maxTextures = gl.getParameter(35661);\n        var lineWidthAvailable = false;\n        var version = 0;\n        var glVersion = gl.getParameter(7938);\n\n        if (glVersion.indexOf('WebGL') !== -1) {\n            version = parseFloat(/^WebGL (\\d)/.exec(glVersion)[1]);\n            lineWidthAvailable = version >= 1.0;\n        } else if (glVersion.indexOf('OpenGL ES') !== -1) {\n            version = parseFloat(/^OpenGL ES (\\d)/.exec(glVersion)[1]);\n            lineWidthAvailable = version >= 2.0;\n        }\n\n        var currentTextureSlot = null;\n        var currentBoundTextures = {};\n        var currentScissor = new Vector4();\n        var currentViewport = new Vector4();\n\n        function createTexture(type, target, count) {\n            var data = new Uint8Array(4); // 4 is required to match default unpack alignment of 4.\n\n            var texture = gl.createTexture();\n            gl.bindTexture(type, texture);\n            gl.texParameteri(type, 10241, 9728);\n            gl.texParameteri(type, 10240, 9728);\n\n            for (var i = 0; i < count; i++) {\n                gl.texImage2D(target + i, 0, 6408, 1, 1, 0, 6408, 5121, data);\n            }\n\n            return texture;\n        }\n\n        var emptyTextures = {};\n        emptyTextures[3553] = createTexture(3553, 3553, 1);\n        emptyTextures[34067] = createTexture(34067, 34069, 6); // init\n\n        colorBuffer.setClear(0, 0, 0, 1);\n        depthBuffer.setClear(1);\n        stencilBuffer.setClear(0);\n        enable(2929);\n        depthBuffer.setFunc(LessEqualDepth);\n        setFlipSided(false);\n        setCullFace(CullFaceBack);\n        enable(2884);\n        setBlending(NoBlending); //\n\n        function enable(id) {\n            if (enabledCapabilities[id] !== true) {\n                gl.enable(id);\n                enabledCapabilities[id] = true;\n            }\n        }\n\n        function disable(id) {\n            if (enabledCapabilities[id] !== false) {\n                gl.disable(id);\n                enabledCapabilities[id] = false;\n            }\n        }\n\n        function useProgram(program) {\n            if (currentProgram !== program) {\n                gl.useProgram(program);\n                currentProgram = program;\n                return true;\n            }\n\n            return false;\n        }\n\n        var equationToGL = (_equationToGL = {}, _equationToGL[AddEquation] = 32774, _equationToGL[SubtractEquation] = 32778, _equationToGL[ReverseSubtractEquation] = 32779, _equationToGL);\n\n        if (isWebGL2) {\n            equationToGL[MinEquation] = 32775;\n            equationToGL[MaxEquation] = 32776;\n        } else {\n            var extension = extensions.get('EXT_blend_minmax');\n\n            if (extension !== null) {\n                equationToGL[MinEquation] = extension.MIN_EXT;\n                equationToGL[MaxEquation] = extension.MAX_EXT;\n            }\n        }\n\n        var factorToGL = (_factorToGL = {}, _factorToGL[ZeroFactor] = 0, _factorToGL[OneFactor] = 1, _factorToGL[SrcColorFactor] = 768, _factorToGL[SrcAlphaFactor] = 770, _factorToGL[SrcAlphaSaturateFactor] = 776, _factorToGL[DstColorFactor] = 774, _factorToGL[DstAlphaFactor] = 772, _factorToGL[OneMinusSrcColorFactor] = 769, _factorToGL[OneMinusSrcAlphaFactor] = 771, _factorToGL[OneMinusDstColorFactor] = 775, _factorToGL[OneMinusDstAlphaFactor] = 773, _factorToGL);\n\n        function setBlending(blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha) {\n            if (blending === NoBlending) {\n                if (currentBlendingEnabled === true) {\n                    disable(3042);\n                    currentBlendingEnabled = false;\n                }\n\n                return;\n            }\n\n            if (currentBlendingEnabled === false) {\n                enable(3042);\n                currentBlendingEnabled = true;\n            }\n\n            if (blending !== CustomBlending) {\n                if (blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha) {\n                    if (currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation) {\n                        gl.blendEquation(32774);\n                        currentBlendEquation = AddEquation;\n                        currentBlendEquationAlpha = AddEquation;\n                    }\n\n                    if (premultipliedAlpha) {\n                        switch (blending) {\n                            case NormalBlending:\n                                gl.blendFuncSeparate(1, 771, 1, 771);\n                                break;\n\n                            case AdditiveBlending:\n                                gl.blendFunc(1, 1);\n                                break;\n\n                            case SubtractiveBlending:\n                                gl.blendFuncSeparate(0, 0, 769, 771);\n                                break;\n\n                            case MultiplyBlending:\n                                gl.blendFuncSeparate(0, 768, 0, 770);\n                                break;\n\n                            default:\n                                console.error('THREE.WebGLState: Invalid blending: ', blending);\n                                break;\n                        }\n                    } else {\n                        switch (blending) {\n                            case NormalBlending:\n                                gl.blendFuncSeparate(770, 771, 1, 771);\n                                break;\n\n                            case AdditiveBlending:\n                                gl.blendFunc(770, 1);\n                                break;\n\n                            case SubtractiveBlending:\n                                gl.blendFunc(0, 769);\n                                break;\n\n                            case MultiplyBlending:\n                                gl.blendFunc(0, 768);\n                                break;\n\n                            default:\n                                console.error('THREE.WebGLState: Invalid blending: ', blending);\n                                break;\n                        }\n                    }\n\n                    currentBlendSrc = null;\n                    currentBlendDst = null;\n                    currentBlendSrcAlpha = null;\n                    currentBlendDstAlpha = null;\n                    currentBlending = blending;\n                    currentPremultipledAlpha = premultipliedAlpha;\n                }\n\n                return;\n            } // custom blending\n\n\n            blendEquationAlpha = blendEquationAlpha || blendEquation;\n            blendSrcAlpha = blendSrcAlpha || blendSrc;\n            blendDstAlpha = blendDstAlpha || blendDst;\n\n            if (blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha) {\n                gl.blendEquationSeparate(equationToGL[blendEquation], equationToGL[blendEquationAlpha]);\n                currentBlendEquation = blendEquation;\n                currentBlendEquationAlpha = blendEquationAlpha;\n            }\n\n            if (blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha) {\n                gl.blendFuncSeparate(factorToGL[blendSrc], factorToGL[blendDst], factorToGL[blendSrcAlpha], factorToGL[blendDstAlpha]);\n                currentBlendSrc = blendSrc;\n                currentBlendDst = blendDst;\n                currentBlendSrcAlpha = blendSrcAlpha;\n                currentBlendDstAlpha = blendDstAlpha;\n            }\n\n            currentBlending = blending;\n            currentPremultipledAlpha = null;\n        }\n\n        function setMaterial(material, frontFaceCW) {\n            material.side === DoubleSide ? disable(2884) : enable(2884);\n            var flipSided = material.side === BackSide;\n            if (frontFaceCW) flipSided = !flipSided;\n            setFlipSided(flipSided);\n            material.blending === NormalBlending && material.transparent === false ? setBlending(NoBlending) : setBlending(material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha);\n            depthBuffer.setFunc(material.depthFunc);\n            depthBuffer.setTest(material.depthTest);\n            depthBuffer.setMask(material.depthWrite);\n            colorBuffer.setMask(material.colorWrite);\n            var stencilWrite = material.stencilWrite;\n            stencilBuffer.setTest(stencilWrite);\n\n            if (stencilWrite) {\n                stencilBuffer.setMask(material.stencilWriteMask);\n                stencilBuffer.setFunc(material.stencilFunc, material.stencilRef, material.stencilFuncMask);\n                stencilBuffer.setOp(material.stencilFail, material.stencilZFail, material.stencilZPass);\n            }\n\n            setPolygonOffset(material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits);\n        } //\n\n\n        function setFlipSided(flipSided) {\n            if (currentFlipSided !== flipSided) {\n                if (flipSided) {\n                    gl.frontFace(2304);\n                } else {\n                    gl.frontFace(2305);\n                }\n\n                currentFlipSided = flipSided;\n            }\n        }\n\n        function setCullFace(cullFace) {\n            if (cullFace !== CullFaceNone) {\n                enable(2884);\n\n                if (cullFace !== currentCullFace) {\n                    if (cullFace === CullFaceBack) {\n                        gl.cullFace(1029);\n                    } else if (cullFace === CullFaceFront) {\n                        gl.cullFace(1028);\n                    } else {\n                        gl.cullFace(1032);\n                    }\n                }\n            } else {\n                disable(2884);\n            }\n\n            currentCullFace = cullFace;\n        }\n\n        function setLineWidth(width) {\n            if (width !== currentLineWidth) {\n                if (lineWidthAvailable) gl.lineWidth(width);\n                currentLineWidth = width;\n            }\n        }\n\n        function setPolygonOffset(polygonOffset, factor, units) {\n            if (polygonOffset) {\n                enable(32823);\n\n                if (currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units) {\n                    gl.polygonOffset(factor, units);\n                    currentPolygonOffsetFactor = factor;\n                    currentPolygonOffsetUnits = units;\n                }\n            } else {\n                disable(32823);\n            }\n        }\n\n        function setScissorTest(scissorTest) {\n            if (scissorTest) {\n                enable(3089);\n            } else {\n                disable(3089);\n            }\n        } // texture\n\n\n        function activeTexture(webglSlot) {\n            if (webglSlot === undefined) webglSlot = 33984 + maxTextures - 1;\n\n            if (currentTextureSlot !== webglSlot) {\n                gl.activeTexture(webglSlot);\n                currentTextureSlot = webglSlot;\n            }\n        }\n\n        function bindTexture(webglType, webglTexture) {\n            if (currentTextureSlot === null) {\n                activeTexture();\n            }\n\n            var boundTexture = currentBoundTextures[currentTextureSlot];\n\n            if (boundTexture === undefined) {\n                boundTexture = {\n                    type: undefined,\n                    texture: undefined\n                };\n                currentBoundTextures[currentTextureSlot] = boundTexture;\n            }\n\n            if (boundTexture.type !== webglType || boundTexture.texture !== webglTexture) {\n                gl.bindTexture(webglType, webglTexture || emptyTextures[webglType]);\n                boundTexture.type = webglType;\n                boundTexture.texture = webglTexture;\n            }\n        }\n\n        function unbindTexture() {\n            var boundTexture = currentBoundTextures[currentTextureSlot];\n\n            if (boundTexture !== undefined && boundTexture.type !== undefined) {\n                gl.bindTexture(boundTexture.type, null);\n                boundTexture.type = undefined;\n                boundTexture.texture = undefined;\n            }\n        }\n\n        function compressedTexImage2D() {\n            try {\n                gl.compressedTexImage2D.apply(gl, arguments);\n            } catch (error) {\n                console.error('THREE.WebGLState:', error);\n            }\n        }\n\n        function texImage2D() {\n            try {\n                gl.texImage2D.apply(gl, arguments);\n            } catch (error) {\n                console.error('THREE.WebGLState:', error);\n            }\n        }\n\n        function texImage3D() {\n            try {\n                gl.texImage3D.apply(gl, arguments);\n            } catch (error) {\n                console.error('THREE.WebGLState:', error);\n            }\n        } //\n\n\n        function scissor(scissor) {\n            if (currentScissor.equals(scissor) === false) {\n                gl.scissor(scissor.x, scissor.y, scissor.z, scissor.w);\n                currentScissor.copy(scissor);\n            }\n        }\n\n        function viewport(viewport) {\n            if (currentViewport.equals(viewport) === false) {\n                gl.viewport(viewport.x, viewport.y, viewport.z, viewport.w);\n                currentViewport.copy(viewport);\n            }\n        } //\n\n\n        function reset() {\n            // reset state\n            gl.disable(3042);\n            gl.disable(2884);\n            gl.disable(2929);\n            gl.disable(32823);\n            gl.disable(3089);\n            gl.disable(2960);\n            gl.blendEquation(32774);\n            gl.blendFunc(1, 0);\n            gl.blendFuncSeparate(1, 0, 1, 0);\n            gl.colorMask(true, true, true, true);\n            gl.clearColor(0, 0, 0, 0);\n            gl.depthMask(true);\n            gl.depthFunc(513);\n            gl.clearDepth(1);\n            gl.stencilMask(0xffffffff);\n            gl.stencilFunc(519, 0, 0xffffffff);\n            gl.stencilOp(7680, 7680, 7680);\n            gl.clearStencil(0);\n            gl.cullFace(1029);\n            gl.frontFace(2305);\n            gl.polygonOffset(0, 0);\n            gl.activeTexture(33984);\n            gl.useProgram(null);\n            gl.lineWidth(1);\n            gl.scissor(0, 0, gl.canvas.width, gl.canvas.height);\n            gl.viewport(0, 0, gl.canvas.width, gl.canvas.height); // reset internals\n\n            enabledCapabilities = {};\n            currentTextureSlot = null;\n            currentBoundTextures = {};\n            currentProgram = null;\n            currentBlendingEnabled = false;\n            currentBlending = null;\n            currentBlendEquation = null;\n            currentBlendSrc = null;\n            currentBlendDst = null;\n            currentBlendEquationAlpha = null;\n            currentBlendSrcAlpha = null;\n            currentBlendDstAlpha = null;\n            currentPremultipledAlpha = false;\n            currentFlipSided = null;\n            currentCullFace = null;\n            currentLineWidth = null;\n            currentPolygonOffsetFactor = null;\n            currentPolygonOffsetUnits = null;\n            colorBuffer.reset();\n            depthBuffer.reset();\n            stencilBuffer.reset();\n        }\n\n        return {\n            buffers: {\n                color: colorBuffer,\n                depth: depthBuffer,\n                stencil: stencilBuffer\n            },\n            enable: enable,\n            disable: disable,\n            useProgram: useProgram,\n            setBlending: setBlending,\n            setMaterial: setMaterial,\n            setFlipSided: setFlipSided,\n            setCullFace: setCullFace,\n            setLineWidth: setLineWidth,\n            setPolygonOffset: setPolygonOffset,\n            setScissorTest: setScissorTest,\n            activeTexture: activeTexture,\n            bindTexture: bindTexture,\n            unbindTexture: unbindTexture,\n            compressedTexImage2D: compressedTexImage2D,\n            texImage2D: texImage2D,\n            texImage3D: texImage3D,\n            scissor: scissor,\n            viewport: viewport,\n            reset: reset\n        };\n    }\n\n    function WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info) {\n        var _wrappingToGL, _filterToGL;\n\n        var isWebGL2 = capabilities.isWebGL2;\n        var maxTextures = capabilities.maxTextures;\n        var maxCubemapSize = capabilities.maxCubemapSize;\n        var maxTextureSize = capabilities.maxTextureSize;\n        var maxSamples = capabilities.maxSamples;\n\n        var _videoTextures = new WeakMap();\n\n        var _canvas; // cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n        // also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n        // Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\n        var useOffscreenCanvas = false;\n\n        try {\n            useOffscreenCanvas = typeof OffscreenCanvas !== 'undefined' && new OffscreenCanvas(1, 1).getContext('2d') !== null;\n        } catch (err) { // Ignore any errors\n        }\n\n        function createCanvas(width, height) {\n            // Use OffscreenCanvas when available. Specially needed in web workers\n            return useOffscreenCanvas ? new OffscreenCanvas(width, height) : document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n        }\n\n        function resizeImage(image, needsPowerOfTwo, needsNewCanvas, maxSize) {\n            var scale = 1; // handle case if texture exceeds max size\n\n            if (image.width > maxSize || image.height > maxSize) {\n                scale = maxSize / Math.max(image.width, image.height);\n            } // only perform resize if necessary\n\n\n            if (scale < 1 || needsPowerOfTwo === true) {\n                // only perform resize for certain image types\n                if (typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement || typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement || typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap) {\n                    var floor = needsPowerOfTwo ? MathUtils.floorPowerOfTwo : Math.floor;\n                    var width = floor(scale * image.width);\n                    var height = floor(scale * image.height);\n                    if (_canvas === undefined) _canvas = createCanvas(width, height); // cube textures can't reuse the same canvas\n\n                    var canvas = needsNewCanvas ? createCanvas(width, height) : _canvas;\n                    canvas.width = width;\n                    canvas.height = height;\n                    var context = canvas.getContext('2d');\n                    context.drawImage(image, 0, 0, width, height);\n                    console.warn('THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').');\n                    return canvas;\n                } else {\n                    if ('data' in image) {\n                        console.warn('THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').');\n                    }\n\n                    return image;\n                }\n            }\n\n            return image;\n        }\n\n        function isPowerOfTwo(image) {\n            return MathUtils.isPowerOfTwo(image.width) && MathUtils.isPowerOfTwo(image.height);\n        }\n\n        function textureNeedsPowerOfTwo(texture) {\n            if (isWebGL2) return false;\n            return texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping || texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n        }\n\n        function textureNeedsGenerateMipmaps(texture, supportsMips) {\n            return texture.generateMipmaps && supportsMips && texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n        }\n\n        function generateMipmap(target, texture, width, height) {\n            _gl.generateMipmap(target);\n\n            var textureProperties = properties.get(texture);\n            textureProperties.__maxMipLevel = Math.log2(Math.max(width, height));\n        }\n\n        function getInternalFormat(internalFormatName, glFormat, glType) {\n            if (isWebGL2 === false) return glFormat;\n\n            if (internalFormatName !== null) {\n                if (_gl[internalFormatName] !== undefined) return _gl[internalFormatName];\n                console.warn('THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'');\n            }\n\n            var internalFormat = glFormat;\n\n            if (glFormat === 6403) {\n                if (glType === 5126) internalFormat = 33326;\n                if (glType === 5131) internalFormat = 33325;\n                if (glType === 5121) internalFormat = 33321;\n            }\n\n            if (glFormat === 6407) {\n                if (glType === 5126) internalFormat = 34837;\n                if (glType === 5131) internalFormat = 34843;\n                if (glType === 5121) internalFormat = 32849;\n            }\n\n            if (glFormat === 6408) {\n                if (glType === 5126) internalFormat = 34836;\n                if (glType === 5131) internalFormat = 34842;\n                if (glType === 5121) internalFormat = 32856;\n            }\n\n            if (internalFormat === 33325 || internalFormat === 33326 || internalFormat === 34842 || internalFormat === 34836) {\n                extensions.get('EXT_color_buffer_float');\n            }\n\n            return internalFormat;\n        } // Fallback filters for non-power-of-2 textures\n\n\n        function filterFallback(f) {\n            if (f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter) {\n                return 9728;\n            }\n\n            return 9729;\n        } //\n\n\n        function onTextureDispose(event) {\n            var texture = event.target;\n            texture.removeEventListener('dispose', onTextureDispose);\n            deallocateTexture(texture);\n\n            if (texture.isVideoTexture) {\n                _videoTextures.delete(texture);\n            }\n\n            info.memory.textures--;\n        }\n\n        function onRenderTargetDispose(event) {\n            var renderTarget = event.target;\n            renderTarget.removeEventListener('dispose', onRenderTargetDispose);\n            deallocateRenderTarget(renderTarget);\n            info.memory.textures--;\n        } //\n\n\n        function deallocateTexture(texture) {\n            var textureProperties = properties.get(texture);\n            if (textureProperties.__webglInit === undefined) return;\n\n            _gl.deleteTexture(textureProperties.__webglTexture);\n\n            properties.remove(texture);\n        }\n\n        function deallocateRenderTarget(renderTarget) {\n            var texture = renderTarget.texture;\n            var renderTargetProperties = properties.get(renderTarget);\n            var textureProperties = properties.get(texture);\n            if (!renderTarget) return;\n\n            if (textureProperties.__webglTexture !== undefined) {\n                _gl.deleteTexture(textureProperties.__webglTexture);\n            }\n\n            if (renderTarget.depthTexture) {\n                renderTarget.depthTexture.dispose();\n            }\n\n            if (renderTarget.isWebGLCubeRenderTarget) {\n                for (var i = 0; i < 6; i++) {\n                    _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer[i]);\n\n                    if (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer[i]);\n                }\n            } else {\n                _gl.deleteFramebuffer(renderTargetProperties.__webglFramebuffer);\n\n                if (renderTargetProperties.__webglDepthbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthbuffer);\n                if (renderTargetProperties.__webglMultisampledFramebuffer) _gl.deleteFramebuffer(renderTargetProperties.__webglMultisampledFramebuffer);\n                if (renderTargetProperties.__webglColorRenderbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglColorRenderbuffer);\n                if (renderTargetProperties.__webglDepthRenderbuffer) _gl.deleteRenderbuffer(renderTargetProperties.__webglDepthRenderbuffer);\n            }\n\n            properties.remove(texture);\n            properties.remove(renderTarget);\n        } //\n\n\n        var textureUnits = 0;\n\n        function resetTextureUnits() {\n            textureUnits = 0;\n        }\n\n        function allocateTextureUnit() {\n            var textureUnit = textureUnits;\n\n            if (textureUnit >= maxTextures) {\n                console.warn('THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures);\n            }\n\n            textureUnits += 1;\n            return textureUnit;\n        } //\n\n\n        function setTexture2D(texture, slot) {\n            var textureProperties = properties.get(texture);\n            if (texture.isVideoTexture) updateVideoTexture(texture);\n\n            if (texture.version > 0 && textureProperties.__version !== texture.version) {\n                var image = texture.image;\n\n                if (image === undefined) {\n                    console.warn('THREE.WebGLRenderer: Texture marked for update but image is undefined');\n                } else if (image.complete === false) {\n                    console.warn('THREE.WebGLRenderer: Texture marked for update but image is incomplete');\n                } else {\n                    uploadTexture(textureProperties, texture, slot);\n                    return;\n                }\n            }\n\n            state.activeTexture(33984 + slot);\n            state.bindTexture(3553, textureProperties.__webglTexture);\n        }\n\n        function setTexture2DArray(texture, slot) {\n            var textureProperties = properties.get(texture);\n\n            if (texture.version > 0 && textureProperties.__version !== texture.version) {\n                uploadTexture(textureProperties, texture, slot);\n                return;\n            }\n\n            state.activeTexture(33984 + slot);\n            state.bindTexture(35866, textureProperties.__webglTexture);\n        }\n\n        function setTexture3D(texture, slot) {\n            var textureProperties = properties.get(texture);\n\n            if (texture.version > 0 && textureProperties.__version !== texture.version) {\n                uploadTexture(textureProperties, texture, slot);\n                return;\n            }\n\n            state.activeTexture(33984 + slot);\n            state.bindTexture(32879, textureProperties.__webglTexture);\n        }\n\n        function setTextureCube(texture, slot) {\n            var textureProperties = properties.get(texture);\n\n            if (texture.version > 0 && textureProperties.__version !== texture.version) {\n                uploadCubeTexture(textureProperties, texture, slot);\n                return;\n            }\n\n            state.activeTexture(33984 + slot);\n            state.bindTexture(34067, textureProperties.__webglTexture);\n        }\n\n        var wrappingToGL = (_wrappingToGL = {}, _wrappingToGL[RepeatWrapping] = 10497, _wrappingToGL[ClampToEdgeWrapping] = 33071, _wrappingToGL[MirroredRepeatWrapping] = 33648, _wrappingToGL);\n        var filterToGL = (_filterToGL = {}, _filterToGL[NearestFilter] = 9728, _filterToGL[NearestMipmapNearestFilter] = 9984, _filterToGL[NearestMipmapLinearFilter] = 9986, _filterToGL[LinearFilter] = 9729, _filterToGL[LinearMipmapNearestFilter] = 9985, _filterToGL[LinearMipmapLinearFilter] = 9987, _filterToGL);\n\n        function setTextureParameters(textureType, texture, supportsMips) {\n            if (supportsMips) {\n                _gl.texParameteri(textureType, 10242, wrappingToGL[texture.wrapS]);\n\n                _gl.texParameteri(textureType, 10243, wrappingToGL[texture.wrapT]);\n\n                if (textureType === 32879 || textureType === 35866) {\n                    _gl.texParameteri(textureType, 32882, wrappingToGL[texture.wrapR]);\n                }\n\n                _gl.texParameteri(textureType, 10240, filterToGL[texture.magFilter]);\n\n                _gl.texParameteri(textureType, 10241, filterToGL[texture.minFilter]);\n            } else {\n                _gl.texParameteri(textureType, 10242, 33071);\n\n                _gl.texParameteri(textureType, 10243, 33071);\n\n                if (textureType === 32879 || textureType === 35866) {\n                    _gl.texParameteri(textureType, 32882, 33071);\n                }\n\n                if (texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping) {\n                    console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.');\n                }\n\n                _gl.texParameteri(textureType, 10240, filterFallback(texture.magFilter));\n\n                _gl.texParameteri(textureType, 10241, filterFallback(texture.minFilter));\n\n                if (texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter) {\n                    console.warn('THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.');\n                }\n            }\n\n            if (extensions.has('EXT_texture_filter_anisotropic') === true) {\n                var extension = extensions.get('EXT_texture_filter_anisotropic');\n                if (texture.type === FloatType && extensions.has('OES_texture_float_linear') === false) return; // verify extension for WebGL 1 and WebGL 2\n\n                if (isWebGL2 === false && texture.type === HalfFloatType && extensions.has('OES_texture_half_float_linear') === false) return; // verify extension for WebGL 1 only\n\n                if (texture.anisotropy > 1 || properties.get(texture).__currentAnisotropy) {\n                    _gl.texParameterf(textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(texture.anisotropy, capabilities.getMaxAnisotropy()));\n\n                    properties.get(texture).__currentAnisotropy = texture.anisotropy;\n                }\n            }\n        }\n\n        function initTexture(textureProperties, texture) {\n            if (textureProperties.__webglInit === undefined) {\n                textureProperties.__webglInit = true;\n                texture.addEventListener('dispose', onTextureDispose);\n                textureProperties.__webglTexture = _gl.createTexture();\n                info.memory.textures++;\n            }\n        }\n\n        function uploadTexture(textureProperties, texture, slot) {\n            var textureType = 3553;\n            if (texture.isDataTexture2DArray) textureType = 35866;\n            if (texture.isDataTexture3D) textureType = 32879;\n            initTexture(textureProperties, texture);\n            state.activeTexture(33984 + slot);\n            state.bindTexture(textureType, textureProperties.__webglTexture);\n\n            _gl.pixelStorei(37440, texture.flipY);\n\n            _gl.pixelStorei(37441, texture.premultiplyAlpha);\n\n            _gl.pixelStorei(3317, texture.unpackAlignment);\n\n            _gl.pixelStorei(37443, 0);\n\n            var needsPowerOfTwo = textureNeedsPowerOfTwo(texture) && isPowerOfTwo(texture.image) === false;\n            var image = resizeImage(texture.image, needsPowerOfTwo, false, maxTextureSize);\n            var supportsMips = isPowerOfTwo(image) || isWebGL2,\n                glFormat = utils.convert(texture.format);\n            var glType = utils.convert(texture.type),\n                glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType);\n            setTextureParameters(textureType, texture, supportsMips);\n            var mipmap;\n            var mipmaps = texture.mipmaps;\n\n            if (texture.isDepthTexture) {\n                // populate depth texture with dummy data\n                glInternalFormat = 6402;\n\n                if (isWebGL2) {\n                    if (texture.type === FloatType) {\n                        glInternalFormat = 36012;\n                    } else if (texture.type === UnsignedIntType) {\n                        glInternalFormat = 33190;\n                    } else if (texture.type === UnsignedInt248Type) {\n                        glInternalFormat = 35056;\n                    } else {\n                        glInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n                    }\n                } else {\n                    if (texture.type === FloatType) {\n                        console.error('WebGLRenderer: Floating point depth texture requires WebGL2.');\n                    }\n                } // validation checks for WebGL 1\n\n\n                if (texture.format === DepthFormat && glInternalFormat === 6402) {\n                    // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n                    // DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n                    // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n                    if (texture.type !== UnsignedShortType && texture.type !== UnsignedIntType) {\n                        console.warn('THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.');\n                        texture.type = UnsignedShortType;\n                        glType = utils.convert(texture.type);\n                    }\n                }\n\n                if (texture.format === DepthStencilFormat && glInternalFormat === 6402) {\n                    // Depth stencil textures need the DEPTH_STENCIL internal format\n                    // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n                    glInternalFormat = 34041; // The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n                    // DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n                    // (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\n                    if (texture.type !== UnsignedInt248Type) {\n                        console.warn('THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.');\n                        texture.type = UnsignedInt248Type;\n                        glType = utils.convert(texture.type);\n                    }\n                } //\n\n\n                state.texImage2D(3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null);\n            } else if (texture.isDataTexture) {\n                // use manually created mipmaps if available\n                // if there are no manual mipmaps\n                // set 0 level mipmap and then use GL to generate other mipmap levels\n                if (mipmaps.length > 0 && supportsMips) {\n                    for (var i = 0, il = mipmaps.length; i < il; i++) {\n                        mipmap = mipmaps[i];\n                        state.texImage2D(3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n                    }\n\n                    texture.generateMipmaps = false;\n                    textureProperties.__maxMipLevel = mipmaps.length - 1;\n                } else {\n                    state.texImage2D(3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data);\n                    textureProperties.__maxMipLevel = 0;\n                }\n            } else if (texture.isCompressedTexture) {\n                for (var _i = 0, _il = mipmaps.length; _i < _il; _i++) {\n                    mipmap = mipmaps[_i];\n\n                    if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {\n                        if (glFormat !== null) {\n                            state.compressedTexImage2D(3553, _i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n                        } else {\n                            console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()');\n                        }\n                    } else {\n                        state.texImage2D(3553, _i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n                    }\n                }\n\n                textureProperties.__maxMipLevel = mipmaps.length - 1;\n            } else if (texture.isDataTexture2DArray) {\n                state.texImage3D(35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data);\n                textureProperties.__maxMipLevel = 0;\n            } else if (texture.isDataTexture3D) {\n                state.texImage3D(32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data);\n                textureProperties.__maxMipLevel = 0;\n            } else {\n                // regular Texture (image, video, canvas)\n                // use manually created mipmaps if available\n                // if there are no manual mipmaps\n                // set 0 level mipmap and then use GL to generate other mipmap levels\n                if (mipmaps.length > 0 && supportsMips) {\n                    for (var _i2 = 0, _il2 = mipmaps.length; _i2 < _il2; _i2++) {\n                        mipmap = mipmaps[_i2];\n                        state.texImage2D(3553, _i2, glInternalFormat, glFormat, glType, mipmap);\n                    }\n\n                    texture.generateMipmaps = false;\n                    textureProperties.__maxMipLevel = mipmaps.length - 1;\n                } else {\n                    state.texImage2D(3553, 0, glInternalFormat, glFormat, glType, image);\n                    textureProperties.__maxMipLevel = 0;\n                }\n            }\n\n            if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n                generateMipmap(textureType, texture, image.width, image.height);\n            }\n\n            textureProperties.__version = texture.version;\n            if (texture.onUpdate) texture.onUpdate(texture);\n        }\n\n        function uploadCubeTexture(textureProperties, texture, slot) {\n            if (texture.image.length !== 6) return;\n            initTexture(textureProperties, texture);\n            state.activeTexture(33984 + slot);\n            state.bindTexture(34067, textureProperties.__webglTexture);\n\n            _gl.pixelStorei(37440, texture.flipY);\n\n            _gl.pixelStorei(37441, texture.premultiplyAlpha);\n\n            _gl.pixelStorei(3317, texture.unpackAlignment);\n\n            _gl.pixelStorei(37443, 0);\n\n            var isCompressed = texture && (texture.isCompressedTexture || texture.image[0].isCompressedTexture);\n            var isDataTexture = texture.image[0] && texture.image[0].isDataTexture;\n            var cubeImage = [];\n\n            for (var i = 0; i < 6; i++) {\n                if (!isCompressed && !isDataTexture) {\n                    cubeImage[i] = resizeImage(texture.image[i], false, true, maxCubemapSize);\n                } else {\n                    cubeImage[i] = isDataTexture ? texture.image[i].image : texture.image[i];\n                }\n            }\n\n            var image = cubeImage[0],\n                supportsMips = isPowerOfTwo(image) || isWebGL2,\n                glFormat = utils.convert(texture.format),\n                glType = utils.convert(texture.type),\n                glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType);\n            setTextureParameters(34067, texture, supportsMips);\n            var mipmaps;\n\n            if (isCompressed) {\n                for (var _i3 = 0; _i3 < 6; _i3++) {\n                    mipmaps = cubeImage[_i3].mipmaps;\n\n                    for (var j = 0; j < mipmaps.length; j++) {\n                        var mipmap = mipmaps[j];\n\n                        if (texture.format !== RGBAFormat && texture.format !== RGBFormat) {\n                            if (glFormat !== null) {\n                                state.compressedTexImage2D(34069 + _i3, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data);\n                            } else {\n                                console.warn('THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()');\n                            }\n                        } else {\n                            state.texImage2D(34069 + _i3, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data);\n                        }\n                    }\n                }\n\n                textureProperties.__maxMipLevel = mipmaps.length - 1;\n            } else {\n                mipmaps = texture.mipmaps;\n\n                for (var _i4 = 0; _i4 < 6; _i4++) {\n                    if (isDataTexture) {\n                        state.texImage2D(34069 + _i4, 0, glInternalFormat, cubeImage[_i4].width, cubeImage[_i4].height, 0, glFormat, glType, cubeImage[_i4].data);\n\n                        for (var _j = 0; _j < mipmaps.length; _j++) {\n                            var _mipmap = mipmaps[_j];\n                            var mipmapImage = _mipmap.image[_i4].image;\n                            state.texImage2D(34069 + _i4, _j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data);\n                        }\n                    } else {\n                        state.texImage2D(34069 + _i4, 0, glInternalFormat, glFormat, glType, cubeImage[_i4]);\n\n                        for (var _j2 = 0; _j2 < mipmaps.length; _j2++) {\n                            var _mipmap2 = mipmaps[_j2];\n                            state.texImage2D(34069 + _i4, _j2 + 1, glInternalFormat, glFormat, glType, _mipmap2.image[_i4]);\n                        }\n                    }\n                }\n\n                textureProperties.__maxMipLevel = mipmaps.length;\n            }\n\n            if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n                // We assume images for cube map have the same size.\n                generateMipmap(34067, texture, image.width, image.height);\n            }\n\n            textureProperties.__version = texture.version;\n            if (texture.onUpdate) texture.onUpdate(texture);\n        } // Render targets\n        // Setup storage for target texture and bind it to correct framebuffer\n\n\n        function setupFrameBufferTexture(framebuffer, renderTarget, attachment, textureTarget) {\n            var texture = renderTarget.texture;\n            var glFormat = utils.convert(texture.format);\n            var glType = utils.convert(texture.type);\n            var glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType);\n\n            if (textureTarget === 32879 || textureTarget === 35866) {\n                state.texImage3D(textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, renderTarget.depth, 0, glFormat, glType, null);\n            } else {\n                state.texImage2D(textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null);\n            }\n\n            _gl.bindFramebuffer(36160, framebuffer);\n\n            _gl.framebufferTexture2D(36160, attachment, textureTarget, properties.get(texture).__webglTexture, 0);\n\n            _gl.bindFramebuffer(36160, null);\n        } // Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\n\n        function setupRenderBufferStorage(renderbuffer, renderTarget, isMultisample) {\n            _gl.bindRenderbuffer(36161, renderbuffer);\n\n            if (renderTarget.depthBuffer && !renderTarget.stencilBuffer) {\n                var glInternalFormat = 33189;\n\n                if (isMultisample) {\n                    var depthTexture = renderTarget.depthTexture;\n\n                    if (depthTexture && depthTexture.isDepthTexture) {\n                        if (depthTexture.type === FloatType) {\n                            glInternalFormat = 36012;\n                        } else if (depthTexture.type === UnsignedIntType) {\n                            glInternalFormat = 33190;\n                        }\n                    }\n\n                    var samples = getRenderTargetSamples(renderTarget);\n\n                    _gl.renderbufferStorageMultisample(36161, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n                } else {\n                    _gl.renderbufferStorage(36161, glInternalFormat, renderTarget.width, renderTarget.height);\n                }\n\n                _gl.framebufferRenderbuffer(36160, 36096, 36161, renderbuffer);\n            } else if (renderTarget.depthBuffer && renderTarget.stencilBuffer) {\n                if (isMultisample) {\n                    var _samples = getRenderTargetSamples(renderTarget);\n\n                    _gl.renderbufferStorageMultisample(36161, _samples, 35056, renderTarget.width, renderTarget.height);\n                } else {\n                    _gl.renderbufferStorage(36161, 34041, renderTarget.width, renderTarget.height);\n                }\n\n                _gl.framebufferRenderbuffer(36160, 33306, 36161, renderbuffer);\n            } else {\n                var texture = renderTarget.texture;\n                var glFormat = utils.convert(texture.format);\n                var glType = utils.convert(texture.type);\n\n                var _glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType);\n\n                if (isMultisample) {\n                    var _samples2 = getRenderTargetSamples(renderTarget);\n\n                    _gl.renderbufferStorageMultisample(36161, _samples2, _glInternalFormat, renderTarget.width, renderTarget.height);\n                } else {\n                    _gl.renderbufferStorage(36161, _glInternalFormat, renderTarget.width, renderTarget.height);\n                }\n            }\n\n            _gl.bindRenderbuffer(36161, null);\n        } // Setup resources for a Depth Texture for a FBO (needs an extension)\n\n\n        function setupDepthTexture(framebuffer, renderTarget) {\n            var isCube = renderTarget && renderTarget.isWebGLCubeRenderTarget;\n            if (isCube) throw new Error('Depth Texture with cube render targets is not supported');\n\n            _gl.bindFramebuffer(36160, framebuffer);\n\n            if (!(renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture)) {\n                throw new Error('renderTarget.depthTexture must be an instance of THREE.DepthTexture');\n            } // upload an empty depth texture with framebuffer size\n\n\n            if (!properties.get(renderTarget.depthTexture).__webglTexture || renderTarget.depthTexture.image.width !== renderTarget.width || renderTarget.depthTexture.image.height !== renderTarget.height) {\n                renderTarget.depthTexture.image.width = renderTarget.width;\n                renderTarget.depthTexture.image.height = renderTarget.height;\n                renderTarget.depthTexture.needsUpdate = true;\n            }\n\n            setTexture2D(renderTarget.depthTexture, 0);\n\n            var webglDepthTexture = properties.get(renderTarget.depthTexture).__webglTexture;\n\n            if (renderTarget.depthTexture.format === DepthFormat) {\n                _gl.framebufferTexture2D(36160, 36096, 3553, webglDepthTexture, 0);\n            } else if (renderTarget.depthTexture.format === DepthStencilFormat) {\n                _gl.framebufferTexture2D(36160, 33306, 3553, webglDepthTexture, 0);\n            } else {\n                throw new Error('Unknown depthTexture format');\n            }\n        } // Setup GL resources for a non-texture depth buffer\n\n\n        function setupDepthRenderbuffer(renderTarget) {\n            var renderTargetProperties = properties.get(renderTarget);\n            var isCube = renderTarget.isWebGLCubeRenderTarget === true;\n\n            if (renderTarget.depthTexture) {\n                if (isCube) throw new Error('target.depthTexture not supported in Cube render targets');\n                setupDepthTexture(renderTargetProperties.__webglFramebuffer, renderTarget);\n            } else {\n                if (isCube) {\n                    renderTargetProperties.__webglDepthbuffer = [];\n\n                    for (var i = 0; i < 6; i++) {\n                        _gl.bindFramebuffer(36160, renderTargetProperties.__webglFramebuffer[i]);\n\n                        renderTargetProperties.__webglDepthbuffer[i] = _gl.createRenderbuffer();\n                        setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer[i], renderTarget, false);\n                    }\n                } else {\n                    _gl.bindFramebuffer(36160, renderTargetProperties.__webglFramebuffer);\n\n                    renderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n                    setupRenderBufferStorage(renderTargetProperties.__webglDepthbuffer, renderTarget, false);\n                }\n            }\n\n            _gl.bindFramebuffer(36160, null);\n        } // Set up GL resources for the render target\n\n\n        function setupRenderTarget(renderTarget) {\n            var texture = renderTarget.texture;\n            var renderTargetProperties = properties.get(renderTarget);\n            var textureProperties = properties.get(texture);\n            renderTarget.addEventListener('dispose', onRenderTargetDispose);\n            textureProperties.__webglTexture = _gl.createTexture();\n            info.memory.textures++;\n            var isCube = renderTarget.isWebGLCubeRenderTarget === true;\n            var isMultisample = renderTarget.isWebGLMultisampleRenderTarget === true;\n            var isRenderTarget3D = texture.isDataTexture3D || texture.isDataTexture2DArray;\n            var supportsMips = isPowerOfTwo(renderTarget) || isWebGL2; // Handles WebGL2 RGBFormat fallback - #18858\n\n            if (isWebGL2 && texture.format === RGBFormat && (texture.type === FloatType || texture.type === HalfFloatType)) {\n                texture.format = RGBAFormat;\n                console.warn('THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.');\n            } // Setup framebuffer\n\n\n            if (isCube) {\n                renderTargetProperties.__webglFramebuffer = [];\n\n                for (var i = 0; i < 6; i++) {\n                    renderTargetProperties.__webglFramebuffer[i] = _gl.createFramebuffer();\n                }\n            } else {\n                renderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n                if (isMultisample) {\n                    if (isWebGL2) {\n                        renderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n                        renderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n                        _gl.bindRenderbuffer(36161, renderTargetProperties.__webglColorRenderbuffer);\n\n                        var glFormat = utils.convert(texture.format);\n                        var glType = utils.convert(texture.type);\n                        var glInternalFormat = getInternalFormat(texture.internalFormat, glFormat, glType);\n                        var samples = getRenderTargetSamples(renderTarget);\n\n                        _gl.renderbufferStorageMultisample(36161, samples, glInternalFormat, renderTarget.width, renderTarget.height);\n\n                        _gl.bindFramebuffer(36160, renderTargetProperties.__webglMultisampledFramebuffer);\n\n                        _gl.framebufferRenderbuffer(36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer);\n\n                        _gl.bindRenderbuffer(36161, null);\n\n                        if (renderTarget.depthBuffer) {\n                            renderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n                            setupRenderBufferStorage(renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true);\n                        }\n\n                        _gl.bindFramebuffer(36160, null);\n                    } else {\n                        console.warn('THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.');\n                    }\n                }\n            } // Setup color buffer\n\n\n            if (isCube) {\n                state.bindTexture(34067, textureProperties.__webglTexture);\n                setTextureParameters(34067, texture, supportsMips);\n\n                for (var _i5 = 0; _i5 < 6; _i5++) {\n                    setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer[_i5], renderTarget, 36064, 34069 + _i5);\n                }\n\n                if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n                    generateMipmap(34067, texture, renderTarget.width, renderTarget.height);\n                }\n\n                state.bindTexture(34067, null);\n            } else {\n                var glTextureType = 3553;\n\n                if (isRenderTarget3D) {\n                    // Render targets containing layers, i.e: Texture 3D and 2d arrays\n                    if (isWebGL2) {\n                        var isTexture3D = texture.isDataTexture3D;\n                        glTextureType = isTexture3D ? 32879 : 35866;\n                    } else {\n                        console.warn('THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.');\n                    }\n                }\n\n                state.bindTexture(glTextureType, textureProperties.__webglTexture);\n                setTextureParameters(glTextureType, texture, supportsMips);\n                setupFrameBufferTexture(renderTargetProperties.__webglFramebuffer, renderTarget, 36064, glTextureType);\n\n                if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n                    generateMipmap(3553, texture, renderTarget.width, renderTarget.height);\n                }\n\n                state.bindTexture(3553, null);\n            } // Setup depth and stencil buffers\n\n\n            if (renderTarget.depthBuffer) {\n                setupDepthRenderbuffer(renderTarget);\n            }\n        }\n\n        function updateRenderTargetMipmap(renderTarget) {\n            var texture = renderTarget.texture;\n            var supportsMips = isPowerOfTwo(renderTarget) || isWebGL2;\n\n            if (textureNeedsGenerateMipmaps(texture, supportsMips)) {\n                var target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\n                var webglTexture = properties.get(texture).__webglTexture;\n\n                state.bindTexture(target, webglTexture);\n                generateMipmap(target, texture, renderTarget.width, renderTarget.height);\n                state.bindTexture(target, null);\n            }\n        }\n\n        function updateMultisampleRenderTarget(renderTarget) {\n            if (renderTarget.isWebGLMultisampleRenderTarget) {\n                if (isWebGL2) {\n                    var renderTargetProperties = properties.get(renderTarget);\n\n                    _gl.bindFramebuffer(36008, renderTargetProperties.__webglMultisampledFramebuffer);\n\n                    _gl.bindFramebuffer(36009, renderTargetProperties.__webglFramebuffer);\n\n                    var width = renderTarget.width;\n                    var height = renderTarget.height;\n                    var mask = 16384;\n                    if (renderTarget.depthBuffer) mask |= 256;\n                    if (renderTarget.stencilBuffer) mask |= 1024;\n\n                    _gl.blitFramebuffer(0, 0, width, height, 0, 0, width, height, mask, 9728);\n\n                    _gl.bindFramebuffer(36160, renderTargetProperties.__webglMultisampledFramebuffer); // see #18905\n\n                } else {\n                    console.warn('THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.');\n                }\n            }\n        }\n\n        function getRenderTargetSamples(renderTarget) {\n            return isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ? Math.min(maxSamples, renderTarget.samples) : 0;\n        }\n\n        function updateVideoTexture(texture) {\n            var frame = info.render.frame; // Check the last frame we updated the VideoTexture\n\n            if (_videoTextures.get(texture) !== frame) {\n                _videoTextures.set(texture, frame);\n\n                texture.update();\n            }\n        } // backwards compatibility\n\n\n        var warnedTexture2D = false;\n        var warnedTextureCube = false;\n\n        function safeSetTexture2D(texture, slot) {\n            if (texture && texture.isWebGLRenderTarget) {\n                if (warnedTexture2D === false) {\n                    console.warn('THREE.WebGLTextures.safeSetTexture2D: don\\'t use render targets as textures. Use their .texture property instead.');\n                    warnedTexture2D = true;\n                }\n\n                texture = texture.texture;\n            }\n\n            setTexture2D(texture, slot);\n        }\n\n        function safeSetTextureCube(texture, slot) {\n            if (texture && texture.isWebGLCubeRenderTarget) {\n                if (warnedTextureCube === false) {\n                    console.warn('THREE.WebGLTextures.safeSetTextureCube: don\\'t use cube render targets as textures. Use their .texture property instead.');\n                    warnedTextureCube = true;\n                }\n\n                texture = texture.texture;\n            }\n\n            setTextureCube(texture, slot);\n        } //\n\n\n        this.allocateTextureUnit = allocateTextureUnit;\n        this.resetTextureUnits = resetTextureUnits;\n        this.setTexture2D = setTexture2D;\n        this.setTexture2DArray = setTexture2DArray;\n        this.setTexture3D = setTexture3D;\n        this.setTextureCube = setTextureCube;\n        this.setupRenderTarget = setupRenderTarget;\n        this.updateRenderTargetMipmap = updateRenderTargetMipmap;\n        this.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n        this.safeSetTexture2D = safeSetTexture2D;\n        this.safeSetTextureCube = safeSetTextureCube;\n    }\n\n    function WebGLUtils(gl, extensions, capabilities) {\n        var isWebGL2 = capabilities.isWebGL2;\n\n        function convert(p) {\n            var extension;\n            if (p === UnsignedByteType) return 5121;\n            if (p === UnsignedShort4444Type) return 32819;\n            if (p === UnsignedShort5551Type) return 32820;\n            if (p === UnsignedShort565Type) return 33635;\n            if (p === ByteType) return 5120;\n            if (p === ShortType) return 5122;\n            if (p === UnsignedShortType) return 5123;\n            if (p === IntType) return 5124;\n            if (p === UnsignedIntType) return 5125;\n            if (p === FloatType) return 5126;\n\n            if (p === HalfFloatType) {\n                if (isWebGL2) return 5131;\n                extension = extensions.get('OES_texture_half_float');\n\n                if (extension !== null) {\n                    return extension.HALF_FLOAT_OES;\n                } else {\n                    return null;\n                }\n            }\n\n            if (p === AlphaFormat) return 6406;\n            if (p === RGBFormat) return 6407;\n            if (p === RGBAFormat) return 6408;\n            if (p === LuminanceFormat) return 6409;\n            if (p === LuminanceAlphaFormat) return 6410;\n            if (p === DepthFormat) return 6402;\n            if (p === DepthStencilFormat) return 34041;\n            if (p === RedFormat) return 6403; // WebGL2 formats.\n\n            if (p === RedIntegerFormat) return 36244;\n            if (p === RGFormat) return 33319;\n            if (p === RGIntegerFormat) return 33320;\n            if (p === RGBIntegerFormat) return 36248;\n            if (p === RGBAIntegerFormat) return 36249;\n\n            if (p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format || p === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format) {\n                extension = extensions.get('WEBGL_compressed_texture_s3tc');\n\n                if (extension !== null) {\n                    if (p === RGB_S3TC_DXT1_Format) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n                    if (p === RGBA_S3TC_DXT1_Format) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n                    if (p === RGBA_S3TC_DXT3_Format) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n                    if (p === RGBA_S3TC_DXT5_Format) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n                } else {\n                    return null;\n                }\n            }\n\n            if (p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format || p === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format) {\n                extension = extensions.get('WEBGL_compressed_texture_pvrtc');\n\n                if (extension !== null) {\n                    if (p === RGB_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n                    if (p === RGB_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n                    if (p === RGBA_PVRTC_4BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n                    if (p === RGBA_PVRTC_2BPPV1_Format) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n                } else {\n                    return null;\n                }\n            }\n\n            if (p === RGB_ETC1_Format) {\n                extension = extensions.get('WEBGL_compressed_texture_etc1');\n\n                if (extension !== null) {\n                    return extension.COMPRESSED_RGB_ETC1_WEBGL;\n                } else {\n                    return null;\n                }\n            }\n\n            if (p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format) {\n                extension = extensions.get('WEBGL_compressed_texture_etc');\n\n                if (extension !== null) {\n                    if (p === RGB_ETC2_Format) return extension.COMPRESSED_RGB8_ETC2;\n                    if (p === RGBA_ETC2_EAC_Format) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n                }\n            }\n\n            if (p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format || p === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format || p === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format || p === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format || p === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format || p === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format || p === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format || p === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format || p === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format || p === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format) {\n                extension = extensions.get('WEBGL_compressed_texture_astc');\n\n                if (extension !== null) {\n                    // TODO Complete?\n                    return p;\n                } else {\n                    return null;\n                }\n            }\n\n            if (p === RGBA_BPTC_Format) {\n                extension = extensions.get('EXT_texture_compression_bptc');\n\n                if (extension !== null) {\n                    // TODO Complete?\n                    return p;\n                } else {\n                    return null;\n                }\n            }\n\n            if (p === UnsignedInt248Type) {\n                if (isWebGL2) return 34042;\n                extension = extensions.get('WEBGL_depth_texture');\n\n                if (extension !== null) {\n                    return extension.UNSIGNED_INT_24_8_WEBGL;\n                } else {\n                    return null;\n                }\n            }\n        }\n\n        return {\n            convert: convert\n        };\n    }\n\n    function ArrayCamera(array) {\n        if (array === void 0) {\n            array = [];\n        }\n\n        PerspectiveCamera.call(this);\n        this.cameras = array;\n    }\n\n    ArrayCamera.prototype = Object.assign(Object.create(PerspectiveCamera.prototype), {\n        constructor: ArrayCamera,\n        isArrayCamera: true\n    });\n\n    var Group = /*#__PURE__*/ function(_Object3D) {\n        _inheritsLoose(Group, _Object3D);\n\n        function Group() {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this.type = 'Group';\n            return _this;\n        }\n\n        return Group;\n    }(Object3D);\n\n    Group.prototype.isGroup = true;\n\n    function WebXRController() {\n        this._targetRay = null;\n        this._grip = null;\n        this._hand = null;\n    }\n\n    Object.assign(WebXRController.prototype, {\n        constructor: WebXRController,\n        getHandSpace: function getHandSpace() {\n            if (this._hand === null) {\n                this._hand = new Group();\n                this._hand.matrixAutoUpdate = false;\n                this._hand.visible = false;\n                this._hand.joints = {};\n                this._hand.inputState = {\n                    pinching: false\n                };\n            }\n\n            return this._hand;\n        },\n        getTargetRaySpace: function getTargetRaySpace() {\n            if (this._targetRay === null) {\n                this._targetRay = new Group();\n                this._targetRay.matrixAutoUpdate = false;\n                this._targetRay.visible = false;\n            }\n\n            return this._targetRay;\n        },\n        getGripSpace: function getGripSpace() {\n            if (this._grip === null) {\n                this._grip = new Group();\n                this._grip.matrixAutoUpdate = false;\n                this._grip.visible = false;\n            }\n\n            return this._grip;\n        },\n        dispatchEvent: function dispatchEvent(event) {\n            if (this._targetRay !== null) {\n                this._targetRay.dispatchEvent(event);\n            }\n\n            if (this._grip !== null) {\n                this._grip.dispatchEvent(event);\n            }\n\n            if (this._hand !== null) {\n                this._hand.dispatchEvent(event);\n            }\n\n            return this;\n        },\n        disconnect: function disconnect(inputSource) {\n            this.dispatchEvent({\n                type: 'disconnected',\n                data: inputSource\n            });\n\n            if (this._targetRay !== null) {\n                this._targetRay.visible = false;\n            }\n\n            if (this._grip !== null) {\n                this._grip.visible = false;\n            }\n\n            if (this._hand !== null) {\n                this._hand.visible = false;\n            }\n\n            return this;\n        },\n        update: function update(inputSource, frame, referenceSpace) {\n            var inputPose = null;\n            var gripPose = null;\n            var handPose = null;\n            var targetRay = this._targetRay;\n            var grip = this._grip;\n            var hand = this._hand;\n\n            if (inputSource && frame.session.visibilityState !== 'visible-blurred') {\n                if (hand && inputSource.hand) {\n                    handPose = true;\n\n                    for (var _iterator = _createForOfIteratorHelperLoose(inputSource.hand.values()), _step; !(_step = _iterator()).done;) {\n                        var inputjoint = _step.value;\n                        // Update the joints groups with the XRJoint poses\n                        var jointPose = frame.getJointPose(inputjoint, referenceSpace);\n\n                        if (hand.joints[inputjoint.jointName] === undefined) {\n                            // The transform of this joint will be updated with the joint pose on each frame\n                            var _joint = new Group();\n\n                            _joint.matrixAutoUpdate = false;\n                            _joint.visible = false;\n                            hand.joints[inputjoint.jointName] = _joint; // ??\n\n                            hand.add(_joint);\n                        }\n\n                        var joint = hand.joints[inputjoint.jointName];\n\n                        if (jointPose !== null) {\n                            joint.matrix.fromArray(jointPose.transform.matrix);\n                            joint.matrix.decompose(joint.position, joint.rotation, joint.scale);\n                            joint.jointRadius = jointPose.radius;\n                        }\n\n                        joint.visible = jointPose !== null;\n                    } // Custom events\n                    // Check pinchz\n\n\n                    var indexTip = hand.joints['index-finger-tip'];\n                    var thumbTip = hand.joints['thumb-tip'];\n                    var distance = indexTip.position.distanceTo(thumbTip.position);\n                    var distanceToPinch = 0.02;\n                    var threshold = 0.005;\n\n                    if (hand.inputState.pinching && distance > distanceToPinch + threshold) {\n                        hand.inputState.pinching = false;\n                        this.dispatchEvent({\n                            type: 'pinchend',\n                            handedness: inputSource.handedness,\n                            target: this\n                        });\n                    } else if (!hand.inputState.pinching && distance <= distanceToPinch - threshold) {\n                        hand.inputState.pinching = true;\n                        this.dispatchEvent({\n                            type: 'pinchstart',\n                            handedness: inputSource.handedness,\n                            target: this\n                        });\n                    }\n                } else {\n                    if (targetRay !== null) {\n                        inputPose = frame.getPose(inputSource.targetRaySpace, referenceSpace);\n\n                        if (inputPose !== null) {\n                            targetRay.matrix.fromArray(inputPose.transform.matrix);\n                            targetRay.matrix.decompose(targetRay.position, targetRay.rotation, targetRay.scale);\n                        }\n                    }\n\n                    if (grip !== null && inputSource.gripSpace) {\n                        gripPose = frame.getPose(inputSource.gripSpace, referenceSpace);\n\n                        if (gripPose !== null) {\n                            grip.matrix.fromArray(gripPose.transform.matrix);\n                            grip.matrix.decompose(grip.position, grip.rotation, grip.scale);\n                        }\n                    }\n                }\n            }\n\n            if (targetRay !== null) {\n                targetRay.visible = inputPose !== null;\n            }\n\n            if (grip !== null) {\n                grip.visible = gripPose !== null;\n            }\n\n            if (hand !== null) {\n                hand.visible = handPose !== null;\n            }\n\n            return this;\n        }\n    });\n\n    function WebXRManager(renderer, gl) {\n        var scope = this;\n        var session = null;\n        var framebufferScaleFactor = 1.0;\n        var referenceSpace = null;\n        var referenceSpaceType = 'local-floor';\n        var pose = null;\n        var controllers = [];\n        var inputSourcesMap = new Map(); //\n\n        var cameraL = new PerspectiveCamera();\n        cameraL.layers.enable(1);\n        cameraL.viewport = new Vector4();\n        var cameraR = new PerspectiveCamera();\n        cameraR.layers.enable(2);\n        cameraR.viewport = new Vector4();\n        var cameras = [cameraL, cameraR];\n        var cameraVR = new ArrayCamera();\n        cameraVR.layers.enable(1);\n        cameraVR.layers.enable(2);\n        var _currentDepthNear = null;\n        var _currentDepthFar = null; //\n\n        this.enabled = false;\n        this.isPresenting = false;\n\n        this.getController = function(index) {\n            var controller = controllers[index];\n\n            if (controller === undefined) {\n                controller = new WebXRController();\n                controllers[index] = controller;\n            }\n\n            return controller.getTargetRaySpace();\n        };\n\n        this.getControllerGrip = function(index) {\n            var controller = controllers[index];\n\n            if (controller === undefined) {\n                controller = new WebXRController();\n                controllers[index] = controller;\n            }\n\n            return controller.getGripSpace();\n        };\n\n        this.getHand = function(index) {\n            var controller = controllers[index];\n\n            if (controller === undefined) {\n                controller = new WebXRController();\n                controllers[index] = controller;\n            }\n\n            return controller.getHandSpace();\n        }; //\n\n\n        function onSessionEvent(event) {\n            var controller = inputSourcesMap.get(event.inputSource);\n\n            if (controller) {\n                controller.dispatchEvent({\n                    type: event.type,\n                    data: event.inputSource\n                });\n            }\n        }\n\n        function onSessionEnd() {\n            inputSourcesMap.forEach(function(controller, inputSource) {\n                controller.disconnect(inputSource);\n            });\n            inputSourcesMap.clear();\n            _currentDepthNear = null;\n            _currentDepthFar = null; //\n\n            renderer.setFramebuffer(null);\n            renderer.setRenderTarget(renderer.getRenderTarget()); // Hack #15830\n\n            animation.stop();\n            scope.isPresenting = false;\n            scope.dispatchEvent({\n                type: 'sessionend'\n            });\n        }\n\n        this.setFramebufferScaleFactor = function(value) {\n            framebufferScaleFactor = value;\n\n            if (scope.isPresenting === true) {\n                console.warn('THREE.WebXRManager: Cannot change framebuffer scale while presenting.');\n            }\n        };\n\n        this.setReferenceSpaceType = function(value) {\n            referenceSpaceType = value;\n\n            if (scope.isPresenting === true) {\n                console.warn('THREE.WebXRManager: Cannot change reference space type while presenting.');\n            }\n        };\n\n        this.getReferenceSpace = function() {\n            return referenceSpace;\n        };\n\n        this.getSession = function() {\n            return session;\n        };\n\n        this.setSession = /*#__PURE__*/ function() {\n            var _ref = _asyncToGenerator( /*#__PURE__*/ regeneratorRuntime.mark(function _callee(value) {\n                var attributes, layerInit, baseLayer;\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                session = value;\n\n                                if (!(session !== null)) {\n                                    _context.next = 24;\n                                    break;\n                                }\n\n                                session.addEventListener('select', onSessionEvent);\n                                session.addEventListener('selectstart', onSessionEvent);\n                                session.addEventListener('selectend', onSessionEvent);\n                                session.addEventListener('squeeze', onSessionEvent);\n                                session.addEventListener('squeezestart', onSessionEvent);\n                                session.addEventListener('squeezeend', onSessionEvent);\n                                session.addEventListener('end', onSessionEnd);\n                                session.addEventListener('inputsourceschange', onInputSourcesChange);\n                                attributes = gl.getContextAttributes();\n\n                                if (!(attributes.xrCompatible !== true)) {\n                                    _context.next = 14;\n                                    break;\n                                }\n\n                                _context.next = 14;\n                                return gl.makeXRCompatible();\n\n                            case 14:\n                                layerInit = {\n                                    antialias: attributes.antialias,\n                                    alpha: attributes.alpha,\n                                    depth: attributes.depth,\n                                    stencil: attributes.stencil,\n                                    framebufferScaleFactor: framebufferScaleFactor\n                                }; // eslint-disable-next-line no-undef\n\n                                baseLayer = new XRWebGLLayer(session, gl, layerInit);\n                                session.updateRenderState({\n                                    baseLayer: baseLayer\n                                });\n                                _context.next = 19;\n                                return session.requestReferenceSpace(referenceSpaceType);\n\n                            case 19:\n                                referenceSpace = _context.sent;\n                                animation.setContext(session);\n                                animation.start();\n                                scope.isPresenting = true;\n                                scope.dispatchEvent({\n                                    type: 'sessionstart'\n                                });\n\n                            case 24:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee);\n            }));\n\n            return function(_x) {\n                return _ref.apply(this, arguments);\n            };\n        }();\n\n        function onInputSourcesChange(event) {\n            var inputSources = session.inputSources; // Assign inputSources to available controllers\n\n            for (var i = 0; i < controllers.length; i++) {\n                inputSourcesMap.set(inputSources[i], controllers[i]);\n            } // Notify disconnected\n\n\n            for (var _i = 0; _i < event.removed.length; _i++) {\n                var inputSource = event.removed[_i];\n                var controller = inputSourcesMap.get(inputSource);\n\n                if (controller) {\n                    controller.dispatchEvent({\n                        type: 'disconnected',\n                        data: inputSource\n                    });\n                    inputSourcesMap.delete(inputSource);\n                }\n            } // Notify connected\n\n\n            for (var _i2 = 0; _i2 < event.added.length; _i2++) {\n                var _inputSource = event.added[_i2];\n\n                var _controller = inputSourcesMap.get(_inputSource);\n\n                if (_controller) {\n                    _controller.dispatchEvent({\n                        type: 'connected',\n                        data: _inputSource\n                    });\n                }\n            }\n        } //\n\n\n        var cameraLPos = new Vector3();\n        var cameraRPos = new Vector3();\n        /**\n         * Assumes 2 cameras that are parallel and share an X-axis, and that\n         * the cameras' projection and world matrices have already been set.\n         * And that near and far planes are identical for both cameras.\n         * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n         */\n\n        function setProjectionFromUnion(camera, cameraL, cameraR) {\n            cameraLPos.setFromMatrixPosition(cameraL.matrixWorld);\n            cameraRPos.setFromMatrixPosition(cameraR.matrixWorld);\n            var ipd = cameraLPos.distanceTo(cameraRPos);\n            var projL = cameraL.projectionMatrix.elements;\n            var projR = cameraR.projectionMatrix.elements; // VR systems will have identical far and near planes, and\n            // most likely identical top and bottom frustum extents.\n            // Use the left camera for these values.\n\n            var near = projL[14] / (projL[10] - 1);\n            var far = projL[14] / (projL[10] + 1);\n            var topFov = (projL[9] + 1) / projL[5];\n            var bottomFov = (projL[9] - 1) / projL[5];\n            var leftFov = (projL[8] - 1) / projL[0];\n            var rightFov = (projR[8] + 1) / projR[0];\n            var left = near * leftFov;\n            var right = near * rightFov; // Calculate the new camera's position offset from the\n            // left camera. xOffset should be roughly half `ipd`.\n\n            var zOffset = ipd / (-leftFov + rightFov);\n            var xOffset = zOffset * -leftFov; // TODO: Better way to apply this offset?\n\n            cameraL.matrixWorld.decompose(camera.position, camera.quaternion, camera.scale);\n            camera.translateX(xOffset);\n            camera.translateZ(zOffset);\n            camera.matrixWorld.compose(camera.position, camera.quaternion, camera.scale);\n            camera.matrixWorldInverse.copy(camera.matrixWorld).invert(); // Find the union of the frustum values of the cameras and scale\n            // the values so that the near plane's position does not change in world space,\n            // although must now be relative to the new union camera.\n\n            var near2 = near + zOffset;\n            var far2 = far + zOffset;\n            var left2 = left - xOffset;\n            var right2 = right + (ipd - xOffset);\n            var top2 = topFov * far / far2 * near2;\n            var bottom2 = bottomFov * far / far2 * near2;\n            camera.projectionMatrix.makePerspective(left2, right2, top2, bottom2, near2, far2);\n        }\n\n        function updateCamera(camera, parent) {\n            if (parent === null) {\n                camera.matrixWorld.copy(camera.matrix);\n            } else {\n                camera.matrixWorld.multiplyMatrices(parent.matrixWorld, camera.matrix);\n            }\n\n            camera.matrixWorldInverse.copy(camera.matrixWorld).invert();\n        }\n\n        this.getCamera = function(camera) {\n            cameraVR.near = cameraR.near = cameraL.near = camera.near;\n            cameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n            if (_currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far) {\n                // Note that the new renderState won't apply until the next frame. See #18320\n                session.updateRenderState({\n                    depthNear: cameraVR.near,\n                    depthFar: cameraVR.far\n                });\n                _currentDepthNear = cameraVR.near;\n                _currentDepthFar = cameraVR.far;\n            }\n\n            var parent = camera.parent;\n            var cameras = cameraVR.cameras;\n            updateCamera(cameraVR, parent);\n\n            for (var i = 0; i < cameras.length; i++) {\n                updateCamera(cameras[i], parent);\n            } // update camera and its children\n\n\n            camera.matrixWorld.copy(cameraVR.matrixWorld);\n            camera.matrix.copy(cameraVR.matrix);\n            camera.matrix.decompose(camera.position, camera.quaternion, camera.scale);\n            var children = camera.children;\n\n            for (var _i3 = 0, l = children.length; _i3 < l; _i3++) {\n                children[_i3].updateMatrixWorld(true);\n            } // update projection matrix for proper view frustum culling\n\n\n            if (cameras.length === 2) {\n                setProjectionFromUnion(cameraVR, cameraL, cameraR);\n            } else {\n                // assume single camera setup (AR)\n                cameraVR.projectionMatrix.copy(cameraL.projectionMatrix);\n            }\n\n            return cameraVR;\n        }; // Animation Loop\n\n\n        var onAnimationFrameCallback = null;\n\n        function onAnimationFrame(time, frame) {\n            pose = frame.getViewerPose(referenceSpace);\n\n            if (pose !== null) {\n                var views = pose.views;\n                var baseLayer = session.renderState.baseLayer;\n                renderer.setFramebuffer(baseLayer.framebuffer);\n                var cameraVRNeedsUpdate = false; // check if it's necessary to rebuild cameraVR's camera list\n\n                if (views.length !== cameraVR.cameras.length) {\n                    cameraVR.cameras.length = 0;\n                    cameraVRNeedsUpdate = true;\n                }\n\n                for (var i = 0; i < views.length; i++) {\n                    var view = views[i];\n                    var viewport = baseLayer.getViewport(view);\n                    var camera = cameras[i];\n                    camera.matrix.fromArray(view.transform.matrix);\n                    camera.projectionMatrix.fromArray(view.projectionMatrix);\n                    camera.viewport.set(viewport.x, viewport.y, viewport.width, viewport.height);\n\n                    if (i === 0) {\n                        cameraVR.matrix.copy(camera.matrix);\n                    }\n\n                    if (cameraVRNeedsUpdate === true) {\n                        cameraVR.cameras.push(camera);\n                    }\n                }\n            } //\n\n\n            var inputSources = session.inputSources;\n\n            for (var _i4 = 0; _i4 < controllers.length; _i4++) {\n                var controller = controllers[_i4];\n                var inputSource = inputSources[_i4];\n                controller.update(inputSource, frame, referenceSpace);\n            }\n\n            if (onAnimationFrameCallback) onAnimationFrameCallback(time, frame);\n        }\n\n        var animation = new WebGLAnimation();\n        animation.setAnimationLoop(onAnimationFrame);\n\n        this.setAnimationLoop = function(callback) {\n            onAnimationFrameCallback = callback;\n        };\n\n        this.dispose = function() {};\n    }\n\n    Object.assign(WebXRManager.prototype, EventDispatcher.prototype);\n\n    function WebGLMaterials(properties) {\n        function refreshFogUniforms(uniforms, fog) {\n            uniforms.fogColor.value.copy(fog.color);\n\n            if (fog.isFog) {\n                uniforms.fogNear.value = fog.near;\n                uniforms.fogFar.value = fog.far;\n            } else if (fog.isFogExp2) {\n                uniforms.fogDensity.value = fog.density;\n            }\n        }\n\n        function refreshMaterialUniforms(uniforms, material, pixelRatio, height) {\n            if (material.isMeshBasicMaterial) {\n                refreshUniformsCommon(uniforms, material);\n            } else if (material.isMeshLambertMaterial) {\n                refreshUniformsCommon(uniforms, material);\n                refreshUniformsLambert(uniforms, material);\n            } else if (material.isMeshToonMaterial) {\n                refreshUniformsCommon(uniforms, material);\n                refreshUniformsToon(uniforms, material);\n            } else if (material.isMeshPhongMaterial) {\n                refreshUniformsCommon(uniforms, material);\n                refreshUniformsPhong(uniforms, material);\n            } else if (material.isMeshStandardMaterial) {\n                refreshUniformsCommon(uniforms, material);\n\n                if (material.isMeshPhysicalMaterial) {\n                    refreshUniformsPhysical(uniforms, material);\n                } else {\n                    refreshUniformsStandard(uniforms, material);\n                }\n            } else if (material.isMeshMatcapMaterial) {\n                refreshUniformsCommon(uniforms, material);\n                refreshUniformsMatcap(uniforms, material);\n            } else if (material.isMeshDepthMaterial) {\n                refreshUniformsCommon(uniforms, material);\n                refreshUniformsDepth(uniforms, material);\n            } else if (material.isMeshDistanceMaterial) {\n                refreshUniformsCommon(uniforms, material);\n                refreshUniformsDistance(uniforms, material);\n            } else if (material.isMeshNormalMaterial) {\n                refreshUniformsCommon(uniforms, material);\n                refreshUniformsNormal(uniforms, material);\n            } else if (material.isLineBasicMaterial) {\n                refreshUniformsLine(uniforms, material);\n\n                if (material.isLineDashedMaterial) {\n                    refreshUniformsDash(uniforms, material);\n                }\n            } else if (material.isPointsMaterial) {\n                refreshUniformsPoints(uniforms, material, pixelRatio, height);\n            } else if (material.isSpriteMaterial) {\n                refreshUniformsSprites(uniforms, material);\n            } else if (material.isShadowMaterial) {\n                uniforms.color.value.copy(material.color);\n                uniforms.opacity.value = material.opacity;\n            } else if (material.isShaderMaterial) {\n                material.uniformsNeedUpdate = false; // #15581\n            }\n        }\n\n        function refreshUniformsCommon(uniforms, material) {\n            uniforms.opacity.value = material.opacity;\n\n            if (material.color) {\n                uniforms.diffuse.value.copy(material.color);\n            }\n\n            if (material.emissive) {\n                uniforms.emissive.value.copy(material.emissive).multiplyScalar(material.emissiveIntensity);\n            }\n\n            if (material.map) {\n                uniforms.map.value = material.map;\n            }\n\n            if (material.alphaMap) {\n                uniforms.alphaMap.value = material.alphaMap;\n            }\n\n            if (material.specularMap) {\n                uniforms.specularMap.value = material.specularMap;\n            }\n\n            var envMap = properties.get(material).envMap;\n\n            if (envMap) {\n                uniforms.envMap.value = envMap;\n                uniforms.flipEnvMap.value = envMap.isCubeTexture && envMap._needsFlipEnvMap ? -1 : 1;\n                uniforms.reflectivity.value = material.reflectivity;\n                uniforms.refractionRatio.value = material.refractionRatio;\n\n                var maxMipLevel = properties.get(envMap).__maxMipLevel;\n\n                if (maxMipLevel !== undefined) {\n                    uniforms.maxMipLevel.value = maxMipLevel;\n                }\n            }\n\n            if (material.lightMap) {\n                uniforms.lightMap.value = material.lightMap;\n                uniforms.lightMapIntensity.value = material.lightMapIntensity;\n            }\n\n            if (material.aoMap) {\n                uniforms.aoMap.value = material.aoMap;\n                uniforms.aoMapIntensity.value = material.aoMapIntensity;\n            } // uv repeat and offset setting priorities\n            // 1. color map\n            // 2. specular map\n            // 3. displacementMap map\n            // 4. normal map\n            // 5. bump map\n            // 6. roughnessMap map\n            // 7. metalnessMap map\n            // 8. alphaMap map\n            // 9. emissiveMap map\n            // 10. clearcoat map\n            // 11. clearcoat normal map\n            // 12. clearcoat roughnessMap map\n\n\n            var uvScaleMap;\n\n            if (material.map) {\n                uvScaleMap = material.map;\n            } else if (material.specularMap) {\n                uvScaleMap = material.specularMap;\n            } else if (material.displacementMap) {\n                uvScaleMap = material.displacementMap;\n            } else if (material.normalMap) {\n                uvScaleMap = material.normalMap;\n            } else if (material.bumpMap) {\n                uvScaleMap = material.bumpMap;\n            } else if (material.roughnessMap) {\n                uvScaleMap = material.roughnessMap;\n            } else if (material.metalnessMap) {\n                uvScaleMap = material.metalnessMap;\n            } else if (material.alphaMap) {\n                uvScaleMap = material.alphaMap;\n            } else if (material.emissiveMap) {\n                uvScaleMap = material.emissiveMap;\n            } else if (material.clearcoatMap) {\n                uvScaleMap = material.clearcoatMap;\n            } else if (material.clearcoatNormalMap) {\n                uvScaleMap = material.clearcoatNormalMap;\n            } else if (material.clearcoatRoughnessMap) {\n                uvScaleMap = material.clearcoatRoughnessMap;\n            }\n\n            if (uvScaleMap !== undefined) {\n                // backwards compatibility\n                if (uvScaleMap.isWebGLRenderTarget) {\n                    uvScaleMap = uvScaleMap.texture;\n                }\n\n                if (uvScaleMap.matrixAutoUpdate === true) {\n                    uvScaleMap.updateMatrix();\n                }\n\n                uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n            } // uv repeat and offset setting priorities for uv2\n            // 1. ao map\n            // 2. light map\n\n\n            var uv2ScaleMap;\n\n            if (material.aoMap) {\n                uv2ScaleMap = material.aoMap;\n            } else if (material.lightMap) {\n                uv2ScaleMap = material.lightMap;\n            }\n\n            if (uv2ScaleMap !== undefined) {\n                // backwards compatibility\n                if (uv2ScaleMap.isWebGLRenderTarget) {\n                    uv2ScaleMap = uv2ScaleMap.texture;\n                }\n\n                if (uv2ScaleMap.matrixAutoUpdate === true) {\n                    uv2ScaleMap.updateMatrix();\n                }\n\n                uniforms.uv2Transform.value.copy(uv2ScaleMap.matrix);\n            }\n        }\n\n        function refreshUniformsLine(uniforms, material) {\n            uniforms.diffuse.value.copy(material.color);\n            uniforms.opacity.value = material.opacity;\n        }\n\n        function refreshUniformsDash(uniforms, material) {\n            uniforms.dashSize.value = material.dashSize;\n            uniforms.totalSize.value = material.dashSize + material.gapSize;\n            uniforms.scale.value = material.scale;\n        }\n\n        function refreshUniformsPoints(uniforms, material, pixelRatio, height) {\n            uniforms.diffuse.value.copy(material.color);\n            uniforms.opacity.value = material.opacity;\n            uniforms.size.value = material.size * pixelRatio;\n            uniforms.scale.value = height * 0.5;\n\n            if (material.map) {\n                uniforms.map.value = material.map;\n            }\n\n            if (material.alphaMap) {\n                uniforms.alphaMap.value = material.alphaMap;\n            } // uv repeat and offset setting priorities\n            // 1. color map\n            // 2. alpha map\n\n\n            var uvScaleMap;\n\n            if (material.map) {\n                uvScaleMap = material.map;\n            } else if (material.alphaMap) {\n                uvScaleMap = material.alphaMap;\n            }\n\n            if (uvScaleMap !== undefined) {\n                if (uvScaleMap.matrixAutoUpdate === true) {\n                    uvScaleMap.updateMatrix();\n                }\n\n                uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n            }\n        }\n\n        function refreshUniformsSprites(uniforms, material) {\n            uniforms.diffuse.value.copy(material.color);\n            uniforms.opacity.value = material.opacity;\n            uniforms.rotation.value = material.rotation;\n\n            if (material.map) {\n                uniforms.map.value = material.map;\n            }\n\n            if (material.alphaMap) {\n                uniforms.alphaMap.value = material.alphaMap;\n            } // uv repeat and offset setting priorities\n            // 1. color map\n            // 2. alpha map\n\n\n            var uvScaleMap;\n\n            if (material.map) {\n                uvScaleMap = material.map;\n            } else if (material.alphaMap) {\n                uvScaleMap = material.alphaMap;\n            }\n\n            if (uvScaleMap !== undefined) {\n                if (uvScaleMap.matrixAutoUpdate === true) {\n                    uvScaleMap.updateMatrix();\n                }\n\n                uniforms.uvTransform.value.copy(uvScaleMap.matrix);\n            }\n        }\n\n        function refreshUniformsLambert(uniforms, material) {\n            if (material.emissiveMap) {\n                uniforms.emissiveMap.value = material.emissiveMap;\n            }\n        }\n\n        function refreshUniformsPhong(uniforms, material) {\n            uniforms.specular.value.copy(material.specular);\n            uniforms.shininess.value = Math.max(material.shininess, 1e-4); // to prevent pow( 0.0, 0.0 )\n\n            if (material.emissiveMap) {\n                uniforms.emissiveMap.value = material.emissiveMap;\n            }\n\n            if (material.bumpMap) {\n                uniforms.bumpMap.value = material.bumpMap;\n                uniforms.bumpScale.value = material.bumpScale;\n                if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n            }\n\n            if (material.normalMap) {\n                uniforms.normalMap.value = material.normalMap;\n                uniforms.normalScale.value.copy(material.normalScale);\n                if (material.side === BackSide) uniforms.normalScale.value.negate();\n            }\n\n            if (material.displacementMap) {\n                uniforms.displacementMap.value = material.displacementMap;\n                uniforms.displacementScale.value = material.displacementScale;\n                uniforms.displacementBias.value = material.displacementBias;\n            }\n        }\n\n        function refreshUniformsToon(uniforms, material) {\n            if (material.gradientMap) {\n                uniforms.gradientMap.value = material.gradientMap;\n            }\n\n            if (material.emissiveMap) {\n                uniforms.emissiveMap.value = material.emissiveMap;\n            }\n\n            if (material.bumpMap) {\n                uniforms.bumpMap.value = material.bumpMap;\n                uniforms.bumpScale.value = material.bumpScale;\n                if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n            }\n\n            if (material.normalMap) {\n                uniforms.normalMap.value = material.normalMap;\n                uniforms.normalScale.value.copy(material.normalScale);\n                if (material.side === BackSide) uniforms.normalScale.value.negate();\n            }\n\n            if (material.displacementMap) {\n                uniforms.displacementMap.value = material.displacementMap;\n                uniforms.displacementScale.value = material.displacementScale;\n                uniforms.displacementBias.value = material.displacementBias;\n            }\n        }\n\n        function refreshUniformsStandard(uniforms, material) {\n            uniforms.roughness.value = material.roughness;\n            uniforms.metalness.value = material.metalness;\n\n            if (material.roughnessMap) {\n                uniforms.roughnessMap.value = material.roughnessMap;\n            }\n\n            if (material.metalnessMap) {\n                uniforms.metalnessMap.value = material.metalnessMap;\n            }\n\n            if (material.emissiveMap) {\n                uniforms.emissiveMap.value = material.emissiveMap;\n            }\n\n            if (material.bumpMap) {\n                uniforms.bumpMap.value = material.bumpMap;\n                uniforms.bumpScale.value = material.bumpScale;\n                if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n            }\n\n            if (material.normalMap) {\n                uniforms.normalMap.value = material.normalMap;\n                uniforms.normalScale.value.copy(material.normalScale);\n                if (material.side === BackSide) uniforms.normalScale.value.negate();\n            }\n\n            if (material.displacementMap) {\n                uniforms.displacementMap.value = material.displacementMap;\n                uniforms.displacementScale.value = material.displacementScale;\n                uniforms.displacementBias.value = material.displacementBias;\n            }\n\n            var envMap = properties.get(material).envMap;\n\n            if (envMap) {\n                //uniforms.envMap.value = material.envMap; // part of uniforms common\n                uniforms.envMapIntensity.value = material.envMapIntensity;\n            }\n        }\n\n        function refreshUniformsPhysical(uniforms, material) {\n            refreshUniformsStandard(uniforms, material);\n            uniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n            uniforms.clearcoat.value = material.clearcoat;\n            uniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n            if (material.sheen) uniforms.sheen.value.copy(material.sheen);\n\n            if (material.clearcoatMap) {\n                uniforms.clearcoatMap.value = material.clearcoatMap;\n            }\n\n            if (material.clearcoatRoughnessMap) {\n                uniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n            }\n\n            if (material.clearcoatNormalMap) {\n                uniforms.clearcoatNormalScale.value.copy(material.clearcoatNormalScale);\n                uniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n                if (material.side === BackSide) {\n                    uniforms.clearcoatNormalScale.value.negate();\n                }\n            }\n\n            uniforms.transmission.value = material.transmission;\n\n            if (material.transmissionMap) {\n                uniforms.transmissionMap.value = material.transmissionMap;\n            }\n        }\n\n        function refreshUniformsMatcap(uniforms, material) {\n            if (material.matcap) {\n                uniforms.matcap.value = material.matcap;\n            }\n\n            if (material.bumpMap) {\n                uniforms.bumpMap.value = material.bumpMap;\n                uniforms.bumpScale.value = material.bumpScale;\n                if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n            }\n\n            if (material.normalMap) {\n                uniforms.normalMap.value = material.normalMap;\n                uniforms.normalScale.value.copy(material.normalScale);\n                if (material.side === BackSide) uniforms.normalScale.value.negate();\n            }\n\n            if (material.displacementMap) {\n                uniforms.displacementMap.value = material.displacementMap;\n                uniforms.displacementScale.value = material.displacementScale;\n                uniforms.displacementBias.value = material.displacementBias;\n            }\n        }\n\n        function refreshUniformsDepth(uniforms, material) {\n            if (material.displacementMap) {\n                uniforms.displacementMap.value = material.displacementMap;\n                uniforms.displacementScale.value = material.displacementScale;\n                uniforms.displacementBias.value = material.displacementBias;\n            }\n        }\n\n        function refreshUniformsDistance(uniforms, material) {\n            if (material.displacementMap) {\n                uniforms.displacementMap.value = material.displacementMap;\n                uniforms.displacementScale.value = material.displacementScale;\n                uniforms.displacementBias.value = material.displacementBias;\n            }\n\n            uniforms.referencePosition.value.copy(material.referencePosition);\n            uniforms.nearDistance.value = material.nearDistance;\n            uniforms.farDistance.value = material.farDistance;\n        }\n\n        function refreshUniformsNormal(uniforms, material) {\n            if (material.bumpMap) {\n                uniforms.bumpMap.value = material.bumpMap;\n                uniforms.bumpScale.value = material.bumpScale;\n                if (material.side === BackSide) uniforms.bumpScale.value *= -1;\n            }\n\n            if (material.normalMap) {\n                uniforms.normalMap.value = material.normalMap;\n                uniforms.normalScale.value.copy(material.normalScale);\n                if (material.side === BackSide) uniforms.normalScale.value.negate();\n            }\n\n            if (material.displacementMap) {\n                uniforms.displacementMap.value = material.displacementMap;\n                uniforms.displacementScale.value = material.displacementScale;\n                uniforms.displacementBias.value = material.displacementBias;\n            }\n        }\n\n        return {\n            refreshFogUniforms: refreshFogUniforms,\n            refreshMaterialUniforms: refreshMaterialUniforms\n        };\n    }\n\n    function createCanvasElement() {\n        var canvas = document.createElementNS('http://www.w3.org/1999/xhtml', 'canvas');\n        canvas.style.display = 'block';\n        return canvas;\n    }\n\n    function WebGLRenderer(parameters) {\n        parameters = parameters || {};\n\n        var _canvas = parameters.canvas !== undefined ? parameters.canvas : createCanvasElement(),\n            _context = parameters.context !== undefined ? parameters.context : null,\n            _alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n            _depth = parameters.depth !== undefined ? parameters.depth : true,\n            _stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n            _antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n            _premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n            _preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n            _powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n            _failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n        var currentRenderList = null;\n        var currentRenderState = null; // render() can be called from within a callback triggered by another render.\n        // We track this so that the nested render call gets its list and state isolated from the parent render call.\n\n        var renderListStack = [];\n        var renderStateStack = []; // public properties\n\n        this.domElement = _canvas; // Debug configuration container\n\n        this.debug = {\n            /**\n             * Enables error checking and reporting when shader programs are being compiled\n             * @type {boolean}\n             */\n            checkShaderErrors: true\n        }; // clearing\n\n        this.autoClear = true;\n        this.autoClearColor = true;\n        this.autoClearDepth = true;\n        this.autoClearStencil = true; // scene graph\n\n        this.sortObjects = true; // user-defined clipping\n\n        this.clippingPlanes = [];\n        this.localClippingEnabled = false; // physically based shading\n\n        this.gammaFactor = 2.0; // for backwards compatibility\n\n        this.outputEncoding = LinearEncoding; // physical lights\n\n        this.physicallyCorrectLights = false; // tone mapping\n\n        this.toneMapping = NoToneMapping;\n        this.toneMappingExposure = 1.0; // morphs\n\n        this.maxMorphTargets = 8;\n        this.maxMorphNormals = 4; // internal properties\n\n        var _this = this;\n\n        var _isContextLost = false; // internal state cache\n\n        var _framebuffer = null;\n        var _currentActiveCubeFace = 0;\n        var _currentActiveMipmapLevel = 0;\n        var _currentRenderTarget = null;\n        var _currentFramebuffer = null;\n\n        var _currentMaterialId = -1;\n\n        var _currentCamera = null;\n\n        var _currentViewport = new Vector4();\n\n        var _currentScissor = new Vector4();\n\n        var _currentScissorTest = null; //\n\n        var _width = _canvas.width;\n        var _height = _canvas.height;\n        var _pixelRatio = 1;\n        var _opaqueSort = null;\n        var _transparentSort = null;\n\n        var _viewport = new Vector4(0, 0, _width, _height);\n\n        var _scissor = new Vector4(0, 0, _width, _height);\n\n        var _scissorTest = false; // frustum\n\n        var _frustum = new Frustum(); // clipping\n\n\n        var _clippingEnabled = false;\n        var _localClippingEnabled = false; // camera matrices cache\n\n        var _projScreenMatrix = new Matrix4();\n\n        var _vector3 = new Vector3();\n\n        var _emptyScene = {\n            background: null,\n            fog: null,\n            environment: null,\n            overrideMaterial: null,\n            isScene: true\n        };\n\n        function getTargetPixelRatio() {\n            return _currentRenderTarget === null ? _pixelRatio : 1;\n        } // initialize\n\n\n        var _gl = _context;\n\n        function getContext(contextNames, contextAttributes) {\n            for (var i = 0; i < contextNames.length; i++) {\n                var contextName = contextNames[i];\n\n                var context = _canvas.getContext(contextName, contextAttributes);\n\n                if (context !== null) return context;\n            }\n\n            return null;\n        }\n\n        try {\n            var contextAttributes = {\n                alpha: _alpha,\n                depth: _depth,\n                stencil: _stencil,\n                antialias: _antialias,\n                premultipliedAlpha: _premultipliedAlpha,\n                preserveDrawingBuffer: _preserveDrawingBuffer,\n                powerPreference: _powerPreference,\n                failIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n            }; // event listeners must be registered before WebGL context is created, see #12753\n\n            _canvas.addEventListener('webglcontextlost', onContextLost, false);\n\n            _canvas.addEventListener('webglcontextrestored', onContextRestore, false);\n\n            if (_gl === null) {\n                var contextNames = ['webgl2', 'webgl', 'experimental-webgl'];\n\n                if (_this.isWebGL1Renderer === true) {\n                    contextNames.shift();\n                }\n\n                _gl = getContext(contextNames, contextAttributes);\n\n                if (_gl === null) {\n                    if (getContext(contextNames)) {\n                        throw new Error('Error creating WebGL context with your selected attributes.');\n                    } else {\n                        throw new Error('Error creating WebGL context.');\n                    }\n                }\n            } // Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\n            if (_gl.getShaderPrecisionFormat === undefined) {\n                _gl.getShaderPrecisionFormat = function() {\n                    return {\n                        'rangeMin': 1,\n                        'rangeMax': 1,\n                        'precision': 1\n                    };\n                };\n            }\n        } catch (error) {\n            console.error('THREE.WebGLRenderer: ' + error.message);\n            throw error;\n        }\n\n        var extensions, capabilities, state, info;\n        var properties, textures, cubemaps, attributes, geometries, objects;\n        var programCache, materials, renderLists, renderStates, clipping;\n        var background, morphtargets, bufferRenderer, indexedBufferRenderer;\n        var utils, bindingStates;\n\n        function initGLContext() {\n            extensions = new WebGLExtensions(_gl);\n            capabilities = new WebGLCapabilities(_gl, extensions, parameters);\n            extensions.init(capabilities);\n            utils = new WebGLUtils(_gl, extensions, capabilities);\n            state = new WebGLState(_gl, extensions, capabilities);\n            state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor());\n            state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor());\n            info = new WebGLInfo(_gl);\n            properties = new WebGLProperties();\n            textures = new WebGLTextures(_gl, extensions, state, properties, capabilities, utils, info);\n            cubemaps = new WebGLCubeMaps(_this);\n            attributes = new WebGLAttributes(_gl, capabilities);\n            bindingStates = new WebGLBindingStates(_gl, extensions, attributes, capabilities);\n            geometries = new WebGLGeometries(_gl, attributes, info, bindingStates);\n            objects = new WebGLObjects(_gl, geometries, attributes, info);\n            morphtargets = new WebGLMorphtargets(_gl);\n            clipping = new WebGLClipping(properties);\n            programCache = new WebGLPrograms(_this, cubemaps, extensions, capabilities, bindingStates, clipping);\n            materials = new WebGLMaterials(properties);\n            renderLists = new WebGLRenderLists(properties);\n            renderStates = new WebGLRenderStates(extensions, capabilities);\n            background = new WebGLBackground(_this, cubemaps, state, objects, _premultipliedAlpha);\n            bufferRenderer = new WebGLBufferRenderer(_gl, extensions, info, capabilities);\n            indexedBufferRenderer = new WebGLIndexedBufferRenderer(_gl, extensions, info, capabilities);\n            info.programs = programCache.programs;\n            _this.capabilities = capabilities;\n            _this.extensions = extensions;\n            _this.properties = properties;\n            _this.renderLists = renderLists;\n            _this.state = state;\n            _this.info = info;\n        }\n\n        initGLContext(); // xr\n\n        var xr = new WebXRManager(_this, _gl);\n        this.xr = xr; // shadow map\n\n        var shadowMap = new WebGLShadowMap(_this, objects, capabilities.maxTextureSize);\n        this.shadowMap = shadowMap; // API\n\n        this.getContext = function() {\n            return _gl;\n        };\n\n        this.getContextAttributes = function() {\n            return _gl.getContextAttributes();\n        };\n\n        this.forceContextLoss = function() {\n            var extension = extensions.get('WEBGL_lose_context');\n            if (extension) extension.loseContext();\n        };\n\n        this.forceContextRestore = function() {\n            var extension = extensions.get('WEBGL_lose_context');\n            if (extension) extension.restoreContext();\n        };\n\n        this.getPixelRatio = function() {\n            return _pixelRatio;\n        };\n\n        this.setPixelRatio = function(value) {\n            if (value === undefined) return;\n            _pixelRatio = value;\n            this.setSize(_width, _height, false);\n        };\n\n        this.getSize = function(target) {\n            if (target === undefined) {\n                console.warn('WebGLRenderer: .getsize() now requires a Vector2 as an argument');\n                target = new Vector2();\n            }\n\n            return target.set(_width, _height);\n        };\n\n        this.setSize = function(width, height, updateStyle) {\n            if (xr.isPresenting) {\n                console.warn('THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.');\n                return;\n            }\n\n            _width = width;\n            _height = height;\n            _canvas.width = Math.floor(width * _pixelRatio);\n            _canvas.height = Math.floor(height * _pixelRatio);\n\n            if (updateStyle !== false) {\n                _canvas.style.width = width + 'px';\n                _canvas.style.height = height + 'px';\n            }\n\n            this.setViewport(0, 0, width, height);\n        };\n\n        this.getDrawingBufferSize = function(target) {\n            if (target === undefined) {\n                console.warn('WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument');\n                target = new Vector2();\n            }\n\n            return target.set(_width * _pixelRatio, _height * _pixelRatio).floor();\n        };\n\n        this.setDrawingBufferSize = function(width, height, pixelRatio) {\n            _width = width;\n            _height = height;\n            _pixelRatio = pixelRatio;\n            _canvas.width = Math.floor(width * pixelRatio);\n            _canvas.height = Math.floor(height * pixelRatio);\n            this.setViewport(0, 0, width, height);\n        };\n\n        this.getCurrentViewport = function(target) {\n            if (target === undefined) {\n                console.warn('WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument');\n                target = new Vector4();\n            }\n\n            return target.copy(_currentViewport);\n        };\n\n        this.getViewport = function(target) {\n            return target.copy(_viewport);\n        };\n\n        this.setViewport = function(x, y, width, height) {\n            if (x.isVector4) {\n                _viewport.set(x.x, x.y, x.z, x.w);\n            } else {\n                _viewport.set(x, y, width, height);\n            }\n\n            state.viewport(_currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor());\n        };\n\n        this.getScissor = function(target) {\n            return target.copy(_scissor);\n        };\n\n        this.setScissor = function(x, y, width, height) {\n            if (x.isVector4) {\n                _scissor.set(x.x, x.y, x.z, x.w);\n            } else {\n                _scissor.set(x, y, width, height);\n            }\n\n            state.scissor(_currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor());\n        };\n\n        this.getScissorTest = function() {\n            return _scissorTest;\n        };\n\n        this.setScissorTest = function(boolean) {\n            state.setScissorTest(_scissorTest = boolean);\n        };\n\n        this.setOpaqueSort = function(method) {\n            _opaqueSort = method;\n        };\n\n        this.setTransparentSort = function(method) {\n            _transparentSort = method;\n        }; // Clearing\n\n\n        this.getClearColor = function(target) {\n            if (target === undefined) {\n                console.warn('WebGLRenderer: .getClearColor() now requires a Color as an argument');\n                target = new Color();\n            }\n\n            return target.copy(background.getClearColor());\n        };\n\n        this.setClearColor = function() {\n            background.setClearColor.apply(background, arguments);\n        };\n\n        this.getClearAlpha = function() {\n            return background.getClearAlpha();\n        };\n\n        this.setClearAlpha = function() {\n            background.setClearAlpha.apply(background, arguments);\n        };\n\n        this.clear = function(color, depth, stencil) {\n            var bits = 0;\n            if (color === undefined || color) bits |= 16384;\n            if (depth === undefined || depth) bits |= 256;\n            if (stencil === undefined || stencil) bits |= 1024;\n\n            _gl.clear(bits);\n        };\n\n        this.clearColor = function() {\n            this.clear(true, false, false);\n        };\n\n        this.clearDepth = function() {\n            this.clear(false, true, false);\n        };\n\n        this.clearStencil = function() {\n            this.clear(false, false, true);\n        }; //\n\n\n        this.dispose = function() {\n            _canvas.removeEventListener('webglcontextlost', onContextLost, false);\n\n            _canvas.removeEventListener('webglcontextrestored', onContextRestore, false);\n\n            renderLists.dispose();\n            renderStates.dispose();\n            properties.dispose();\n            cubemaps.dispose();\n            objects.dispose();\n            bindingStates.dispose();\n            xr.dispose();\n            animation.stop();\n        }; // Events\n\n\n        function onContextLost(event) {\n            event.preventDefault();\n            console.log('THREE.WebGLRenderer: Context Lost.');\n            _isContextLost = true;\n        }\n\n        function onContextRestore()\n        /* event */\n        {\n            console.log('THREE.WebGLRenderer: Context Restored.');\n            _isContextLost = false;\n            initGLContext();\n        }\n\n        function onMaterialDispose(event) {\n            var material = event.target;\n            material.removeEventListener('dispose', onMaterialDispose);\n            deallocateMaterial(material);\n        } // Buffer deallocation\n\n\n        function deallocateMaterial(material) {\n            releaseMaterialProgramReference(material);\n            properties.remove(material);\n        }\n\n        function releaseMaterialProgramReference(material) {\n            var programInfo = properties.get(material).program;\n\n            if (programInfo !== undefined) {\n                programCache.releaseProgram(programInfo);\n            }\n        } // Buffer rendering\n\n\n        function renderObjectImmediate(object, program) {\n            object.render(function(object) {\n                _this.renderBufferImmediate(object, program);\n            });\n        }\n\n        this.renderBufferImmediate = function(object, program) {\n            bindingStates.initAttributes();\n            var buffers = properties.get(object);\n            if (object.hasPositions && !buffers.position) buffers.position = _gl.createBuffer();\n            if (object.hasNormals && !buffers.normal) buffers.normal = _gl.createBuffer();\n            if (object.hasUvs && !buffers.uv) buffers.uv = _gl.createBuffer();\n            if (object.hasColors && !buffers.color) buffers.color = _gl.createBuffer();\n            var programAttributes = program.getAttributes();\n\n            if (object.hasPositions) {\n                _gl.bindBuffer(34962, buffers.position);\n\n                _gl.bufferData(34962, object.positionArray, 35048);\n\n                bindingStates.enableAttribute(programAttributes.position);\n\n                _gl.vertexAttribPointer(programAttributes.position, 3, 5126, false, 0, 0);\n            }\n\n            if (object.hasNormals) {\n                _gl.bindBuffer(34962, buffers.normal);\n\n                _gl.bufferData(34962, object.normalArray, 35048);\n\n                bindingStates.enableAttribute(programAttributes.normal);\n\n                _gl.vertexAttribPointer(programAttributes.normal, 3, 5126, false, 0, 0);\n            }\n\n            if (object.hasUvs) {\n                _gl.bindBuffer(34962, buffers.uv);\n\n                _gl.bufferData(34962, object.uvArray, 35048);\n\n                bindingStates.enableAttribute(programAttributes.uv);\n\n                _gl.vertexAttribPointer(programAttributes.uv, 2, 5126, false, 0, 0);\n            }\n\n            if (object.hasColors) {\n                _gl.bindBuffer(34962, buffers.color);\n\n                _gl.bufferData(34962, object.colorArray, 35048);\n\n                bindingStates.enableAttribute(programAttributes.color);\n\n                _gl.vertexAttribPointer(programAttributes.color, 3, 5126, false, 0, 0);\n            }\n\n            bindingStates.disableUnusedAttributes();\n\n            _gl.drawArrays(4, 0, object.count);\n\n            object.count = 0;\n        };\n\n        this.renderBufferDirect = function(camera, scene, geometry, material, object, group) {\n            if (scene === null) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n            var frontFaceCW = object.isMesh && object.matrixWorld.determinant() < 0;\n            var program = setProgram(camera, scene, material, object);\n            state.setMaterial(material, frontFaceCW); //\n\n            var index = geometry.index;\n            var position = geometry.attributes.position; //\n\n            if (index === null) {\n                if (position === undefined || position.count === 0) return;\n            } else if (index.count === 0) {\n                return;\n            } //\n\n\n            var rangeFactor = 1;\n\n            if (material.wireframe === true) {\n                index = geometries.getWireframeAttribute(geometry);\n                rangeFactor = 2;\n            }\n\n            if (material.morphTargets || material.morphNormals) {\n                morphtargets.update(object, geometry, material, program);\n            }\n\n            bindingStates.setup(object, material, program, geometry, index);\n            var attribute;\n            var renderer = bufferRenderer;\n\n            if (index !== null) {\n                attribute = attributes.get(index);\n                renderer = indexedBufferRenderer;\n                renderer.setIndex(attribute);\n            } //\n\n\n            var dataCount = index !== null ? index.count : position.count;\n            var rangeStart = geometry.drawRange.start * rangeFactor;\n            var rangeCount = geometry.drawRange.count * rangeFactor;\n            var groupStart = group !== null ? group.start * rangeFactor : 0;\n            var groupCount = group !== null ? group.count * rangeFactor : Infinity;\n            var drawStart = Math.max(rangeStart, groupStart);\n            var drawEnd = Math.min(dataCount, rangeStart + rangeCount, groupStart + groupCount) - 1;\n            var drawCount = Math.max(0, drawEnd - drawStart + 1);\n            if (drawCount === 0) return; //\n\n            if (object.isMesh) {\n                if (material.wireframe === true) {\n                    state.setLineWidth(material.wireframeLinewidth * getTargetPixelRatio());\n                    renderer.setMode(1);\n                } else {\n                    renderer.setMode(4);\n                }\n            } else if (object.isLine) {\n                var lineWidth = material.linewidth;\n                if (lineWidth === undefined) lineWidth = 1; // Not using Line*Material\n\n                state.setLineWidth(lineWidth * getTargetPixelRatio());\n\n                if (object.isLineSegments) {\n                    renderer.setMode(1);\n                } else if (object.isLineLoop) {\n                    renderer.setMode(2);\n                } else {\n                    renderer.setMode(3);\n                }\n            } else if (object.isPoints) {\n                renderer.setMode(0);\n            } else if (object.isSprite) {\n                renderer.setMode(4);\n            }\n\n            if (object.isInstancedMesh) {\n                renderer.renderInstances(drawStart, drawCount, object.count);\n            } else if (geometry.isInstancedBufferGeometry) {\n                var instanceCount = Math.min(geometry.instanceCount, geometry._maxInstanceCount);\n                renderer.renderInstances(drawStart, drawCount, instanceCount);\n            } else {\n                renderer.render(drawStart, drawCount);\n            }\n        }; // Compile\n\n\n        this.compile = function(scene, camera) {\n            currentRenderState = renderStates.get(scene);\n            currentRenderState.init();\n            scene.traverseVisible(function(object) {\n                if (object.isLight && object.layers.test(camera.layers)) {\n                    currentRenderState.pushLight(object);\n\n                    if (object.castShadow) {\n                        currentRenderState.pushShadow(object);\n                    }\n                }\n            });\n            currentRenderState.setupLights();\n            var compiled = new WeakMap();\n            scene.traverse(function(object) {\n                var material = object.material;\n\n                if (material) {\n                    if (Array.isArray(material)) {\n                        for (var i = 0; i < material.length; i++) {\n                            var material2 = material[i];\n\n                            if (compiled.has(material2) === false) {\n                                initMaterial(material2, scene, object);\n                                compiled.set(material2);\n                            }\n                        }\n                    } else if (compiled.has(material) === false) {\n                        initMaterial(material, scene, object);\n                        compiled.set(material);\n                    }\n                }\n            });\n        }; // Animation Loop\n\n\n        var onAnimationFrameCallback = null;\n\n        function onAnimationFrame(time) {\n            if (xr.isPresenting) return;\n            if (onAnimationFrameCallback) onAnimationFrameCallback(time);\n        }\n\n        var animation = new WebGLAnimation();\n        animation.setAnimationLoop(onAnimationFrame);\n        if (typeof window !== 'undefined') animation.setContext(window);\n\n        this.setAnimationLoop = function(callback) {\n            onAnimationFrameCallback = callback;\n            xr.setAnimationLoop(callback);\n            callback === null ? animation.stop() : animation.start();\n        }; // Rendering\n\n\n        this.render = function(scene, camera) {\n            var renderTarget, forceClear;\n\n            if (arguments[2] !== undefined) {\n                console.warn('THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.');\n                renderTarget = arguments[2];\n            }\n\n            if (arguments[3] !== undefined) {\n                console.warn('THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.');\n                forceClear = arguments[3];\n            }\n\n            if (camera !== undefined && camera.isCamera !== true) {\n                console.error('THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.');\n                return;\n            }\n\n            if (_isContextLost === true) return; // reset caching for this frame\n\n            bindingStates.resetDefaultState();\n            _currentMaterialId = -1;\n            _currentCamera = null; // update scene graph\n\n            if (scene.autoUpdate === true) scene.updateMatrixWorld(); // update camera matrices and frustum\n\n            if (camera.parent === null) camera.updateMatrixWorld();\n\n            if (xr.enabled === true && xr.isPresenting === true) {\n                camera = xr.getCamera(camera);\n            } //\n\n\n            if (scene.isScene === true) scene.onBeforeRender(_this, scene, camera, renderTarget || _currentRenderTarget);\n            currentRenderState = renderStates.get(scene, renderStateStack.length);\n            currentRenderState.init();\n            renderStateStack.push(currentRenderState);\n\n            _projScreenMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n\n            _frustum.setFromProjectionMatrix(_projScreenMatrix);\n\n            _localClippingEnabled = this.localClippingEnabled;\n            _clippingEnabled = clipping.init(this.clippingPlanes, _localClippingEnabled, camera);\n            currentRenderList = renderLists.get(scene, renderListStack.length);\n            currentRenderList.init();\n            renderListStack.push(currentRenderList);\n            projectObject(scene, camera, 0, _this.sortObjects);\n            currentRenderList.finish();\n\n            if (_this.sortObjects === true) {\n                currentRenderList.sort(_opaqueSort, _transparentSort);\n            } //\n\n\n            if (_clippingEnabled === true) clipping.beginShadows();\n            var shadowsArray = currentRenderState.state.shadowsArray;\n            shadowMap.render(shadowsArray, scene, camera);\n            currentRenderState.setupLights();\n            currentRenderState.setupLightsView(camera);\n            if (_clippingEnabled === true) clipping.endShadows(); //\n\n            if (this.info.autoReset === true) this.info.reset();\n\n            if (renderTarget !== undefined) {\n                this.setRenderTarget(renderTarget);\n            } //\n\n\n            background.render(currentRenderList, scene, camera, forceClear); // render scene\n\n            var opaqueObjects = currentRenderList.opaque;\n            var transparentObjects = currentRenderList.transparent;\n            if (opaqueObjects.length > 0) renderObjects(opaqueObjects, scene, camera);\n            if (transparentObjects.length > 0) renderObjects(transparentObjects, scene, camera); //\n\n            if (scene.isScene === true) scene.onAfterRender(_this, scene, camera); //\n\n            if (_currentRenderTarget !== null) {\n                // Generate mipmap if we're using any kind of mipmap filtering\n                textures.updateRenderTargetMipmap(_currentRenderTarget); // resolve multisample renderbuffers to a single-sample texture if necessary\n\n                textures.updateMultisampleRenderTarget(_currentRenderTarget);\n            } // Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\n            state.buffers.depth.setTest(true);\n            state.buffers.depth.setMask(true);\n            state.buffers.color.setMask(true);\n            state.setPolygonOffset(false); // _gl.finish();\n\n            renderStateStack.pop();\n\n            if (renderStateStack.length > 0) {\n                currentRenderState = renderStateStack[renderStateStack.length - 1];\n            } else {\n                currentRenderState = null;\n            }\n\n            renderListStack.pop();\n\n            if (renderListStack.length > 0) {\n                currentRenderList = renderListStack[renderListStack.length - 1];\n            } else {\n                currentRenderList = null;\n            }\n        };\n\n        function projectObject(object, camera, groupOrder, sortObjects) {\n            if (object.visible === false) return;\n            var visible = object.layers.test(camera.layers);\n\n            if (visible) {\n                if (object.isGroup) {\n                    groupOrder = object.renderOrder;\n                } else if (object.isLOD) {\n                    if (object.autoUpdate === true) object.update(camera);\n                } else if (object.isLight) {\n                    currentRenderState.pushLight(object);\n\n                    if (object.castShadow) {\n                        currentRenderState.pushShadow(object);\n                    }\n                } else if (object.isSprite) {\n                    if (!object.frustumCulled || _frustum.intersectsSprite(object)) {\n                        if (sortObjects) {\n                            _vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);\n                        }\n\n                        var geometry = objects.update(object);\n                        var material = object.material;\n\n                        if (material.visible) {\n                            currentRenderList.push(object, geometry, material, groupOrder, _vector3.z, null);\n                        }\n                    }\n                } else if (object.isImmediateRenderObject) {\n                    if (sortObjects) {\n                        _vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);\n                    }\n\n                    currentRenderList.push(object, null, object.material, groupOrder, _vector3.z, null);\n                } else if (object.isMesh || object.isLine || object.isPoints) {\n                    if (object.isSkinnedMesh) {\n                        // update skeleton only once in a frame\n                        if (object.skeleton.frame !== info.render.frame) {\n                            object.skeleton.update();\n                            object.skeleton.frame = info.render.frame;\n                        }\n                    }\n\n                    if (!object.frustumCulled || _frustum.intersectsObject(object)) {\n                        if (sortObjects) {\n                            _vector3.setFromMatrixPosition(object.matrixWorld).applyMatrix4(_projScreenMatrix);\n                        }\n\n                        var _geometry = objects.update(object);\n\n                        var _material = object.material;\n\n                        if (Array.isArray(_material)) {\n                            var groups = _geometry.groups;\n\n                            for (var i = 0, l = groups.length; i < l; i++) {\n                                var group = groups[i];\n                                var groupMaterial = _material[group.materialIndex];\n\n                                if (groupMaterial && groupMaterial.visible) {\n                                    currentRenderList.push(object, _geometry, groupMaterial, groupOrder, _vector3.z, group);\n                                }\n                            }\n                        } else if (_material.visible) {\n                            currentRenderList.push(object, _geometry, _material, groupOrder, _vector3.z, null);\n                        }\n                    }\n                }\n            }\n\n            var children = object.children;\n\n            for (var _i = 0, _l = children.length; _i < _l; _i++) {\n                projectObject(children[_i], camera, groupOrder, sortObjects);\n            }\n        }\n\n        function renderObjects(renderList, scene, camera) {\n            var overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n            for (var i = 0, l = renderList.length; i < l; i++) {\n                var renderItem = renderList[i];\n                var object = renderItem.object;\n                var geometry = renderItem.geometry;\n                var material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n                var group = renderItem.group;\n\n                if (camera.isArrayCamera) {\n                    var cameras = camera.cameras;\n\n                    for (var j = 0, jl = cameras.length; j < jl; j++) {\n                        var camera2 = cameras[j];\n\n                        if (object.layers.test(camera2.layers)) {\n                            state.viewport(_currentViewport.copy(camera2.viewport));\n                            currentRenderState.setupLightsView(camera2);\n                            renderObject(object, scene, camera2, geometry, material, group);\n                        }\n                    }\n                } else {\n                    renderObject(object, scene, camera, geometry, material, group);\n                }\n            }\n        }\n\n        function renderObject(object, scene, camera, geometry, material, group) {\n            object.onBeforeRender(_this, scene, camera, geometry, material, group);\n            object.modelViewMatrix.multiplyMatrices(camera.matrixWorldInverse, object.matrixWorld);\n            object.normalMatrix.getNormalMatrix(object.modelViewMatrix);\n\n            if (object.isImmediateRenderObject) {\n                var program = setProgram(camera, scene, material, object);\n                state.setMaterial(material);\n                bindingStates.reset();\n                renderObjectImmediate(object, program);\n            } else {\n                _this.renderBufferDirect(camera, scene, geometry, material, object, group);\n            }\n\n            object.onAfterRender(_this, scene, camera, geometry, material, group);\n        }\n\n        function initMaterial(material, scene, object) {\n            if (scene.isScene !== true) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n            var materialProperties = properties.get(material);\n            var lights = currentRenderState.state.lights;\n            var shadowsArray = currentRenderState.state.shadowsArray;\n            var lightsStateVersion = lights.state.version;\n            var parameters = programCache.getParameters(material, lights.state, shadowsArray, scene, object);\n            var programCacheKey = programCache.getProgramCacheKey(parameters);\n            var program = materialProperties.program;\n            var programChange = true; // always update environment and fog - changing these trigger an initMaterial call, but it's possible that the program doesn't change\n\n            materialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n            materialProperties.fog = scene.fog;\n            materialProperties.envMap = cubemaps.get(material.envMap || materialProperties.environment);\n\n            if (program === undefined) {\n                // new material\n                material.addEventListener('dispose', onMaterialDispose);\n            } else if (program.cacheKey !== programCacheKey) {\n                // changed glsl or parameters\n                releaseMaterialProgramReference(material);\n            } else if (materialProperties.lightsStateVersion !== lightsStateVersion) {\n                programChange = false;\n            } else if (parameters.shaderID !== undefined) {\n                // same glsl and uniform list\n                return;\n            } else {\n                // only rebuild uniform list\n                programChange = false;\n            }\n\n            if (programChange) {\n                parameters.uniforms = programCache.getUniforms(material);\n                material.onBeforeCompile(parameters, _this);\n                program = programCache.acquireProgram(parameters, programCacheKey);\n                materialProperties.program = program;\n                materialProperties.uniforms = parameters.uniforms;\n                materialProperties.outputEncoding = parameters.outputEncoding;\n            }\n\n            var uniforms = materialProperties.uniforms;\n\n            if (!material.isShaderMaterial && !material.isRawShaderMaterial || material.clipping === true) {\n                materialProperties.numClippingPlanes = clipping.numPlanes;\n                materialProperties.numIntersection = clipping.numIntersection;\n                uniforms.clippingPlanes = clipping.uniform;\n            } // store the light setup it was created for\n\n\n            materialProperties.needsLights = materialNeedsLights(material);\n            materialProperties.lightsStateVersion = lightsStateVersion;\n\n            if (materialProperties.needsLights) {\n                // wire up the material to this renderer's lighting state\n                uniforms.ambientLightColor.value = lights.state.ambient;\n                uniforms.lightProbe.value = lights.state.probe;\n                uniforms.directionalLights.value = lights.state.directional;\n                uniforms.directionalLightShadows.value = lights.state.directionalShadow;\n                uniforms.spotLights.value = lights.state.spot;\n                uniforms.spotLightShadows.value = lights.state.spotShadow;\n                uniforms.rectAreaLights.value = lights.state.rectArea;\n                uniforms.ltc_1.value = lights.state.rectAreaLTC1;\n                uniforms.ltc_2.value = lights.state.rectAreaLTC2;\n                uniforms.pointLights.value = lights.state.point;\n                uniforms.pointLightShadows.value = lights.state.pointShadow;\n                uniforms.hemisphereLights.value = lights.state.hemi;\n                uniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n                uniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n                uniforms.spotShadowMap.value = lights.state.spotShadowMap;\n                uniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n                uniforms.pointShadowMap.value = lights.state.pointShadowMap;\n                uniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix; // TODO (abelnation): add area lights shadow info to uniforms\n            }\n\n            var progUniforms = materialProperties.program.getUniforms();\n            var uniformsList = WebGLUniforms.seqWithValue(progUniforms.seq, uniforms);\n            materialProperties.uniformsList = uniformsList;\n        }\n\n        function setProgram(camera, scene, material, object) {\n            if (scene.isScene !== true) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n            textures.resetTextureUnits();\n            var fog = scene.fog;\n            var environment = material.isMeshStandardMaterial ? scene.environment : null;\n            var encoding = _currentRenderTarget === null ? _this.outputEncoding : _currentRenderTarget.texture.encoding;\n            var envMap = cubemaps.get(material.envMap || environment);\n            var materialProperties = properties.get(material);\n            var lights = currentRenderState.state.lights;\n\n            if (_clippingEnabled === true) {\n                if (_localClippingEnabled === true || camera !== _currentCamera) {\n                    var useCache = camera === _currentCamera && material.id === _currentMaterialId; // we might want to call this function with some ClippingGroup\n                    // object instead of the material, once it becomes feasible\n                    // (#8465, #8379)\n\n                    clipping.setState(material, camera, useCache);\n                }\n            }\n\n            if (material.version === materialProperties.__version) {\n                if (material.fog && materialProperties.fog !== fog) {\n                    initMaterial(material, scene, object);\n                } else if (materialProperties.environment !== environment) {\n                    initMaterial(material, scene, object);\n                } else if (materialProperties.needsLights && materialProperties.lightsStateVersion !== lights.state.version) {\n                    initMaterial(material, scene, object);\n                } else if (materialProperties.numClippingPlanes !== undefined && (materialProperties.numClippingPlanes !== clipping.numPlanes || materialProperties.numIntersection !== clipping.numIntersection)) {\n                    initMaterial(material, scene, object);\n                } else if (materialProperties.outputEncoding !== encoding) {\n                    initMaterial(material, scene, object);\n                } else if (materialProperties.envMap !== envMap) {\n                    initMaterial(material, scene, object);\n                }\n            } else {\n                initMaterial(material, scene, object);\n                materialProperties.__version = material.version;\n            }\n\n            var refreshProgram = false;\n            var refreshMaterial = false;\n            var refreshLights = false;\n            var program = materialProperties.program,\n                p_uniforms = program.getUniforms(),\n                m_uniforms = materialProperties.uniforms;\n\n            if (state.useProgram(program.program)) {\n                refreshProgram = true;\n                refreshMaterial = true;\n                refreshLights = true;\n            }\n\n            if (material.id !== _currentMaterialId) {\n                _currentMaterialId = material.id;\n                refreshMaterial = true;\n            }\n\n            if (refreshProgram || _currentCamera !== camera) {\n                p_uniforms.setValue(_gl, 'projectionMatrix', camera.projectionMatrix);\n\n                if (capabilities.logarithmicDepthBuffer) {\n                    p_uniforms.setValue(_gl, 'logDepthBufFC', 2.0 / (Math.log(camera.far + 1.0) / Math.LN2));\n                }\n\n                if (_currentCamera !== camera) {\n                    _currentCamera = camera; // lighting uniforms depend on the camera so enforce an update\n                    // now, in case this material supports lights - or later, when\n                    // the next material that does gets activated:\n\n                    refreshMaterial = true; // set to true on material change\n\n                    refreshLights = true; // remains set until update done\n                } // load material specific uniforms\n                // (shader material also gets them for the sake of genericity)\n\n\n                if (material.isShaderMaterial || material.isMeshPhongMaterial || material.isMeshToonMaterial || material.isMeshStandardMaterial || material.envMap) {\n                    var uCamPos = p_uniforms.map.cameraPosition;\n\n                    if (uCamPos !== undefined) {\n                        uCamPos.setValue(_gl, _vector3.setFromMatrixPosition(camera.matrixWorld));\n                    }\n                }\n\n                if (material.isMeshPhongMaterial || material.isMeshToonMaterial || material.isMeshLambertMaterial || material.isMeshBasicMaterial || material.isMeshStandardMaterial || material.isShaderMaterial) {\n                    p_uniforms.setValue(_gl, 'isOrthographic', camera.isOrthographicCamera === true);\n                }\n\n                if (material.isMeshPhongMaterial || material.isMeshToonMaterial || material.isMeshLambertMaterial || material.isMeshBasicMaterial || material.isMeshStandardMaterial || material.isShaderMaterial || material.isShadowMaterial || material.skinning) {\n                    p_uniforms.setValue(_gl, 'viewMatrix', camera.matrixWorldInverse);\n                }\n            } // skinning uniforms must be set even if material didn't change\n            // auto-setting of texture unit for bone texture must go before other textures\n            // otherwise textures used for skinning can take over texture units reserved for other material textures\n\n\n            if (material.skinning) {\n                p_uniforms.setOptional(_gl, object, 'bindMatrix');\n                p_uniforms.setOptional(_gl, object, 'bindMatrixInverse');\n                var skeleton = object.skeleton;\n\n                if (skeleton) {\n                    var bones = skeleton.bones;\n\n                    if (capabilities.floatVertexTextures) {\n                        if (skeleton.boneTexture === null) {\n                            // layout (1 matrix = 4 pixels)\n                            //\t\t\tRGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n                            //\twith\t8x8\tpixel texture max\t 16 bones * 4 pixels =\t(8 * 8)\n                            //\t\t\t 16x16 pixel texture max\t 64 bones * 4 pixels = (16 * 16)\n                            //\t\t\t 32x32 pixel texture max\t256 bones * 4 pixels = (32 * 32)\n                            //\t\t\t 64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n                            var size = Math.sqrt(bones.length * 4); // 4 pixels needed for 1 matrix\n\n                            size = MathUtils.ceilPowerOfTwo(size);\n                            size = Math.max(size, 4);\n                            var boneMatrices = new Float32Array(size * size * 4); // 4 floats per RGBA pixel\n\n                            boneMatrices.set(skeleton.boneMatrices); // copy current values\n\n                            var boneTexture = new DataTexture(boneMatrices, size, size, RGBAFormat, FloatType);\n                            skeleton.boneMatrices = boneMatrices;\n                            skeleton.boneTexture = boneTexture;\n                            skeleton.boneTextureSize = size;\n                        }\n\n                        p_uniforms.setValue(_gl, 'boneTexture', skeleton.boneTexture, textures);\n                        p_uniforms.setValue(_gl, 'boneTextureSize', skeleton.boneTextureSize);\n                    } else {\n                        p_uniforms.setOptional(_gl, skeleton, 'boneMatrices');\n                    }\n                }\n            }\n\n            if (refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow) {\n                materialProperties.receiveShadow = object.receiveShadow;\n                p_uniforms.setValue(_gl, 'receiveShadow', object.receiveShadow);\n            }\n\n            if (refreshMaterial) {\n                p_uniforms.setValue(_gl, 'toneMappingExposure', _this.toneMappingExposure);\n\n                if (materialProperties.needsLights) {\n                    // the current material requires lighting info\n                    // note: all lighting uniforms are always set correctly\n                    // they simply reference the renderer's state for their\n                    // values\n                    //\n                    // use the current material's .needsUpdate flags to set\n                    // the GL state when required\n                    markUniformsLightsNeedsUpdate(m_uniforms, refreshLights);\n                } // refresh uniforms common to several materials\n\n\n                if (fog && material.fog) {\n                    materials.refreshFogUniforms(m_uniforms, fog);\n                }\n\n                materials.refreshMaterialUniforms(m_uniforms, material, _pixelRatio, _height);\n                WebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, textures);\n            }\n\n            if (material.isShaderMaterial && material.uniformsNeedUpdate === true) {\n                WebGLUniforms.upload(_gl, materialProperties.uniformsList, m_uniforms, textures);\n                material.uniformsNeedUpdate = false;\n            }\n\n            if (material.isSpriteMaterial) {\n                p_uniforms.setValue(_gl, 'center', object.center);\n            } // common matrices\n\n\n            p_uniforms.setValue(_gl, 'modelViewMatrix', object.modelViewMatrix);\n            p_uniforms.setValue(_gl, 'normalMatrix', object.normalMatrix);\n            p_uniforms.setValue(_gl, 'modelMatrix', object.matrixWorld);\n            return program;\n        } // If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\n        function markUniformsLightsNeedsUpdate(uniforms, value) {\n            uniforms.ambientLightColor.needsUpdate = value;\n            uniforms.lightProbe.needsUpdate = value;\n            uniforms.directionalLights.needsUpdate = value;\n            uniforms.directionalLightShadows.needsUpdate = value;\n            uniforms.pointLights.needsUpdate = value;\n            uniforms.pointLightShadows.needsUpdate = value;\n            uniforms.spotLights.needsUpdate = value;\n            uniforms.spotLightShadows.needsUpdate = value;\n            uniforms.rectAreaLights.needsUpdate = value;\n            uniforms.hemisphereLights.needsUpdate = value;\n        }\n\n        function materialNeedsLights(material) {\n            return material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial || material.isMeshStandardMaterial || material.isShadowMaterial || material.isShaderMaterial && material.lights === true;\n        } //\n\n\n        this.setFramebuffer = function(value) {\n            if (_framebuffer !== value && _currentRenderTarget === null) _gl.bindFramebuffer(36160, value);\n            _framebuffer = value;\n        };\n\n        this.getActiveCubeFace = function() {\n            return _currentActiveCubeFace;\n        };\n\n        this.getActiveMipmapLevel = function() {\n            return _currentActiveMipmapLevel;\n        };\n\n        this.getRenderTarget = function() {\n            return _currentRenderTarget;\n        };\n\n        this.setRenderTarget = function(renderTarget, activeCubeFace, activeMipmapLevel) {\n            if (activeCubeFace === void 0) {\n                activeCubeFace = 0;\n            }\n\n            if (activeMipmapLevel === void 0) {\n                activeMipmapLevel = 0;\n            }\n\n            _currentRenderTarget = renderTarget;\n            _currentActiveCubeFace = activeCubeFace;\n            _currentActiveMipmapLevel = activeMipmapLevel;\n\n            if (renderTarget && properties.get(renderTarget).__webglFramebuffer === undefined) {\n                textures.setupRenderTarget(renderTarget);\n            }\n\n            var framebuffer = _framebuffer;\n            var isCube = false;\n            var isRenderTarget3D = false;\n\n            if (renderTarget) {\n                var texture = renderTarget.texture;\n\n                if (texture.isDataTexture3D || texture.isDataTexture2DArray) {\n                    isRenderTarget3D = true;\n                }\n\n                var __webglFramebuffer = properties.get(renderTarget).__webglFramebuffer;\n\n                if (renderTarget.isWebGLCubeRenderTarget) {\n                    framebuffer = __webglFramebuffer[activeCubeFace];\n                    isCube = true;\n                } else if (renderTarget.isWebGLMultisampleRenderTarget) {\n                    framebuffer = properties.get(renderTarget).__webglMultisampledFramebuffer;\n                } else {\n                    framebuffer = __webglFramebuffer;\n                }\n\n                _currentViewport.copy(renderTarget.viewport);\n\n                _currentScissor.copy(renderTarget.scissor);\n\n                _currentScissorTest = renderTarget.scissorTest;\n            } else {\n                _currentViewport.copy(_viewport).multiplyScalar(_pixelRatio).floor();\n\n                _currentScissor.copy(_scissor).multiplyScalar(_pixelRatio).floor();\n\n                _currentScissorTest = _scissorTest;\n            }\n\n            if (_currentFramebuffer !== framebuffer) {\n                _gl.bindFramebuffer(36160, framebuffer);\n\n                _currentFramebuffer = framebuffer;\n            }\n\n            state.viewport(_currentViewport);\n            state.scissor(_currentScissor);\n            state.setScissorTest(_currentScissorTest);\n\n            if (isCube) {\n                var textureProperties = properties.get(renderTarget.texture);\n\n                _gl.framebufferTexture2D(36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel);\n            } else if (isRenderTarget3D) {\n                var _textureProperties = properties.get(renderTarget.texture);\n\n                var layer = activeCubeFace || 0;\n\n                _gl.framebufferTextureLayer(36160, 36064, _textureProperties.__webglTexture, activeMipmapLevel || 0, layer);\n            }\n        };\n\n        this.readRenderTargetPixels = function(renderTarget, x, y, width, height, buffer, activeCubeFaceIndex) {\n            if (!(renderTarget && renderTarget.isWebGLRenderTarget)) {\n                console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.');\n                return;\n            }\n\n            var framebuffer = properties.get(renderTarget).__webglFramebuffer;\n\n            if (renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined) {\n                framebuffer = framebuffer[activeCubeFaceIndex];\n            }\n\n            if (framebuffer) {\n                var restore = false;\n\n                if (framebuffer !== _currentFramebuffer) {\n                    _gl.bindFramebuffer(36160, framebuffer);\n\n                    restore = true;\n                }\n\n                try {\n                    var texture = renderTarget.texture;\n                    var textureFormat = texture.format;\n                    var textureType = texture.type;\n\n                    if (textureFormat !== RGBAFormat && utils.convert(textureFormat) !== _gl.getParameter(35739)) {\n                        console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.');\n                        return;\n                    }\n\n                    var halfFloatSupportedByExt = textureType === HalfFloatType && (extensions.has('EXT_color_buffer_half_float') || capabilities.isWebGL2 && extensions.has('EXT_color_buffer_float'));\n\n                    if (textureType !== UnsignedByteType && utils.convert(textureType) !== _gl.getParameter(35738) && // Edge and Chrome Mac < 52 (#9513)\n                        !(textureType === FloatType && (capabilities.isWebGL2 || extensions.has('OES_texture_float') || extensions.has('WEBGL_color_buffer_float'))) && // Chrome Mac >= 52 and Firefox\n                        !halfFloatSupportedByExt) {\n                        console.error('THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.');\n                        return;\n                    }\n\n                    if (_gl.checkFramebufferStatus(36160) === 36053) {\n                        // the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n                        if (x >= 0 && x <= renderTarget.width - width && y >= 0 && y <= renderTarget.height - height) {\n                            _gl.readPixels(x, y, width, height, utils.convert(textureFormat), utils.convert(textureType), buffer);\n                        }\n                    } else {\n                        console.error('THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.');\n                    }\n                } finally {\n                    if (restore) {\n                        _gl.bindFramebuffer(36160, _currentFramebuffer);\n                    }\n                }\n            }\n        };\n\n        this.copyFramebufferToTexture = function(position, texture, level) {\n            if (level === void 0) {\n                level = 0;\n            }\n\n            var levelScale = Math.pow(2, -level);\n            var width = Math.floor(texture.image.width * levelScale);\n            var height = Math.floor(texture.image.height * levelScale);\n            var glFormat = utils.convert(texture.format);\n            textures.setTexture2D(texture, 0);\n\n            _gl.copyTexImage2D(3553, level, glFormat, position.x, position.y, width, height, 0);\n\n            state.unbindTexture();\n        };\n\n        this.copyTextureToTexture = function(position, srcTexture, dstTexture, level) {\n            if (level === void 0) {\n                level = 0;\n            }\n\n            var width = srcTexture.image.width;\n            var height = srcTexture.image.height;\n            var glFormat = utils.convert(dstTexture.format);\n            var glType = utils.convert(dstTexture.type);\n            textures.setTexture2D(dstTexture, 0); // As another texture upload may have changed pixelStorei\n            // parameters, make sure they are correct for the dstTexture\n\n            _gl.pixelStorei(37440, dstTexture.flipY);\n\n            _gl.pixelStorei(37441, dstTexture.premultiplyAlpha);\n\n            _gl.pixelStorei(3317, dstTexture.unpackAlignment);\n\n            if (srcTexture.isDataTexture) {\n                _gl.texSubImage2D(3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data);\n            } else {\n                if (srcTexture.isCompressedTexture) {\n                    _gl.compressedTexSubImage2D(3553, level, position.x, position.y, srcTexture.mipmaps[0].width, srcTexture.mipmaps[0].height, glFormat, srcTexture.mipmaps[0].data);\n                } else {\n                    _gl.texSubImage2D(3553, level, position.x, position.y, glFormat, glType, srcTexture.image);\n                }\n            } // Generate mipmaps only when copying level 0\n\n\n            if (level === 0 && dstTexture.generateMipmaps) _gl.generateMipmap(3553);\n            state.unbindTexture();\n        };\n\n        this.copyTextureToTexture3D = function(sourceBox, position, srcTexture, dstTexture, level) {\n            if (level === void 0) {\n                level = 0;\n            }\n\n            if (_this.isWebGL1Renderer) {\n                console.warn('THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.');\n                return;\n            }\n\n            var _srcTexture$image = srcTexture.image,\n                width = _srcTexture$image.width,\n                height = _srcTexture$image.height,\n                data = _srcTexture$image.data;\n            var glFormat = utils.convert(dstTexture.format);\n            var glType = utils.convert(dstTexture.type);\n            var glTarget;\n\n            if (dstTexture.isDataTexture3D) {\n                textures.setTexture3D(dstTexture, 0);\n                glTarget = 32879;\n            } else if (dstTexture.isDataTexture2DArray) {\n                textures.setTexture2DArray(dstTexture, 0);\n                glTarget = 35866;\n            } else {\n                console.warn('THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.');\n                return;\n            }\n\n            _gl.pixelStorei(37440, dstTexture.flipY);\n\n            _gl.pixelStorei(37441, dstTexture.premultiplyAlpha);\n\n            _gl.pixelStorei(3317, dstTexture.unpackAlignment);\n\n            var unpackRowLen = _gl.getParameter(3314);\n\n            var unpackImageHeight = _gl.getParameter(32878);\n\n            var unpackSkipPixels = _gl.getParameter(3316);\n\n            var unpackSkipRows = _gl.getParameter(3315);\n\n            var unpackSkipImages = _gl.getParameter(32877);\n\n            _gl.pixelStorei(3314, width);\n\n            _gl.pixelStorei(32878, height);\n\n            _gl.pixelStorei(3316, sourceBox.min.x);\n\n            _gl.pixelStorei(3315, sourceBox.min.y);\n\n            _gl.pixelStorei(32877, sourceBox.min.z);\n\n            _gl.texSubImage3D(glTarget, level, position.x, position.y, position.z, sourceBox.max.x - sourceBox.min.x + 1, sourceBox.max.y - sourceBox.min.y + 1, sourceBox.max.z - sourceBox.min.z + 1, glFormat, glType, data);\n\n            _gl.pixelStorei(3314, unpackRowLen);\n\n            _gl.pixelStorei(32878, unpackImageHeight);\n\n            _gl.pixelStorei(3316, unpackSkipPixels);\n\n            _gl.pixelStorei(3315, unpackSkipRows);\n\n            _gl.pixelStorei(32877, unpackSkipImages); // Generate mipmaps only when copying level 0\n\n\n            if (level === 0 && dstTexture.generateMipmaps) _gl.generateMipmap(glTarget);\n            state.unbindTexture();\n        };\n\n        this.initTexture = function(texture) {\n            textures.setTexture2D(texture, 0);\n            state.unbindTexture();\n        };\n\n        this.resetState = function() {\n            state.reset();\n            bindingStates.reset();\n        };\n\n        if (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n            __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', {\n                detail: this\n            })); // eslint-disable-line no-undef\n\n        }\n    }\n\n    var WebGL1Renderer = /*#__PURE__*/ function(_WebGLRenderer) {\n        _inheritsLoose(WebGL1Renderer, _WebGLRenderer);\n\n        function WebGL1Renderer() {\n            return _WebGLRenderer.apply(this, arguments) || this;\n        }\n\n        return WebGL1Renderer;\n    }(WebGLRenderer);\n\n    WebGL1Renderer.prototype.isWebGL1Renderer = true;\n\n    var FogExp2 = /*#__PURE__*/ function() {\n        function FogExp2(color, density) {\n            this.name = '';\n            this.color = new Color(color);\n            this.density = density !== undefined ? density : 0.00025;\n        }\n\n        var _proto = FogExp2.prototype;\n\n        _proto.clone = function clone() {\n            return new FogExp2(this.color, this.density);\n        };\n\n        _proto.toJSON = function toJSON()\n            /* meta */\n            {\n                return {\n                    type: 'FogExp2',\n                    color: this.color.getHex(),\n                    density: this.density\n                };\n            };\n\n        return FogExp2;\n    }();\n\n    FogExp2.prototype.isFogExp2 = true;\n\n    var Fog = /*#__PURE__*/ function() {\n        function Fog(color, near, far) {\n            this.name = '';\n            this.color = new Color(color);\n            this.near = near !== undefined ? near : 1;\n            this.far = far !== undefined ? far : 1000;\n        }\n\n        var _proto = Fog.prototype;\n\n        _proto.clone = function clone() {\n            return new Fog(this.color, this.near, this.far);\n        };\n\n        _proto.toJSON = function toJSON()\n            /* meta */\n            {\n                return {\n                    type: 'Fog',\n                    color: this.color.getHex(),\n                    near: this.near,\n                    far: this.far\n                };\n            };\n\n        return Fog;\n    }();\n\n    Fog.prototype.isFog = true;\n\n    var Scene = /*#__PURE__*/ function(_Object3D) {\n        _inheritsLoose(Scene, _Object3D);\n\n        function Scene() {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this.type = 'Scene';\n            _this.background = null;\n            _this.environment = null;\n            _this.fog = null;\n            _this.overrideMaterial = null;\n            _this.autoUpdate = true; // checked by the renderer\n\n            if (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n                __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('observe', {\n                    detail: _assertThisInitialized(_this)\n                })); // eslint-disable-line no-undef\n\n            }\n\n            return _this;\n        }\n\n        var _proto = Scene.prototype;\n\n        _proto.copy = function copy(source, recursive) {\n            _Object3D.prototype.copy.call(this, source, recursive);\n\n            if (source.background !== null) this.background = source.background.clone();\n            if (source.environment !== null) this.environment = source.environment.clone();\n            if (source.fog !== null) this.fog = source.fog.clone();\n            if (source.overrideMaterial !== null) this.overrideMaterial = source.overrideMaterial.clone();\n            this.autoUpdate = source.autoUpdate;\n            this.matrixAutoUpdate = source.matrixAutoUpdate;\n            return this;\n        };\n\n        _proto.toJSON = function toJSON(meta) {\n            var data = _Object3D.prototype.toJSON.call(this, meta);\n\n            if (this.background !== null) data.object.background = this.background.toJSON(meta);\n            if (this.environment !== null) data.object.environment = this.environment.toJSON(meta);\n            if (this.fog !== null) data.object.fog = this.fog.toJSON();\n            return data;\n        };\n\n        return Scene;\n    }(Object3D);\n\n    Scene.prototype.isScene = true;\n\n    function InterleavedBuffer(array, stride) {\n        this.array = array;\n        this.stride = stride;\n        this.count = array !== undefined ? array.length / stride : 0;\n        this.usage = StaticDrawUsage;\n        this.updateRange = {\n            offset: 0,\n            count: -1\n        };\n        this.version = 0;\n        this.uuid = MathUtils.generateUUID();\n    }\n\n    Object.defineProperty(InterleavedBuffer.prototype, 'needsUpdate', {\n        set: function set(value) {\n            if (value === true) this.version++;\n        }\n    });\n    Object.assign(InterleavedBuffer.prototype, {\n        isInterleavedBuffer: true,\n        onUploadCallback: function onUploadCallback() {},\n        setUsage: function setUsage(value) {\n            this.usage = value;\n            return this;\n        },\n        copy: function copy(source) {\n            this.array = new source.array.constructor(source.array);\n            this.count = source.count;\n            this.stride = source.stride;\n            this.usage = source.usage;\n            return this;\n        },\n        copyAt: function copyAt(index1, attribute, index2) {\n            index1 *= this.stride;\n            index2 *= attribute.stride;\n\n            for (var i = 0, l = this.stride; i < l; i++) {\n                this.array[index1 + i] = attribute.array[index2 + i];\n            }\n\n            return this;\n        },\n        set: function set(value, offset) {\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            this.array.set(value, offset);\n            return this;\n        },\n        clone: function clone(data) {\n            if (data.arrayBuffers === undefined) {\n                data.arrayBuffers = {};\n            }\n\n            if (this.array.buffer._uuid === undefined) {\n                this.array.buffer._uuid = MathUtils.generateUUID();\n            }\n\n            if (data.arrayBuffers[this.array.buffer._uuid] === undefined) {\n                data.arrayBuffers[this.array.buffer._uuid] = this.array.slice(0).buffer;\n            }\n\n            var array = new this.array.constructor(data.arrayBuffers[this.array.buffer._uuid]);\n            var ib = new InterleavedBuffer(array, this.stride);\n            ib.setUsage(this.usage);\n            return ib;\n        },\n        onUpload: function onUpload(callback) {\n            this.onUploadCallback = callback;\n            return this;\n        },\n        toJSON: function toJSON(data) {\n            if (data.arrayBuffers === undefined) {\n                data.arrayBuffers = {};\n            } // generate UUID for array buffer if necessary\n\n\n            if (this.array.buffer._uuid === undefined) {\n                this.array.buffer._uuid = MathUtils.generateUUID();\n            }\n\n            if (data.arrayBuffers[this.array.buffer._uuid] === undefined) {\n                data.arrayBuffers[this.array.buffer._uuid] = Array.prototype.slice.call(new Uint32Array(this.array.buffer));\n            } //\n\n\n            return {\n                uuid: this.uuid,\n                buffer: this.array.buffer._uuid,\n                type: this.array.constructor.name,\n                stride: this.stride\n            };\n        }\n    });\n\n    var _vector$6 = new Vector3();\n\n    function InterleavedBufferAttribute(interleavedBuffer, itemSize, offset, normalized) {\n        this.name = '';\n        this.data = interleavedBuffer;\n        this.itemSize = itemSize;\n        this.offset = offset;\n        this.normalized = normalized === true;\n    }\n\n    Object.defineProperties(InterleavedBufferAttribute.prototype, {\n        count: {\n            get: function get() {\n                return this.data.count;\n            }\n        },\n        array: {\n            get: function get() {\n                return this.data.array;\n            }\n        },\n        needsUpdate: {\n            set: function set(value) {\n                this.data.needsUpdate = value;\n            }\n        }\n    });\n    Object.assign(InterleavedBufferAttribute.prototype, {\n        isInterleavedBufferAttribute: true,\n        applyMatrix4: function applyMatrix4(m) {\n            for (var i = 0, l = this.data.count; i < l; i++) {\n                _vector$6.x = this.getX(i);\n                _vector$6.y = this.getY(i);\n                _vector$6.z = this.getZ(i);\n\n                _vector$6.applyMatrix4(m);\n\n                this.setXYZ(i, _vector$6.x, _vector$6.y, _vector$6.z);\n            }\n\n            return this;\n        },\n        setX: function setX(index, x) {\n            this.data.array[index * this.data.stride + this.offset] = x;\n            return this;\n        },\n        setY: function setY(index, y) {\n            this.data.array[index * this.data.stride + this.offset + 1] = y;\n            return this;\n        },\n        setZ: function setZ(index, z) {\n            this.data.array[index * this.data.stride + this.offset + 2] = z;\n            return this;\n        },\n        setW: function setW(index, w) {\n            this.data.array[index * this.data.stride + this.offset + 3] = w;\n            return this;\n        },\n        getX: function getX(index) {\n            return this.data.array[index * this.data.stride + this.offset];\n        },\n        getY: function getY(index) {\n            return this.data.array[index * this.data.stride + this.offset + 1];\n        },\n        getZ: function getZ(index) {\n            return this.data.array[index * this.data.stride + this.offset + 2];\n        },\n        getW: function getW(index) {\n            return this.data.array[index * this.data.stride + this.offset + 3];\n        },\n        setXY: function setXY(index, x, y) {\n            index = index * this.data.stride + this.offset;\n            this.data.array[index + 0] = x;\n            this.data.array[index + 1] = y;\n            return this;\n        },\n        setXYZ: function setXYZ(index, x, y, z) {\n            index = index * this.data.stride + this.offset;\n            this.data.array[index + 0] = x;\n            this.data.array[index + 1] = y;\n            this.data.array[index + 2] = z;\n            return this;\n        },\n        setXYZW: function setXYZW(index, x, y, z, w) {\n            index = index * this.data.stride + this.offset;\n            this.data.array[index + 0] = x;\n            this.data.array[index + 1] = y;\n            this.data.array[index + 2] = z;\n            this.data.array[index + 3] = w;\n            return this;\n        },\n        clone: function clone(data) {\n            if (data === undefined) {\n                console.log('THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.');\n                var array = [];\n\n                for (var i = 0; i < this.count; i++) {\n                    var index = i * this.data.stride + this.offset;\n\n                    for (var j = 0; j < this.itemSize; j++) {\n                        array.push(this.data.array[index + j]);\n                    }\n                }\n\n                return new BufferAttribute(new this.array.constructor(array), this.itemSize, this.normalized);\n            } else {\n                if (data.interleavedBuffers === undefined) {\n                    data.interleavedBuffers = {};\n                }\n\n                if (data.interleavedBuffers[this.data.uuid] === undefined) {\n                    data.interleavedBuffers[this.data.uuid] = this.data.clone(data);\n                }\n\n                return new InterleavedBufferAttribute(data.interleavedBuffers[this.data.uuid], this.itemSize, this.offset, this.normalized);\n            }\n        },\n        toJSON: function toJSON(data) {\n            if (data === undefined) {\n                console.log('THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.');\n                var array = [];\n\n                for (var i = 0; i < this.count; i++) {\n                    var index = i * this.data.stride + this.offset;\n\n                    for (var j = 0; j < this.itemSize; j++) {\n                        array.push(this.data.array[index + j]);\n                    }\n                } // deinterleave data and save it as an ordinary buffer attribute for now\n\n\n                return {\n                    itemSize: this.itemSize,\n                    type: this.array.constructor.name,\n                    array: array,\n                    normalized: this.normalized\n                };\n            } else {\n                // save as true interlaved attribtue\n                if (data.interleavedBuffers === undefined) {\n                    data.interleavedBuffers = {};\n                }\n\n                if (data.interleavedBuffers[this.data.uuid] === undefined) {\n                    data.interleavedBuffers[this.data.uuid] = this.data.toJSON(data);\n                }\n\n                return {\n                    isInterleavedBufferAttribute: true,\n                    itemSize: this.itemSize,\n                    data: this.data.uuid,\n                    offset: this.offset,\n                    normalized: this.normalized\n                };\n            }\n        }\n    });\n\n    /**\n     * parameters = {\n     *\tcolor: <hex>,\n     *\tmap: new THREE.Texture( <Image> ),\n     *\talphaMap: new THREE.Texture( <Image> ),\n     *\trotation: <float>,\n     *\tsizeAttenuation: <bool>\n     * }\n     */\n\n    var SpriteMaterial = /*#__PURE__*/ function(_Material) {\n        _inheritsLoose(SpriteMaterial, _Material);\n\n        function SpriteMaterial(parameters) {\n            var _this;\n\n            _this = _Material.call(this) || this;\n            _this.type = 'SpriteMaterial';\n            _this.color = new Color(0xffffff);\n            _this.map = null;\n            _this.alphaMap = null;\n            _this.rotation = 0;\n            _this.sizeAttenuation = true;\n            _this.transparent = true;\n\n            _this.setValues(parameters);\n\n            return _this;\n        }\n\n        var _proto = SpriteMaterial.prototype;\n\n        _proto.copy = function copy(source) {\n            _Material.prototype.copy.call(this, source);\n\n            this.color.copy(source.color);\n            this.map = source.map;\n            this.alphaMap = source.alphaMap;\n            this.rotation = source.rotation;\n            this.sizeAttenuation = source.sizeAttenuation;\n            return this;\n        };\n\n        return SpriteMaterial;\n    }(Material);\n\n    SpriteMaterial.prototype.isSpriteMaterial = true;\n\n    var _geometry;\n\n    var _intersectPoint = /*@__PURE__*/ new Vector3();\n\n    var _worldScale = /*@__PURE__*/ new Vector3();\n\n    var _mvPosition = /*@__PURE__*/ new Vector3();\n\n    var _alignedPosition = /*@__PURE__*/ new Vector2();\n\n    var _rotatedPosition = /*@__PURE__*/ new Vector2();\n\n    var _viewWorldMatrix = /*@__PURE__*/ new Matrix4();\n\n    var _vA$1 = /*@__PURE__*/ new Vector3();\n\n    var _vB$1 = /*@__PURE__*/ new Vector3();\n\n    var _vC$1 = /*@__PURE__*/ new Vector3();\n\n    var _uvA$1 = /*@__PURE__*/ new Vector2();\n\n    var _uvB$1 = /*@__PURE__*/ new Vector2();\n\n    var _uvC$1 = /*@__PURE__*/ new Vector2();\n\n    var Sprite = /*#__PURE__*/ function(_Object3D) {\n        _inheritsLoose(Sprite, _Object3D);\n\n        function Sprite(material) {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this.type = 'Sprite';\n\n            if (_geometry === undefined) {\n                _geometry = new BufferGeometry();\n                var float32Array = new Float32Array([-0.5, -0.5, 0, 0, 0, 0.5, -0.5, 0, 1, 0, 0.5, 0.5, 0, 1, 1, -0.5, 0.5, 0, 0, 1]);\n                var interleavedBuffer = new InterleavedBuffer(float32Array, 5);\n\n                _geometry.setIndex([0, 1, 2, 0, 2, 3]);\n\n                _geometry.setAttribute('position', new InterleavedBufferAttribute(interleavedBuffer, 3, 0, false));\n\n                _geometry.setAttribute('uv', new InterleavedBufferAttribute(interleavedBuffer, 2, 3, false));\n            }\n\n            _this.geometry = _geometry;\n            _this.material = material !== undefined ? material : new SpriteMaterial();\n            _this.center = new Vector2(0.5, 0.5);\n            return _this;\n        }\n\n        var _proto = Sprite.prototype;\n\n        _proto.raycast = function raycast(raycaster, intersects) {\n            if (raycaster.camera === null) {\n                console.error('THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.');\n            }\n\n            _worldScale.setFromMatrixScale(this.matrixWorld);\n\n            _viewWorldMatrix.copy(raycaster.camera.matrixWorld);\n\n            this.modelViewMatrix.multiplyMatrices(raycaster.camera.matrixWorldInverse, this.matrixWorld);\n\n            _mvPosition.setFromMatrixPosition(this.modelViewMatrix);\n\n            if (raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false) {\n                _worldScale.multiplyScalar(-_mvPosition.z);\n            }\n\n            var rotation = this.material.rotation;\n            var sin, cos;\n\n            if (rotation !== 0) {\n                cos = Math.cos(rotation);\n                sin = Math.sin(rotation);\n            }\n\n            var center = this.center;\n            transformVertex(_vA$1.set(-0.5, -0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n            transformVertex(_vB$1.set(0.5, -0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n            transformVertex(_vC$1.set(0.5, 0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n\n            _uvA$1.set(0, 0);\n\n            _uvB$1.set(1, 0);\n\n            _uvC$1.set(1, 1); // check first triangle\n\n\n            var intersect = raycaster.ray.intersectTriangle(_vA$1, _vB$1, _vC$1, false, _intersectPoint);\n\n            if (intersect === null) {\n                // check second triangle\n                transformVertex(_vB$1.set(-0.5, 0.5, 0), _mvPosition, center, _worldScale, sin, cos);\n\n                _uvB$1.set(0, 1);\n\n                intersect = raycaster.ray.intersectTriangle(_vA$1, _vC$1, _vB$1, false, _intersectPoint);\n\n                if (intersect === null) {\n                    return;\n                }\n            }\n\n            var distance = raycaster.ray.origin.distanceTo(_intersectPoint);\n            if (distance < raycaster.near || distance > raycaster.far) return;\n            intersects.push({\n                distance: distance,\n                point: _intersectPoint.clone(),\n                uv: Triangle.getUV(_intersectPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2()),\n                face: null,\n                object: this\n            });\n        };\n\n        _proto.copy = function copy(source) {\n            _Object3D.prototype.copy.call(this, source);\n\n            if (source.center !== undefined) this.center.copy(source.center);\n            this.material = source.material;\n            return this;\n        };\n\n        return Sprite;\n    }(Object3D);\n\n    Sprite.prototype.isSprite = true;\n\n    function transformVertex(vertexPosition, mvPosition, center, scale, sin, cos) {\n        // compute position in camera space\n        _alignedPosition.subVectors(vertexPosition, center).addScalar(0.5).multiply(scale); // to check if rotation is not zero\n\n\n        if (sin !== undefined) {\n            _rotatedPosition.x = cos * _alignedPosition.x - sin * _alignedPosition.y;\n            _rotatedPosition.y = sin * _alignedPosition.x + cos * _alignedPosition.y;\n        } else {\n            _rotatedPosition.copy(_alignedPosition);\n        }\n\n        vertexPosition.copy(mvPosition);\n        vertexPosition.x += _rotatedPosition.x;\n        vertexPosition.y += _rotatedPosition.y; // transform to world space\n\n        vertexPosition.applyMatrix4(_viewWorldMatrix);\n    }\n\n    var _v1$4 = /*@__PURE__*/ new Vector3();\n\n    var _v2$2 = /*@__PURE__*/ new Vector3();\n\n    var LOD = /*#__PURE__*/ function(_Object3D) {\n        _inheritsLoose(LOD, _Object3D);\n\n        function LOD() {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this._currentLevel = 0;\n            _this.type = 'LOD';\n            Object.defineProperties(_assertThisInitialized(_this), {\n                levels: {\n                    enumerable: true,\n                    value: []\n                },\n                isLOD: {\n                    value: true\n                }\n            });\n            _this.autoUpdate = true;\n            return _this;\n        }\n\n        var _proto = LOD.prototype;\n\n        _proto.copy = function copy(source) {\n            _Object3D.prototype.copy.call(this, source, false);\n\n            var levels = source.levels;\n\n            for (var i = 0, l = levels.length; i < l; i++) {\n                var level = levels[i];\n                this.addLevel(level.object.clone(), level.distance);\n            }\n\n            this.autoUpdate = source.autoUpdate;\n            return this;\n        };\n\n        _proto.addLevel = function addLevel(object, distance) {\n            if (distance === void 0) {\n                distance = 0;\n            }\n\n            distance = Math.abs(distance);\n            var levels = this.levels;\n            var l;\n\n            for (l = 0; l < levels.length; l++) {\n                if (distance < levels[l].distance) {\n                    break;\n                }\n            }\n\n            levels.splice(l, 0, {\n                distance: distance,\n                object: object\n            });\n            this.add(object);\n            return this;\n        };\n\n        _proto.getCurrentLevel = function getCurrentLevel() {\n            return this._currentLevel;\n        };\n\n        _proto.getObjectForDistance = function getObjectForDistance(distance) {\n            var levels = this.levels;\n\n            if (levels.length > 0) {\n                var i, l;\n\n                for (i = 1, l = levels.length; i < l; i++) {\n                    if (distance < levels[i].distance) {\n                        break;\n                    }\n                }\n\n                return levels[i - 1].object;\n            }\n\n            return null;\n        };\n\n        _proto.raycast = function raycast(raycaster, intersects) {\n            var levels = this.levels;\n\n            if (levels.length > 0) {\n                _v1$4.setFromMatrixPosition(this.matrixWorld);\n\n                var distance = raycaster.ray.origin.distanceTo(_v1$4);\n                this.getObjectForDistance(distance).raycast(raycaster, intersects);\n            }\n        };\n\n        _proto.update = function update(camera) {\n            var levels = this.levels;\n\n            if (levels.length > 1) {\n                _v1$4.setFromMatrixPosition(camera.matrixWorld);\n\n                _v2$2.setFromMatrixPosition(this.matrixWorld);\n\n                var distance = _v1$4.distanceTo(_v2$2) / camera.zoom;\n                levels[0].object.visible = true;\n                var i, l;\n\n                for (i = 1, l = levels.length; i < l; i++) {\n                    if (distance >= levels[i].distance) {\n                        levels[i - 1].object.visible = false;\n                        levels[i].object.visible = true;\n                    } else {\n                        break;\n                    }\n                }\n\n                this._currentLevel = i - 1;\n\n                for (; i < l; i++) {\n                    levels[i].object.visible = false;\n                }\n            }\n        };\n\n        _proto.toJSON = function toJSON(meta) {\n            var data = _Object3D.prototype.toJSON.call(this, meta);\n\n            if (this.autoUpdate === false) data.object.autoUpdate = false;\n            data.object.levels = [];\n            var levels = this.levels;\n\n            for (var i = 0, l = levels.length; i < l; i++) {\n                var level = levels[i];\n                data.object.levels.push({\n                    object: level.object.uuid,\n                    distance: level.distance\n                });\n            }\n\n            return data;\n        };\n\n        return LOD;\n    }(Object3D);\n\n    var _basePosition = new Vector3();\n\n    var _skinIndex = new Vector4();\n\n    var _skinWeight = new Vector4();\n\n    var _vector$7 = new Vector3();\n\n    var _matrix$1 = new Matrix4();\n\n    function SkinnedMesh(geometry, material) {\n        Mesh.call(this, geometry, material);\n        this.type = 'SkinnedMesh';\n        this.bindMode = 'attached';\n        this.bindMatrix = new Matrix4();\n        this.bindMatrixInverse = new Matrix4();\n    }\n\n    SkinnedMesh.prototype = Object.assign(Object.create(Mesh.prototype), {\n        constructor: SkinnedMesh,\n        isSkinnedMesh: true,\n        copy: function copy(source) {\n            Mesh.prototype.copy.call(this, source);\n            this.bindMode = source.bindMode;\n            this.bindMatrix.copy(source.bindMatrix);\n            this.bindMatrixInverse.copy(source.bindMatrixInverse);\n            this.skeleton = source.skeleton;\n            return this;\n        },\n        bind: function bind(skeleton, bindMatrix) {\n            this.skeleton = skeleton;\n\n            if (bindMatrix === undefined) {\n                this.updateMatrixWorld(true);\n                this.skeleton.calculateInverses();\n                bindMatrix = this.matrixWorld;\n            }\n\n            this.bindMatrix.copy(bindMatrix);\n            this.bindMatrixInverse.copy(bindMatrix).invert();\n        },\n        pose: function pose() {\n            this.skeleton.pose();\n        },\n        normalizeSkinWeights: function normalizeSkinWeights() {\n            var vector = new Vector4();\n            var skinWeight = this.geometry.attributes.skinWeight;\n\n            for (var i = 0, l = skinWeight.count; i < l; i++) {\n                vector.x = skinWeight.getX(i);\n                vector.y = skinWeight.getY(i);\n                vector.z = skinWeight.getZ(i);\n                vector.w = skinWeight.getW(i);\n                var scale = 1.0 / vector.manhattanLength();\n\n                if (scale !== Infinity) {\n                    vector.multiplyScalar(scale);\n                } else {\n                    vector.set(1, 0, 0, 0); // do something reasonable\n                }\n\n                skinWeight.setXYZW(i, vector.x, vector.y, vector.z, vector.w);\n            }\n        },\n        updateMatrixWorld: function updateMatrixWorld(force) {\n            Mesh.prototype.updateMatrixWorld.call(this, force);\n\n            if (this.bindMode === 'attached') {\n                this.bindMatrixInverse.copy(this.matrixWorld).invert();\n            } else if (this.bindMode === 'detached') {\n                this.bindMatrixInverse.copy(this.bindMatrix).invert();\n            } else {\n                console.warn('THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode);\n            }\n        },\n        boneTransform: function boneTransform(index, target) {\n            var skeleton = this.skeleton;\n            var geometry = this.geometry;\n\n            _skinIndex.fromBufferAttribute(geometry.attributes.skinIndex, index);\n\n            _skinWeight.fromBufferAttribute(geometry.attributes.skinWeight, index);\n\n            _basePosition.fromBufferAttribute(geometry.attributes.position, index).applyMatrix4(this.bindMatrix);\n\n            target.set(0, 0, 0);\n\n            for (var i = 0; i < 4; i++) {\n                var weight = _skinWeight.getComponent(i);\n\n                if (weight !== 0) {\n                    var boneIndex = _skinIndex.getComponent(i);\n\n                    _matrix$1.multiplyMatrices(skeleton.bones[boneIndex].matrixWorld, skeleton.boneInverses[boneIndex]);\n\n                    target.addScaledVector(_vector$7.copy(_basePosition).applyMatrix4(_matrix$1), weight);\n                }\n            }\n\n            return target.applyMatrix4(this.bindMatrixInverse);\n        }\n    });\n\n    function Bone() {\n        Object3D.call(this);\n        this.type = 'Bone';\n    }\n\n    Bone.prototype = Object.assign(Object.create(Object3D.prototype), {\n        constructor: Bone,\n        isBone: true\n    });\n\n    var _offsetMatrix = /*@__PURE__*/ new Matrix4();\n\n    var _identityMatrix = /*@__PURE__*/ new Matrix4();\n\n    var Skeleton = /*#__PURE__*/ function() {\n        function Skeleton(bones, boneInverses) {\n            if (bones === void 0) {\n                bones = [];\n            }\n\n            if (boneInverses === void 0) {\n                boneInverses = [];\n            }\n\n            this.uuid = MathUtils.generateUUID();\n            this.bones = bones.slice(0);\n            this.boneInverses = boneInverses;\n            this.boneMatrices = null;\n            this.boneTexture = null;\n            this.boneTextureSize = 0;\n            this.frame = -1;\n            this.init();\n        }\n\n        var _proto = Skeleton.prototype;\n\n        _proto.init = function init() {\n            var bones = this.bones;\n            var boneInverses = this.boneInverses;\n            this.boneMatrices = new Float32Array(bones.length * 16); // calculate inverse bone matrices if necessary\n\n            if (boneInverses.length === 0) {\n                this.calculateInverses();\n            } else {\n                // handle special case\n                if (bones.length !== boneInverses.length) {\n                    console.warn('THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.');\n                    this.boneInverses = [];\n\n                    for (var i = 0, il = this.bones.length; i < il; i++) {\n                        this.boneInverses.push(new Matrix4());\n                    }\n                }\n            }\n        };\n\n        _proto.calculateInverses = function calculateInverses() {\n            this.boneInverses.length = 0;\n\n            for (var i = 0, il = this.bones.length; i < il; i++) {\n                var inverse = new Matrix4();\n\n                if (this.bones[i]) {\n                    inverse.copy(this.bones[i].matrixWorld).invert();\n                }\n\n                this.boneInverses.push(inverse);\n            }\n        };\n\n        _proto.pose = function pose() {\n            // recover the bind-time world matrices\n            for (var i = 0, il = this.bones.length; i < il; i++) {\n                var bone = this.bones[i];\n\n                if (bone) {\n                    bone.matrixWorld.copy(this.boneInverses[i]).invert();\n                }\n            } // compute the local matrices, positions, rotations and scales\n\n\n            for (var _i = 0, _il = this.bones.length; _i < _il; _i++) {\n                var _bone = this.bones[_i];\n\n                if (_bone) {\n                    if (_bone.parent && _bone.parent.isBone) {\n                        _bone.matrix.copy(_bone.parent.matrixWorld).invert();\n\n                        _bone.matrix.multiply(_bone.matrixWorld);\n                    } else {\n                        _bone.matrix.copy(_bone.matrixWorld);\n                    }\n\n                    _bone.matrix.decompose(_bone.position, _bone.quaternion, _bone.scale);\n                }\n            }\n        };\n\n        _proto.update = function update() {\n            var bones = this.bones;\n            var boneInverses = this.boneInverses;\n            var boneMatrices = this.boneMatrices;\n            var boneTexture = this.boneTexture; // flatten bone matrices to array\n\n            for (var i = 0, il = bones.length; i < il; i++) {\n                // compute the offset between the current and the original transform\n                var matrix = bones[i] ? bones[i].matrixWorld : _identityMatrix;\n\n                _offsetMatrix.multiplyMatrices(matrix, boneInverses[i]);\n\n                _offsetMatrix.toArray(boneMatrices, i * 16);\n            }\n\n            if (boneTexture !== null) {\n                boneTexture.needsUpdate = true;\n            }\n        };\n\n        _proto.clone = function clone() {\n            return new Skeleton(this.bones, this.boneInverses);\n        };\n\n        _proto.getBoneByName = function getBoneByName(name) {\n            for (var i = 0, il = this.bones.length; i < il; i++) {\n                var bone = this.bones[i];\n\n                if (bone.name === name) {\n                    return bone;\n                }\n            }\n\n            return undefined;\n        };\n\n        _proto.dispose = function dispose() {\n            if (this.boneTexture !== null) {\n                this.boneTexture.dispose();\n                this.boneTexture = null;\n            }\n        };\n\n        _proto.fromJSON = function fromJSON(json, bones) {\n            this.uuid = json.uuid;\n\n            for (var i = 0, l = json.bones.length; i < l; i++) {\n                var uuid = json.bones[i];\n                var bone = bones[uuid];\n\n                if (bone === undefined) {\n                    console.warn('THREE.Skeleton: No bone found with UUID:', uuid);\n                    bone = new Bone();\n                }\n\n                this.bones.push(bone);\n                this.boneInverses.push(new Matrix4().fromArray(json.boneInverses[i]));\n            }\n\n            this.init();\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            var data = {\n                metadata: {\n                    version: 4.5,\n                    type: 'Skeleton',\n                    generator: 'Skeleton.toJSON'\n                },\n                bones: [],\n                boneInverses: []\n            };\n            data.uuid = this.uuid;\n            var bones = this.bones;\n            var boneInverses = this.boneInverses;\n\n            for (var i = 0, l = bones.length; i < l; i++) {\n                var bone = bones[i];\n                data.bones.push(bone.uuid);\n                var boneInverse = boneInverses[i];\n                data.boneInverses.push(boneInverse.toArray());\n            }\n\n            return data;\n        };\n\n        return Skeleton;\n    }();\n\n    var _instanceLocalMatrix = new Matrix4();\n\n    var _instanceWorldMatrix = new Matrix4();\n\n    var _instanceIntersects = [];\n\n    var _mesh = new Mesh();\n\n    function InstancedMesh(geometry, material, count) {\n        Mesh.call(this, geometry, material);\n        this.instanceMatrix = new BufferAttribute(new Float32Array(count * 16), 16);\n        this.instanceColor = null;\n        this.count = count;\n        this.frustumCulled = false;\n    }\n\n    InstancedMesh.prototype = Object.assign(Object.create(Mesh.prototype), {\n        constructor: InstancedMesh,\n        isInstancedMesh: true,\n        copy: function copy(source) {\n            Mesh.prototype.copy.call(this, source);\n            this.instanceMatrix.copy(source.instanceMatrix);\n            if (source.instanceColor !== null) this.instanceColor = source.instanceColor.clone();\n            this.count = source.count;\n            return this;\n        },\n        getColorAt: function getColorAt(index, color) {\n            color.fromArray(this.instanceColor.array, index * 3);\n        },\n        getMatrixAt: function getMatrixAt(index, matrix) {\n            matrix.fromArray(this.instanceMatrix.array, index * 16);\n        },\n        raycast: function raycast(raycaster, intersects) {\n            var matrixWorld = this.matrixWorld;\n            var raycastTimes = this.count;\n            _mesh.geometry = this.geometry;\n            _mesh.material = this.material;\n            if (_mesh.material === undefined) return;\n\n            for (var instanceId = 0; instanceId < raycastTimes; instanceId++) {\n                // calculate the world matrix for each instance\n                this.getMatrixAt(instanceId, _instanceLocalMatrix);\n\n                _instanceWorldMatrix.multiplyMatrices(matrixWorld, _instanceLocalMatrix); // the mesh represents this single instance\n\n\n                _mesh.matrixWorld = _instanceWorldMatrix;\n\n                _mesh.raycast(raycaster, _instanceIntersects); // process the result of raycast\n\n\n                for (var i = 0, l = _instanceIntersects.length; i < l; i++) {\n                    var intersect = _instanceIntersects[i];\n                    intersect.instanceId = instanceId;\n                    intersect.object = this;\n                    intersects.push(intersect);\n                }\n\n                _instanceIntersects.length = 0;\n            }\n        },\n        setColorAt: function setColorAt(index, color) {\n            if (this.instanceColor === null) {\n                this.instanceColor = new BufferAttribute(new Float32Array(this.count * 3), 3);\n            }\n\n            color.toArray(this.instanceColor.array, index * 3);\n        },\n        setMatrixAt: function setMatrixAt(index, matrix) {\n            matrix.toArray(this.instanceMatrix.array, index * 16);\n        },\n        updateMorphTargets: function updateMorphTargets() {},\n        dispose: function dispose() {\n            this.dispatchEvent({\n                type: 'dispose'\n            });\n        }\n    });\n\n    /**\n     * parameters = {\n     *\tcolor: <hex>,\n     *\topacity: <float>,\n     *\n     *\tlinewidth: <float>,\n     *\tlinecap: \"round\",\n     *\tlinejoin: \"round\"\n     * }\n     */\n\n    var LineBasicMaterial = /*#__PURE__*/ function(_Material) {\n        _inheritsLoose(LineBasicMaterial, _Material);\n\n        function LineBasicMaterial(parameters) {\n            var _this;\n\n            _this = _Material.call(this) || this;\n            _this.type = 'LineBasicMaterial';\n            _this.color = new Color(0xffffff);\n            _this.linewidth = 1;\n            _this.linecap = 'round';\n            _this.linejoin = 'round';\n            _this.morphTargets = false;\n\n            _this.setValues(parameters);\n\n            return _this;\n        }\n\n        var _proto = LineBasicMaterial.prototype;\n\n        _proto.copy = function copy(source) {\n            _Material.prototype.copy.call(this, source);\n\n            this.color.copy(source.color);\n            this.linewidth = source.linewidth;\n            this.linecap = source.linecap;\n            this.linejoin = source.linejoin;\n            this.morphTargets = source.morphTargets;\n            return this;\n        };\n\n        return LineBasicMaterial;\n    }(Material);\n\n    LineBasicMaterial.prototype.isLineBasicMaterial = true;\n\n    var _start = new Vector3();\n\n    var _end = new Vector3();\n\n    var _inverseMatrix$1 = new Matrix4();\n\n    var _ray$1 = new Ray();\n\n    var _sphere$2 = new Sphere();\n\n    function Line(geometry, material) {\n        if (geometry === void 0) {\n            geometry = new BufferGeometry();\n        }\n\n        if (material === void 0) {\n            material = new LineBasicMaterial();\n        }\n\n        Object3D.call(this);\n        this.type = 'Line';\n        this.geometry = geometry;\n        this.material = material;\n        this.updateMorphTargets();\n    }\n\n    Line.prototype = Object.assign(Object.create(Object3D.prototype), {\n        constructor: Line,\n        isLine: true,\n        copy: function copy(source) {\n            Object3D.prototype.copy.call(this, source);\n            this.material = source.material;\n            this.geometry = source.geometry;\n            return this;\n        },\n        computeLineDistances: function computeLineDistances() {\n            var geometry = this.geometry;\n\n            if (geometry.isBufferGeometry) {\n                // we assume non-indexed geometry\n                if (geometry.index === null) {\n                    var positionAttribute = geometry.attributes.position;\n                    var lineDistances = [0];\n\n                    for (var i = 1, l = positionAttribute.count; i < l; i++) {\n                        _start.fromBufferAttribute(positionAttribute, i - 1);\n\n                        _end.fromBufferAttribute(positionAttribute, i);\n\n                        lineDistances[i] = lineDistances[i - 1];\n                        lineDistances[i] += _start.distanceTo(_end);\n                    }\n\n                    geometry.setAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));\n                } else {\n                    console.warn('THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');\n                }\n            } else if (geometry.isGeometry) {\n                console.error('THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n            }\n\n            return this;\n        },\n        raycast: function raycast(raycaster, intersects) {\n            var geometry = this.geometry;\n            var matrixWorld = this.matrixWorld;\n            var threshold = raycaster.params.Line.threshold; // Checking boundingSphere distance to ray\n\n            if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n            _sphere$2.copy(geometry.boundingSphere);\n\n            _sphere$2.applyMatrix4(matrixWorld);\n\n            _sphere$2.radius += threshold;\n            if (raycaster.ray.intersectsSphere(_sphere$2) === false) return; //\n\n            _inverseMatrix$1.copy(matrixWorld).invert();\n\n            _ray$1.copy(raycaster.ray).applyMatrix4(_inverseMatrix$1);\n\n            var localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n            var localThresholdSq = localThreshold * localThreshold;\n            var vStart = new Vector3();\n            var vEnd = new Vector3();\n            var interSegment = new Vector3();\n            var interRay = new Vector3();\n            var step = this.isLineSegments ? 2 : 1;\n\n            if (geometry.isBufferGeometry) {\n                var index = geometry.index;\n                var attributes = geometry.attributes;\n                var positionAttribute = attributes.position;\n\n                if (index !== null) {\n                    var indices = index.array;\n\n                    for (var i = 0, l = indices.length - 1; i < l; i += step) {\n                        var a = indices[i];\n                        var b = indices[i + 1];\n                        vStart.fromBufferAttribute(positionAttribute, a);\n                        vEnd.fromBufferAttribute(positionAttribute, b);\n\n                        var distSq = _ray$1.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n\n                        if (distSq > localThresholdSq) continue;\n                        interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n                        var distance = raycaster.ray.origin.distanceTo(interRay);\n                        if (distance < raycaster.near || distance > raycaster.far) continue;\n                        intersects.push({\n                            distance: distance,\n                            // What do we want? intersection point on the ray or on the segment??\n                            // point: raycaster.ray.at( distance ),\n                            point: interSegment.clone().applyMatrix4(this.matrixWorld),\n                            index: i,\n                            face: null,\n                            faceIndex: null,\n                            object: this\n                        });\n                    }\n                } else {\n                    for (var _i = 0, _l = positionAttribute.count - 1; _i < _l; _i += step) {\n                        vStart.fromBufferAttribute(positionAttribute, _i);\n                        vEnd.fromBufferAttribute(positionAttribute, _i + 1);\n\n                        var _distSq = _ray$1.distanceSqToSegment(vStart, vEnd, interRay, interSegment);\n\n                        if (_distSq > localThresholdSq) continue;\n                        interRay.applyMatrix4(this.matrixWorld); //Move back to world space for distance calculation\n\n                        var _distance = raycaster.ray.origin.distanceTo(interRay);\n\n                        if (_distance < raycaster.near || _distance > raycaster.far) continue;\n                        intersects.push({\n                            distance: _distance,\n                            // What do we want? intersection point on the ray or on the segment??\n                            // point: raycaster.ray.at( distance ),\n                            point: interSegment.clone().applyMatrix4(this.matrixWorld),\n                            index: _i,\n                            face: null,\n                            faceIndex: null,\n                            object: this\n                        });\n                    }\n                }\n            } else if (geometry.isGeometry) {\n                console.error('THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n            }\n        },\n        updateMorphTargets: function updateMorphTargets() {\n            var geometry = this.geometry;\n\n            if (geometry.isBufferGeometry) {\n                var morphAttributes = geometry.morphAttributes;\n                var keys = Object.keys(morphAttributes);\n\n                if (keys.length > 0) {\n                    var morphAttribute = morphAttributes[keys[0]];\n\n                    if (morphAttribute !== undefined) {\n                        this.morphTargetInfluences = [];\n                        this.morphTargetDictionary = {};\n\n                        for (var m = 0, ml = morphAttribute.length; m < ml; m++) {\n                            var name = morphAttribute[m].name || String(m);\n                            this.morphTargetInfluences.push(0);\n                            this.morphTargetDictionary[name] = m;\n                        }\n                    }\n                }\n            } else {\n                var morphTargets = geometry.morphTargets;\n\n                if (morphTargets !== undefined && morphTargets.length > 0) {\n                    console.error('THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.');\n                }\n            }\n        }\n    });\n\n    var _start$1 = new Vector3();\n\n    var _end$1 = new Vector3();\n\n    function LineSegments(geometry, material) {\n        Line.call(this, geometry, material);\n        this.type = 'LineSegments';\n    }\n\n    LineSegments.prototype = Object.assign(Object.create(Line.prototype), {\n        constructor: LineSegments,\n        isLineSegments: true,\n        computeLineDistances: function computeLineDistances() {\n            var geometry = this.geometry;\n\n            if (geometry.isBufferGeometry) {\n                // we assume non-indexed geometry\n                if (geometry.index === null) {\n                    var positionAttribute = geometry.attributes.position;\n                    var lineDistances = [];\n\n                    for (var i = 0, l = positionAttribute.count; i < l; i += 2) {\n                        _start$1.fromBufferAttribute(positionAttribute, i);\n\n                        _end$1.fromBufferAttribute(positionAttribute, i + 1);\n\n                        lineDistances[i] = i === 0 ? 0 : lineDistances[i - 1];\n                        lineDistances[i + 1] = lineDistances[i] + _start$1.distanceTo(_end$1);\n                    }\n\n                    geometry.setAttribute('lineDistance', new Float32BufferAttribute(lineDistances, 1));\n                } else {\n                    console.warn('THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.');\n                }\n            } else if (geometry.isGeometry) {\n                console.error('THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n            }\n\n            return this;\n        }\n    });\n\n    var LineLoop = /*#__PURE__*/ function(_Line) {\n        _inheritsLoose(LineLoop, _Line);\n\n        function LineLoop(geometry, material) {\n            var _this;\n\n            _this = _Line.call(this, geometry, material) || this;\n            _this.type = 'LineLoop';\n            return _this;\n        }\n\n        return LineLoop;\n    }(Line);\n\n    LineLoop.prototype.isLineLoop = true;\n\n    /**\n     * parameters = {\n     *\tcolor: <hex>,\n     *\topacity: <float>,\n     *\tmap: new THREE.Texture( <Image> ),\n     *\talphaMap: new THREE.Texture( <Image> ),\n     *\n     *\tsize: <float>,\n     *\tsizeAttenuation: <bool>\n     *\n     *\tmorphTargets: <bool>\n     * }\n     */\n\n    var PointsMaterial = /*#__PURE__*/ function(_Material) {\n        _inheritsLoose(PointsMaterial, _Material);\n\n        function PointsMaterial(parameters) {\n            var _this;\n\n            _this = _Material.call(this) || this;\n            _this.type = 'PointsMaterial';\n            _this.color = new Color(0xffffff);\n            _this.map = null;\n            _this.alphaMap = null;\n            _this.size = 1;\n            _this.sizeAttenuation = true;\n            _this.morphTargets = false;\n\n            _this.setValues(parameters);\n\n            return _this;\n        }\n\n        var _proto = PointsMaterial.prototype;\n\n        _proto.copy = function copy(source) {\n            _Material.prototype.copy.call(this, source);\n\n            this.color.copy(source.color);\n            this.map = source.map;\n            this.alphaMap = source.alphaMap;\n            this.size = source.size;\n            this.sizeAttenuation = source.sizeAttenuation;\n            this.morphTargets = source.morphTargets;\n            return this;\n        };\n\n        return PointsMaterial;\n    }(Material);\n\n    PointsMaterial.prototype.isPointsMaterial = true;\n\n    var _inverseMatrix$2 = new Matrix4();\n\n    var _ray$2 = new Ray();\n\n    var _sphere$3 = new Sphere();\n\n    var _position$1 = new Vector3();\n\n    function Points(geometry, material) {\n        if (geometry === void 0) {\n            geometry = new BufferGeometry();\n        }\n\n        if (material === void 0) {\n            material = new PointsMaterial();\n        }\n\n        Object3D.call(this);\n        this.type = 'Points';\n        this.geometry = geometry;\n        this.material = material;\n        this.updateMorphTargets();\n    }\n\n    Points.prototype = Object.assign(Object.create(Object3D.prototype), {\n        constructor: Points,\n        isPoints: true,\n        copy: function copy(source) {\n            Object3D.prototype.copy.call(this, source);\n            this.material = source.material;\n            this.geometry = source.geometry;\n            return this;\n        },\n        raycast: function raycast(raycaster, intersects) {\n            var geometry = this.geometry;\n            var matrixWorld = this.matrixWorld;\n            var threshold = raycaster.params.Points.threshold; // Checking boundingSphere distance to ray\n\n            if (geometry.boundingSphere === null) geometry.computeBoundingSphere();\n\n            _sphere$3.copy(geometry.boundingSphere);\n\n            _sphere$3.applyMatrix4(matrixWorld);\n\n            _sphere$3.radius += threshold;\n            if (raycaster.ray.intersectsSphere(_sphere$3) === false) return; //\n\n            _inverseMatrix$2.copy(matrixWorld).invert();\n\n            _ray$2.copy(raycaster.ray).applyMatrix4(_inverseMatrix$2);\n\n            var localThreshold = threshold / ((this.scale.x + this.scale.y + this.scale.z) / 3);\n            var localThresholdSq = localThreshold * localThreshold;\n\n            if (geometry.isBufferGeometry) {\n                var index = geometry.index;\n                var attributes = geometry.attributes;\n                var positionAttribute = attributes.position;\n\n                if (index !== null) {\n                    var indices = index.array;\n\n                    for (var i = 0, il = indices.length; i < il; i++) {\n                        var a = indices[i];\n\n                        _position$1.fromBufferAttribute(positionAttribute, a);\n\n                        testPoint(_position$1, a, localThresholdSq, matrixWorld, raycaster, intersects, this);\n                    }\n                } else {\n                    for (var _i = 0, l = positionAttribute.count; _i < l; _i++) {\n                        _position$1.fromBufferAttribute(positionAttribute, _i);\n\n                        testPoint(_position$1, _i, localThresholdSq, matrixWorld, raycaster, intersects, this);\n                    }\n                }\n            } else {\n                console.error('THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n            }\n        },\n        updateMorphTargets: function updateMorphTargets() {\n            var geometry = this.geometry;\n\n            if (geometry.isBufferGeometry) {\n                var morphAttributes = geometry.morphAttributes;\n                var keys = Object.keys(morphAttributes);\n\n                if (keys.length > 0) {\n                    var morphAttribute = morphAttributes[keys[0]];\n\n                    if (morphAttribute !== undefined) {\n                        this.morphTargetInfluences = [];\n                        this.morphTargetDictionary = {};\n\n                        for (var m = 0, ml = morphAttribute.length; m < ml; m++) {\n                            var name = morphAttribute[m].name || String(m);\n                            this.morphTargetInfluences.push(0);\n                            this.morphTargetDictionary[name] = m;\n                        }\n                    }\n                }\n            } else {\n                var morphTargets = geometry.morphTargets;\n\n                if (morphTargets !== undefined && morphTargets.length > 0) {\n                    console.error('THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.');\n                }\n            }\n        }\n    });\n\n    function testPoint(point, index, localThresholdSq, matrixWorld, raycaster, intersects, object) {\n        var rayPointDistanceSq = _ray$2.distanceSqToPoint(point);\n\n        if (rayPointDistanceSq < localThresholdSq) {\n            var intersectPoint = new Vector3();\n\n            _ray$2.closestPointToPoint(point, intersectPoint);\n\n            intersectPoint.applyMatrix4(matrixWorld);\n            var distance = raycaster.ray.origin.distanceTo(intersectPoint);\n            if (distance < raycaster.near || distance > raycaster.far) return;\n            intersects.push({\n                distance: distance,\n                distanceToRay: Math.sqrt(rayPointDistanceSq),\n                point: intersectPoint,\n                index: index,\n                face: null,\n                object: object\n            });\n        }\n    }\n\n    var VideoTexture = /*#__PURE__*/ function(_Texture) {\n        _inheritsLoose(VideoTexture, _Texture);\n\n        function VideoTexture(video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {\n            var _this;\n\n            _this = _Texture.call(this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) || this;\n            _this.format = format !== undefined ? format : RGBFormat;\n            _this.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n            _this.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n            _this.generateMipmaps = false;\n\n            var scope = _assertThisInitialized(_this);\n\n            function updateVideo() {\n                scope.needsUpdate = true;\n                video.requestVideoFrameCallback(updateVideo);\n            }\n\n            if ('requestVideoFrameCallback' in video) {\n                video.requestVideoFrameCallback(updateVideo);\n            }\n\n            return _this;\n        }\n\n        var _proto = VideoTexture.prototype;\n\n        _proto.clone = function clone() {\n            return new this.constructor(this.image).copy(this);\n        };\n\n        _proto.update = function update() {\n            var video = this.image;\n            var hasVideoFrameCallback = ('requestVideoFrameCallback' in video);\n\n            if (hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA) {\n                this.needsUpdate = true;\n            }\n        };\n\n        return VideoTexture;\n    }(Texture);\n\n    VideoTexture.prototype.isVideoTexture = true;\n\n    var CompressedTexture = /*#__PURE__*/ function(_Texture) {\n        _inheritsLoose(CompressedTexture, _Texture);\n\n        function CompressedTexture(mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding) {\n            var _this;\n\n            _this = _Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding) || this;\n            _this.image = {\n                width: width,\n                height: height\n            };\n            _this.mipmaps = mipmaps; // no flipping for cube textures\n            // (also flipping doesn't work for compressed textures )\n\n            _this.flipY = false; // can't generate mipmaps for compressed textures\n            // mips must be embedded in DDS files\n\n            _this.generateMipmaps = false;\n            return _this;\n        }\n\n        return CompressedTexture;\n    }(Texture);\n\n    CompressedTexture.prototype.isCompressedTexture = true;\n\n    var CanvasTexture = /*#__PURE__*/ function(_Texture) {\n        _inheritsLoose(CanvasTexture, _Texture);\n\n        function CanvasTexture(canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) {\n            var _this;\n\n            _this = _Texture.call(this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) || this;\n            _this.needsUpdate = true;\n            return _this;\n        }\n\n        return CanvasTexture;\n    }(Texture);\n\n    CanvasTexture.prototype.isCanvasTexture = true;\n\n    var DepthTexture = /*#__PURE__*/ function(_Texture) {\n        _inheritsLoose(DepthTexture, _Texture);\n\n        function DepthTexture(width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format) {\n            var _this;\n\n            format = format !== undefined ? format : DepthFormat;\n\n            if (format !== DepthFormat && format !== DepthStencilFormat) {\n                throw new Error('DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat');\n            }\n\n            if (type === undefined && format === DepthFormat) type = UnsignedShortType;\n            if (type === undefined && format === DepthStencilFormat) type = UnsignedInt248Type;\n            _this = _Texture.call(this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy) || this;\n            _this.image = {\n                width: width,\n                height: height\n            };\n            _this.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n            _this.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n            _this.flipY = false;\n            _this.generateMipmaps = false;\n            return _this;\n        }\n\n        return DepthTexture;\n    }(Texture);\n\n    DepthTexture.prototype.isDepthTexture = true;\n\n    var CircleGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(CircleGeometry, _BufferGeometry);\n\n        function CircleGeometry(radius, segments, thetaStart, thetaLength) {\n            var _this;\n\n            if (radius === void 0) {\n                radius = 1;\n            }\n\n            if (segments === void 0) {\n                segments = 8;\n            }\n\n            if (thetaStart === void 0) {\n                thetaStart = 0;\n            }\n\n            if (thetaLength === void 0) {\n                thetaLength = Math.PI * 2;\n            }\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'CircleGeometry';\n            _this.parameters = {\n                radius: radius,\n                segments: segments,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n            segments = Math.max(3, segments); // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // helper variables\n\n            var vertex = new Vector3();\n            var uv = new Vector2(); // center point\n\n            vertices.push(0, 0, 0);\n            normals.push(0, 0, 1);\n            uvs.push(0.5, 0.5);\n\n            for (var s = 0, i = 3; s <= segments; s++, i += 3) {\n                var segment = thetaStart + s / segments * thetaLength; // vertex\n\n                vertex.x = radius * Math.cos(segment);\n                vertex.y = radius * Math.sin(segment);\n                vertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n                normals.push(0, 0, 1); // uvs\n\n                uv.x = (vertices[i] / radius + 1) / 2;\n                uv.y = (vertices[i + 1] / radius + 1) / 2;\n                uvs.push(uv.x, uv.y);\n            } // indices\n\n\n            for (var _i = 1; _i <= segments; _i++) {\n                indices.push(_i, _i + 1, 0);\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n            return _this;\n        }\n\n        return CircleGeometry;\n    }(BufferGeometry);\n\n    var CylinderGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(CylinderGeometry, _BufferGeometry);\n\n        function CylinderGeometry(radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n            var _this;\n\n            if (radiusTop === void 0) {\n                radiusTop = 1;\n            }\n\n            if (radiusBottom === void 0) {\n                radiusBottom = 1;\n            }\n\n            if (height === void 0) {\n                height = 1;\n            }\n\n            if (radialSegments === void 0) {\n                radialSegments = 8;\n            }\n\n            if (heightSegments === void 0) {\n                heightSegments = 1;\n            }\n\n            if (openEnded === void 0) {\n                openEnded = false;\n            }\n\n            if (thetaStart === void 0) {\n                thetaStart = 0;\n            }\n\n            if (thetaLength === void 0) {\n                thetaLength = Math.PI * 2;\n            }\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'CylinderGeometry';\n            _this.parameters = {\n                radiusTop: radiusTop,\n                radiusBottom: radiusBottom,\n                height: height,\n                radialSegments: radialSegments,\n                heightSegments: heightSegments,\n                openEnded: openEnded,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n\n            var scope = _assertThisInitialized(_this);\n\n            radialSegments = Math.floor(radialSegments);\n            heightSegments = Math.floor(heightSegments); // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // helper variables\n\n            var index = 0;\n            var indexArray = [];\n            var halfHeight = height / 2;\n            var groupStart = 0; // generate geometry\n\n            generateTorso();\n\n            if (openEnded === false) {\n                if (radiusTop > 0) generateCap(true);\n                if (radiusBottom > 0) generateCap(false);\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n            function generateTorso() {\n                var normal = new Vector3();\n                var vertex = new Vector3();\n                var groupCount = 0; // this will be used to calculate the normal\n\n                var slope = (radiusBottom - radiusTop) / height; // generate vertices, normals and uvs\n\n                for (var y = 0; y <= heightSegments; y++) {\n                    var indexRow = [];\n                    var v = y / heightSegments; // calculate the radius of the current row\n\n                    var radius = v * (radiusBottom - radiusTop) + radiusTop;\n\n                    for (var x = 0; x <= radialSegments; x++) {\n                        var u = x / radialSegments;\n                        var theta = u * thetaLength + thetaStart;\n                        var sinTheta = Math.sin(theta);\n                        var cosTheta = Math.cos(theta); // vertex\n\n                        vertex.x = radius * sinTheta;\n                        vertex.y = -v * height + halfHeight;\n                        vertex.z = radius * cosTheta;\n                        vertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n                        normal.set(sinTheta, slope, cosTheta).normalize();\n                        normals.push(normal.x, normal.y, normal.z); // uv\n\n                        uvs.push(u, 1 - v); // save index of vertex in respective row\n\n                        indexRow.push(index++);\n                    } // now save vertices of the row in our index array\n\n\n                    indexArray.push(indexRow);\n                } // generate indices\n\n\n                for (var _x = 0; _x < radialSegments; _x++) {\n                    for (var _y = 0; _y < heightSegments; _y++) {\n                        // we use the index array to access the correct indices\n                        var a = indexArray[_y][_x];\n                        var b = indexArray[_y + 1][_x];\n                        var c = indexArray[_y + 1][_x + 1];\n                        var d = indexArray[_y][_x + 1]; // faces\n\n                        indices.push(a, b, d);\n                        indices.push(b, c, d); // update group counter\n\n                        groupCount += 6;\n                    }\n                } // add a group to the geometry. this will ensure multi material support\n\n\n                scope.addGroup(groupStart, groupCount, 0); // calculate new start value for groups\n\n                groupStart += groupCount;\n            }\n\n            function generateCap(top) {\n                // save the index of the first center vertex\n                var centerIndexStart = index;\n                var uv = new Vector2();\n                var vertex = new Vector3();\n                var groupCount = 0;\n                var radius = top === true ? radiusTop : radiusBottom;\n                var sign = top === true ? 1 : -1; // first we generate the center vertex data of the cap.\n                // because the geometry needs one set of uvs per face,\n                // we must generate a center vertex per face/segment\n\n                for (var x = 1; x <= radialSegments; x++) {\n                    // vertex\n                    vertices.push(0, halfHeight * sign, 0); // normal\n\n                    normals.push(0, sign, 0); // uv\n\n                    uvs.push(0.5, 0.5); // increase index\n\n                    index++;\n                } // save the index of the last center vertex\n\n\n                var centerIndexEnd = index; // now we generate the surrounding vertices, normals and uvs\n\n                for (var _x2 = 0; _x2 <= radialSegments; _x2++) {\n                    var u = _x2 / radialSegments;\n                    var theta = u * thetaLength + thetaStart;\n                    var cosTheta = Math.cos(theta);\n                    var sinTheta = Math.sin(theta); // vertex\n\n                    vertex.x = radius * sinTheta;\n                    vertex.y = halfHeight * sign;\n                    vertex.z = radius * cosTheta;\n                    vertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n                    normals.push(0, sign, 0); // uv\n\n                    uv.x = cosTheta * 0.5 + 0.5;\n                    uv.y = sinTheta * 0.5 * sign + 0.5;\n                    uvs.push(uv.x, uv.y); // increase index\n\n                    index++;\n                } // generate indices\n\n\n                for (var _x3 = 0; _x3 < radialSegments; _x3++) {\n                    var c = centerIndexStart + _x3;\n                    var i = centerIndexEnd + _x3;\n\n                    if (top === true) {\n                        // face top\n                        indices.push(i, i + 1, c);\n                    } else {\n                        // face bottom\n                        indices.push(i + 1, i, c);\n                    }\n\n                    groupCount += 3;\n                } // add a group to the geometry. this will ensure multi material support\n\n\n                scope.addGroup(groupStart, groupCount, top === true ? 1 : 2); // calculate new start value for groups\n\n                groupStart += groupCount;\n            }\n\n            return _this;\n        }\n\n        return CylinderGeometry;\n    }(BufferGeometry);\n\n    var ConeGeometry = /*#__PURE__*/ function(_CylinderGeometry) {\n        _inheritsLoose(ConeGeometry, _CylinderGeometry);\n\n        function ConeGeometry(radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) {\n            var _this;\n\n            if (radius === void 0) {\n                radius = 1;\n            }\n\n            if (height === void 0) {\n                height = 1;\n            }\n\n            if (radialSegments === void 0) {\n                radialSegments = 8;\n            }\n\n            if (heightSegments === void 0) {\n                heightSegments = 1;\n            }\n\n            if (openEnded === void 0) {\n                openEnded = false;\n            }\n\n            if (thetaStart === void 0) {\n                thetaStart = 0;\n            }\n\n            if (thetaLength === void 0) {\n                thetaLength = Math.PI * 2;\n            }\n\n            _this = _CylinderGeometry.call(this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength) || this;\n            _this.type = 'ConeGeometry';\n            _this.parameters = {\n                radius: radius,\n                height: height,\n                radialSegments: radialSegments,\n                heightSegments: heightSegments,\n                openEnded: openEnded,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n            return _this;\n        }\n\n        return ConeGeometry;\n    }(CylinderGeometry);\n\n    var PolyhedronGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(PolyhedronGeometry, _BufferGeometry);\n\n        function PolyhedronGeometry(vertices, indices, radius, detail) {\n            var _this;\n\n            if (radius === void 0) {\n                radius = 1;\n            }\n\n            if (detail === void 0) {\n                detail = 0;\n            }\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'PolyhedronGeometry';\n            _this.parameters = {\n                vertices: vertices,\n                indices: indices,\n                radius: radius,\n                detail: detail\n            }; // default buffer data\n\n            var vertexBuffer = [];\n            var uvBuffer = []; // the subdivision creates the vertex buffer data\n\n            subdivide(detail); // all vertices should lie on a conceptual sphere with a given radius\n\n            applyRadius(radius); // finally, create the uv data\n\n            generateUVs(); // build non-indexed geometry\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertexBuffer, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(vertexBuffer.slice(), 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvBuffer, 2));\n\n            if (detail === 0) {\n                _this.computeVertexNormals(); // flat normals\n\n            } else {\n                _this.normalizeNormals(); // smooth normals\n\n            } // helper functions\n\n\n            function subdivide(detail) {\n                var a = new Vector3();\n                var b = new Vector3();\n                var c = new Vector3(); // iterate over all faces and apply a subdivison with the given detail value\n\n                for (var i = 0; i < indices.length; i += 3) {\n                    // get the vertices of the face\n                    getVertexByIndex(indices[i + 0], a);\n                    getVertexByIndex(indices[i + 1], b);\n                    getVertexByIndex(indices[i + 2], c); // perform subdivision\n\n                    subdivideFace(a, b, c, detail);\n                }\n            }\n\n            function subdivideFace(a, b, c, detail) {\n                var cols = detail + 1; // we use this multidimensional array as a data structure for creating the subdivision\n\n                var v = []; // construct all of the vertices for this subdivision\n\n                for (var i = 0; i <= cols; i++) {\n                    v[i] = [];\n                    var aj = a.clone().lerp(c, i / cols);\n                    var bj = b.clone().lerp(c, i / cols);\n                    var rows = cols - i;\n\n                    for (var j = 0; j <= rows; j++) {\n                        if (j === 0 && i === cols) {\n                            v[i][j] = aj;\n                        } else {\n                            v[i][j] = aj.clone().lerp(bj, j / rows);\n                        }\n                    }\n                } // construct all of the faces\n\n\n                for (var _i = 0; _i < cols; _i++) {\n                    for (var _j = 0; _j < 2 * (cols - _i) - 1; _j++) {\n                        var k = Math.floor(_j / 2);\n\n                        if (_j % 2 === 0) {\n                            pushVertex(v[_i][k + 1]);\n                            pushVertex(v[_i + 1][k]);\n                            pushVertex(v[_i][k]);\n                        } else {\n                            pushVertex(v[_i][k + 1]);\n                            pushVertex(v[_i + 1][k + 1]);\n                            pushVertex(v[_i + 1][k]);\n                        }\n                    }\n                }\n            }\n\n            function applyRadius(radius) {\n                var vertex = new Vector3(); // iterate over the entire buffer and apply the radius to each vertex\n\n                for (var i = 0; i < vertexBuffer.length; i += 3) {\n                    vertex.x = vertexBuffer[i + 0];\n                    vertex.y = vertexBuffer[i + 1];\n                    vertex.z = vertexBuffer[i + 2];\n                    vertex.normalize().multiplyScalar(radius);\n                    vertexBuffer[i + 0] = vertex.x;\n                    vertexBuffer[i + 1] = vertex.y;\n                    vertexBuffer[i + 2] = vertex.z;\n                }\n            }\n\n            function generateUVs() {\n                var vertex = new Vector3();\n\n                for (var i = 0; i < vertexBuffer.length; i += 3) {\n                    vertex.x = vertexBuffer[i + 0];\n                    vertex.y = vertexBuffer[i + 1];\n                    vertex.z = vertexBuffer[i + 2];\n                    var u = azimuth(vertex) / 2 / Math.PI + 0.5;\n                    var v = inclination(vertex) / Math.PI + 0.5;\n                    uvBuffer.push(u, 1 - v);\n                }\n\n                correctUVs();\n                correctSeam();\n            }\n\n            function correctSeam() {\n                // handle case when face straddles the seam, see #3269\n                for (var i = 0; i < uvBuffer.length; i += 6) {\n                    // uv data of a single face\n                    var x0 = uvBuffer[i + 0];\n                    var x1 = uvBuffer[i + 2];\n                    var x2 = uvBuffer[i + 4];\n                    var max = Math.max(x0, x1, x2);\n                    var min = Math.min(x0, x1, x2); // 0.9 is somewhat arbitrary\n\n                    if (max > 0.9 && min < 0.1) {\n                        if (x0 < 0.2) uvBuffer[i + 0] += 1;\n                        if (x1 < 0.2) uvBuffer[i + 2] += 1;\n                        if (x2 < 0.2) uvBuffer[i + 4] += 1;\n                    }\n                }\n            }\n\n            function pushVertex(vertex) {\n                vertexBuffer.push(vertex.x, vertex.y, vertex.z);\n            }\n\n            function getVertexByIndex(index, vertex) {\n                var stride = index * 3;\n                vertex.x = vertices[stride + 0];\n                vertex.y = vertices[stride + 1];\n                vertex.z = vertices[stride + 2];\n            }\n\n            function correctUVs() {\n                var a = new Vector3();\n                var b = new Vector3();\n                var c = new Vector3();\n                var centroid = new Vector3();\n                var uvA = new Vector2();\n                var uvB = new Vector2();\n                var uvC = new Vector2();\n\n                for (var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6) {\n                    a.set(vertexBuffer[i + 0], vertexBuffer[i + 1], vertexBuffer[i + 2]);\n                    b.set(vertexBuffer[i + 3], vertexBuffer[i + 4], vertexBuffer[i + 5]);\n                    c.set(vertexBuffer[i + 6], vertexBuffer[i + 7], vertexBuffer[i + 8]);\n                    uvA.set(uvBuffer[j + 0], uvBuffer[j + 1]);\n                    uvB.set(uvBuffer[j + 2], uvBuffer[j + 3]);\n                    uvC.set(uvBuffer[j + 4], uvBuffer[j + 5]);\n                    centroid.copy(a).add(b).add(c).divideScalar(3);\n                    var azi = azimuth(centroid);\n                    correctUV(uvA, j + 0, a, azi);\n                    correctUV(uvB, j + 2, b, azi);\n                    correctUV(uvC, j + 4, c, azi);\n                }\n            }\n\n            function correctUV(uv, stride, vector, azimuth) {\n                if (azimuth < 0 && uv.x === 1) {\n                    uvBuffer[stride] = uv.x - 1;\n                }\n\n                if (vector.x === 0 && vector.z === 0) {\n                    uvBuffer[stride] = azimuth / 2 / Math.PI + 0.5;\n                }\n            } // Angle around the Y axis, counter-clockwise when looking from above.\n\n\n            function azimuth(vector) {\n                return Math.atan2(vector.z, -vector.x);\n            } // Angle above the XZ plane.\n\n\n            function inclination(vector) {\n                return Math.atan2(-vector.y, Math.sqrt(vector.x * vector.x + vector.z * vector.z));\n            }\n\n            return _this;\n        }\n\n        return PolyhedronGeometry;\n    }(BufferGeometry);\n\n    var DodecahedronGeometry = /*#__PURE__*/ function(_PolyhedronGeometry) {\n        _inheritsLoose(DodecahedronGeometry, _PolyhedronGeometry);\n\n        function DodecahedronGeometry(radius, detail) {\n            var _this;\n\n            if (radius === void 0) {\n                radius = 1;\n            }\n\n            if (detail === void 0) {\n                detail = 0;\n            }\n\n            var t = (1 + Math.sqrt(5)) / 2;\n            var r = 1 / t;\n            var vertices = [ // (±1, ±1, ±1)\n                -1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, // (0, ±1/φ, ±φ)\n                0, -r, -t, 0, -r, t, 0, r, -t, 0, r, t, // (±1/φ, ±φ, 0)\n                -r, -t, 0, -r, t, 0, r, -t, 0, r, t, 0, // (±φ, 0, ±1/φ)\n                -t, 0, -r, t, 0, -r, -t, 0, r, t, 0, r\n            ];\n            var indices = [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9];\n            _this = _PolyhedronGeometry.call(this, vertices, indices, radius, detail) || this;\n            _this.type = 'DodecahedronGeometry';\n            _this.parameters = {\n                radius: radius,\n                detail: detail\n            };\n            return _this;\n        }\n\n        return DodecahedronGeometry;\n    }(PolyhedronGeometry);\n\n    var _v0$2 = new Vector3();\n\n    var _v1$5 = new Vector3();\n\n    var _normal$1 = new Vector3();\n\n    var _triangle = new Triangle();\n\n    var EdgesGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(EdgesGeometry, _BufferGeometry);\n\n        function EdgesGeometry(geometry, thresholdAngle) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'EdgesGeometry';\n            _this.parameters = {\n                thresholdAngle: thresholdAngle\n            };\n            thresholdAngle = thresholdAngle !== undefined ? thresholdAngle : 1;\n\n            if (geometry.isGeometry === true) {\n                console.error('THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n                return _assertThisInitialized(_this);\n            }\n\n            var precisionPoints = 4;\n            var precision = Math.pow(10, precisionPoints);\n            var thresholdDot = Math.cos(MathUtils.DEG2RAD * thresholdAngle);\n            var indexAttr = geometry.getIndex();\n            var positionAttr = geometry.getAttribute('position');\n            var indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n            var indexArr = [0, 0, 0];\n            var vertKeys = ['a', 'b', 'c'];\n            var hashes = new Array(3);\n            var edgeData = {};\n            var vertices = [];\n\n            for (var i = 0; i < indexCount; i += 3) {\n                if (indexAttr) {\n                    indexArr[0] = indexAttr.getX(i);\n                    indexArr[1] = indexAttr.getX(i + 1);\n                    indexArr[2] = indexAttr.getX(i + 2);\n                } else {\n                    indexArr[0] = i;\n                    indexArr[1] = i + 1;\n                    indexArr[2] = i + 2;\n                }\n\n                var a = _triangle.a,\n                    b = _triangle.b,\n                    c = _triangle.c;\n                a.fromBufferAttribute(positionAttr, indexArr[0]);\n                b.fromBufferAttribute(positionAttr, indexArr[1]);\n                c.fromBufferAttribute(positionAttr, indexArr[2]);\n\n                _triangle.getNormal(_normal$1); // create hashes for the edge from the vertices\n\n\n                hashes[0] = Math.round(a.x * precision) + \",\" + Math.round(a.y * precision) + \",\" + Math.round(a.z * precision);\n                hashes[1] = Math.round(b.x * precision) + \",\" + Math.round(b.y * precision) + \",\" + Math.round(b.z * precision);\n                hashes[2] = Math.round(c.x * precision) + \",\" + Math.round(c.y * precision) + \",\" + Math.round(c.z * precision); // skip degenerate triangles\n\n                if (hashes[0] === hashes[1] || hashes[1] === hashes[2] || hashes[2] === hashes[0]) {\n                    continue;\n                } // iterate over every edge\n\n\n                for (var j = 0; j < 3; j++) {\n                    // get the first and next vertex making up the edge\n                    var jNext = (j + 1) % 3;\n                    var vecHash0 = hashes[j];\n                    var vecHash1 = hashes[jNext];\n                    var v0 = _triangle[vertKeys[j]];\n                    var v1 = _triangle[vertKeys[jNext]];\n                    var hash = vecHash0 + \"_\" + vecHash1;\n                    var reverseHash = vecHash1 + \"_\" + vecHash0;\n\n                    if (reverseHash in edgeData && edgeData[reverseHash]) {\n                        // if we found a sibling edge add it into the vertex array if\n                        // it meets the angle threshold and delete the edge from the map.\n                        if (_normal$1.dot(edgeData[reverseHash].normal) <= thresholdDot) {\n                            vertices.push(v0.x, v0.y, v0.z);\n                            vertices.push(v1.x, v1.y, v1.z);\n                        }\n\n                        edgeData[reverseHash] = null;\n                    } else if (!(hash in edgeData)) {\n                        // if we've already got an edge here then skip adding a new one\n                        edgeData[hash] = {\n                            index0: indexArr[j],\n                            index1: indexArr[jNext],\n                            normal: _normal$1.clone()\n                        };\n                    }\n                }\n            } // iterate over all remaining, unmatched edges and add them to the vertex array\n\n\n            for (var key in edgeData) {\n                if (edgeData[key]) {\n                    var _edgeData$key = edgeData[key],\n                        index0 = _edgeData$key.index0,\n                        index1 = _edgeData$key.index1;\n\n                    _v0$2.fromBufferAttribute(positionAttr, index0);\n\n                    _v1$5.fromBufferAttribute(positionAttr, index1);\n\n                    vertices.push(_v0$2.x, _v0$2.y, _v0$2.z);\n                    vertices.push(_v1$5.x, _v1$5.y, _v1$5.z);\n                }\n            }\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            return _this;\n        }\n\n        return EdgesGeometry;\n    }(BufferGeometry);\n\n    /**\n     * Port from https://github.com/mapbox/earcut (v2.2.2)\n     */\n    var Earcut = {\n        triangulate: function triangulate(data, holeIndices, dim) {\n            dim = dim || 2;\n            var hasHoles = holeIndices && holeIndices.length;\n            var outerLen = hasHoles ? holeIndices[0] * dim : data.length;\n            var outerNode = linkedList(data, 0, outerLen, dim, true);\n            var triangles = [];\n            if (!outerNode || outerNode.next === outerNode.prev) return triangles;\n            var minX, minY, maxX, maxY, x, y, invSize;\n            if (hasHoles) outerNode = eliminateHoles(data, holeIndices, outerNode, dim); // if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\n            if (data.length > 80 * dim) {\n                minX = maxX = data[0];\n                minY = maxY = data[1];\n\n                for (var i = dim; i < outerLen; i += dim) {\n                    x = data[i];\n                    y = data[i + 1];\n                    if (x < minX) minX = x;\n                    if (y < minY) minY = y;\n                    if (x > maxX) maxX = x;\n                    if (y > maxY) maxY = y;\n                } // minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\n\n                invSize = Math.max(maxX - minX, maxY - minY);\n                invSize = invSize !== 0 ? 1 / invSize : 0;\n            }\n\n            earcutLinked(outerNode, triangles, dim, minX, minY, invSize);\n            return triangles;\n        }\n    }; // create a circular doubly linked list from polygon points in the specified winding order\n\n    function linkedList(data, start, end, dim, clockwise) {\n        var i, last;\n\n        if (clockwise === signedArea(data, start, end, dim) > 0) {\n            for (i = start; i < end; i += dim) {\n                last = insertNode(i, data[i], data[i + 1], last);\n            }\n        } else {\n            for (i = end - dim; i >= start; i -= dim) {\n                last = insertNode(i, data[i], data[i + 1], last);\n            }\n        }\n\n        if (last && equals(last, last.next)) {\n            removeNode(last);\n            last = last.next;\n        }\n\n        return last;\n    } // eliminate colinear or duplicate points\n\n\n    function filterPoints(start, end) {\n        if (!start) return start;\n        if (!end) end = start;\n        var p = start,\n            again;\n\n        do {\n            again = false;\n\n            if (!p.steiner && (equals(p, p.next) || area(p.prev, p, p.next) === 0)) {\n                removeNode(p);\n                p = end = p.prev;\n                if (p === p.next) break;\n                again = true;\n            } else {\n                p = p.next;\n            }\n        } while (again || p !== end);\n\n        return end;\n    } // main ear slicing loop which triangulates a polygon (given as a linked list)\n\n\n    function earcutLinked(ear, triangles, dim, minX, minY, invSize, pass) {\n        if (!ear) return; // interlink polygon nodes in z-order\n\n        if (!pass && invSize) indexCurve(ear, minX, minY, invSize);\n        var stop = ear,\n            prev,\n            next; // iterate through ears, slicing them one by one\n\n        while (ear.prev !== ear.next) {\n            prev = ear.prev;\n            next = ear.next;\n\n            if (invSize ? isEarHashed(ear, minX, minY, invSize) : isEar(ear)) {\n                // cut off the triangle\n                triangles.push(prev.i / dim);\n                triangles.push(ear.i / dim);\n                triangles.push(next.i / dim);\n                removeNode(ear); // skipping the next vertex leads to less sliver triangles\n\n                ear = next.next;\n                stop = next.next;\n                continue;\n            }\n\n            ear = next; // if we looped through the whole remaining polygon and can't find any more ears\n\n            if (ear === stop) {\n                // try filtering points and slicing again\n                if (!pass) {\n                    earcutLinked(filterPoints(ear), triangles, dim, minX, minY, invSize, 1); // if this didn't work, try curing all small self-intersections locally\n                } else if (pass === 1) {\n                    ear = cureLocalIntersections(filterPoints(ear), triangles, dim);\n                    earcutLinked(ear, triangles, dim, minX, minY, invSize, 2); // as a last resort, try splitting the remaining polygon into two\n                } else if (pass === 2) {\n                    splitEarcut(ear, triangles, dim, minX, minY, invSize);\n                }\n\n                break;\n            }\n        }\n    } // check whether a polygon node forms a valid ear with adjacent nodes\n\n\n    function isEar(ear) {\n        var a = ear.prev,\n            b = ear,\n            c = ear.next;\n        if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n        // now make sure we don't have other points inside the potential ear\n\n        var p = ear.next.next;\n\n        while (p !== ear.prev) {\n            if (pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n            p = p.next;\n        }\n\n        return true;\n    }\n\n    function isEarHashed(ear, minX, minY, invSize) {\n        var a = ear.prev,\n            b = ear,\n            c = ear.next;\n        if (area(a, b, c) >= 0) return false; // reflex, can't be an ear\n        // triangle bbox; min & max are calculated like this for speed\n\n        var minTX = a.x < b.x ? a.x < c.x ? a.x : c.x : b.x < c.x ? b.x : c.x,\n            minTY = a.y < b.y ? a.y < c.y ? a.y : c.y : b.y < c.y ? b.y : c.y,\n            maxTX = a.x > b.x ? a.x > c.x ? a.x : c.x : b.x > c.x ? b.x : c.x,\n            maxTY = a.y > b.y ? a.y > c.y ? a.y : c.y : b.y > c.y ? b.y : c.y; // z-order range for the current triangle bbox;\n\n        var minZ = zOrder(minTX, minTY, minX, minY, invSize),\n            maxZ = zOrder(maxTX, maxTY, minX, minY, invSize);\n        var p = ear.prevZ,\n            n = ear.nextZ; // look for points inside the triangle in both directions\n\n        while (p && p.z >= minZ && n && n.z <= maxZ) {\n            if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n            p = p.prevZ;\n            if (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n            n = n.nextZ;\n        } // look for remaining points in decreasing z-order\n\n\n        while (p && p.z >= minZ) {\n            if (p !== ear.prev && p !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y) && area(p.prev, p, p.next) >= 0) return false;\n            p = p.prevZ;\n        } // look for remaining points in increasing z-order\n\n\n        while (n && n.z <= maxZ) {\n            if (n !== ear.prev && n !== ear.next && pointInTriangle(a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y) && area(n.prev, n, n.next) >= 0) return false;\n            n = n.nextZ;\n        }\n\n        return true;\n    } // go through all polygon nodes and cure small local self-intersections\n\n\n    function cureLocalIntersections(start, triangles, dim) {\n        var p = start;\n\n        do {\n            var a = p.prev,\n                b = p.next.next;\n\n            if (!equals(a, b) && intersects(a, p, p.next, b) && locallyInside(a, b) && locallyInside(b, a)) {\n                triangles.push(a.i / dim);\n                triangles.push(p.i / dim);\n                triangles.push(b.i / dim); // remove two nodes involved\n\n                removeNode(p);\n                removeNode(p.next);\n                p = start = b;\n            }\n\n            p = p.next;\n        } while (p !== start);\n\n        return filterPoints(p);\n    } // try splitting polygon into two and triangulate them independently\n\n\n    function splitEarcut(start, triangles, dim, minX, minY, invSize) {\n        // look for a valid diagonal that divides the polygon into two\n        var a = start;\n\n        do {\n            var b = a.next.next;\n\n            while (b !== a.prev) {\n                if (a.i !== b.i && isValidDiagonal(a, b)) {\n                    // split the polygon in two by the diagonal\n                    var c = splitPolygon(a, b); // filter colinear points around the cuts\n\n                    a = filterPoints(a, a.next);\n                    c = filterPoints(c, c.next); // run earcut on each half\n\n                    earcutLinked(a, triangles, dim, minX, minY, invSize);\n                    earcutLinked(c, triangles, dim, minX, minY, invSize);\n                    return;\n                }\n\n                b = b.next;\n            }\n\n            a = a.next;\n        } while (a !== start);\n    } // link every hole into the outer loop, producing a single-ring polygon without holes\n\n\n    function eliminateHoles(data, holeIndices, outerNode, dim) {\n        var queue = [];\n        var i, len, start, end, list;\n\n        for (i = 0, len = holeIndices.length; i < len; i++) {\n            start = holeIndices[i] * dim;\n            end = i < len - 1 ? holeIndices[i + 1] * dim : data.length;\n            list = linkedList(data, start, end, dim, false);\n            if (list === list.next) list.steiner = true;\n            queue.push(getLeftmost(list));\n        }\n\n        queue.sort(compareX); // process holes from left to right\n\n        for (i = 0; i < queue.length; i++) {\n            eliminateHole(queue[i], outerNode);\n            outerNode = filterPoints(outerNode, outerNode.next);\n        }\n\n        return outerNode;\n    }\n\n    function compareX(a, b) {\n        return a.x - b.x;\n    } // find a bridge between vertices that connects hole with an outer ring and and link it\n\n\n    function eliminateHole(hole, outerNode) {\n        outerNode = findHoleBridge(hole, outerNode);\n\n        if (outerNode) {\n            var b = splitPolygon(outerNode, hole); // filter collinear points around the cuts\n\n            filterPoints(outerNode, outerNode.next);\n            filterPoints(b, b.next);\n        }\n    } // David Eberly's algorithm for finding a bridge between hole and outer polygon\n\n\n    function findHoleBridge(hole, outerNode) {\n        var p = outerNode;\n        var hx = hole.x;\n        var hy = hole.y;\n        var qx = -Infinity,\n            m; // find a segment intersected by a ray from the hole's leftmost point to the left;\n        // segment's endpoint with lesser x will be potential connection point\n\n        do {\n            if (hy <= p.y && hy >= p.next.y && p.next.y !== p.y) {\n                var x = p.x + (hy - p.y) * (p.next.x - p.x) / (p.next.y - p.y);\n\n                if (x <= hx && x > qx) {\n                    qx = x;\n\n                    if (x === hx) {\n                        if (hy === p.y) return p;\n                        if (hy === p.next.y) return p.next;\n                    }\n\n                    m = p.x < p.next.x ? p : p.next;\n                }\n            }\n\n            p = p.next;\n        } while (p !== outerNode);\n\n        if (!m) return null;\n        if (hx === qx) return m; // hole touches outer segment; pick leftmost endpoint\n        // look for points inside the triangle of hole point, segment intersection and endpoint;\n        // if there are no points found, we have a valid connection;\n        // otherwise choose the point of the minimum angle with the ray as connection point\n\n        var stop = m,\n            mx = m.x,\n            my = m.y;\n        var tanMin = Infinity,\n            tan;\n        p = m;\n\n        do {\n            if (hx >= p.x && p.x >= mx && hx !== p.x && pointInTriangle(hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y)) {\n                tan = Math.abs(hy - p.y) / (hx - p.x); // tangential\n\n                if (locallyInside(p, hole) && (tan < tanMin || tan === tanMin && (p.x > m.x || p.x === m.x && sectorContainsSector(m, p)))) {\n                    m = p;\n                    tanMin = tan;\n                }\n            }\n\n            p = p.next;\n        } while (p !== stop);\n\n        return m;\n    } // whether sector in vertex m contains sector in vertex p in the same coordinates\n\n\n    function sectorContainsSector(m, p) {\n        return area(m.prev, m, p.prev) < 0 && area(p.next, m, m.next) < 0;\n    } // interlink polygon nodes in z-order\n\n\n    function indexCurve(start, minX, minY, invSize) {\n        var p = start;\n\n        do {\n            if (p.z === null) p.z = zOrder(p.x, p.y, minX, minY, invSize);\n            p.prevZ = p.prev;\n            p.nextZ = p.next;\n            p = p.next;\n        } while (p !== start);\n\n        p.prevZ.nextZ = null;\n        p.prevZ = null;\n        sortLinked(p);\n    } // Simon Tatham's linked list merge sort algorithm\n    // http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\n\n\n    function sortLinked(list) {\n        var i,\n            p,\n            q,\n            e,\n            tail,\n            numMerges,\n            pSize,\n            qSize,\n            inSize = 1;\n\n        do {\n            p = list;\n            list = null;\n            tail = null;\n            numMerges = 0;\n\n            while (p) {\n                numMerges++;\n                q = p;\n                pSize = 0;\n\n                for (i = 0; i < inSize; i++) {\n                    pSize++;\n                    q = q.nextZ;\n                    if (!q) break;\n                }\n\n                qSize = inSize;\n\n                while (pSize > 0 || qSize > 0 && q) {\n                    if (pSize !== 0 && (qSize === 0 || !q || p.z <= q.z)) {\n                        e = p;\n                        p = p.nextZ;\n                        pSize--;\n                    } else {\n                        e = q;\n                        q = q.nextZ;\n                        qSize--;\n                    }\n\n                    if (tail) tail.nextZ = e;\n                    else list = e;\n                    e.prevZ = tail;\n                    tail = e;\n                }\n\n                p = q;\n            }\n\n            tail.nextZ = null;\n            inSize *= 2;\n        } while (numMerges > 1);\n\n        return list;\n    } // z-order of a point given coords and inverse of the longer side of data bbox\n\n\n    function zOrder(x, y, minX, minY, invSize) {\n        // coords are transformed into non-negative 15-bit integer range\n        x = 32767 * (x - minX) * invSize;\n        y = 32767 * (y - minY) * invSize;\n        x = (x | x << 8) & 0x00FF00FF;\n        x = (x | x << 4) & 0x0F0F0F0F;\n        x = (x | x << 2) & 0x33333333;\n        x = (x | x << 1) & 0x55555555;\n        y = (y | y << 8) & 0x00FF00FF;\n        y = (y | y << 4) & 0x0F0F0F0F;\n        y = (y | y << 2) & 0x33333333;\n        y = (y | y << 1) & 0x55555555;\n        return x | y << 1;\n    } // find the leftmost node of a polygon ring\n\n\n    function getLeftmost(start) {\n        var p = start,\n            leftmost = start;\n\n        do {\n            if (p.x < leftmost.x || p.x === leftmost.x && p.y < leftmost.y) leftmost = p;\n            p = p.next;\n        } while (p !== start);\n\n        return leftmost;\n    } // check if a point lies within a convex triangle\n\n\n    function pointInTriangle(ax, ay, bx, by, cx, cy, px, py) {\n        return (cx - px) * (ay - py) - (ax - px) * (cy - py) >= 0 && (ax - px) * (by - py) - (bx - px) * (ay - py) >= 0 && (bx - px) * (cy - py) - (cx - px) * (by - py) >= 0;\n    } // check if a diagonal between two polygon nodes is valid (lies in polygon interior)\n\n\n    function isValidDiagonal(a, b) {\n        return a.next.i !== b.i && a.prev.i !== b.i && !intersectsPolygon(a, b) && ( // dones't intersect other edges\n            locallyInside(a, b) && locallyInside(b, a) && middleInside(a, b) && ( // locally visible\n                area(a.prev, a, b.prev) || area(a, b.prev, b)) || // does not create opposite-facing sectors\n            equals(a, b) && area(a.prev, a, a.next) > 0 && area(b.prev, b, b.next) > 0); // special zero-length case\n    } // signed area of a triangle\n\n\n    function area(p, q, r) {\n        return (q.y - p.y) * (r.x - q.x) - (q.x - p.x) * (r.y - q.y);\n    } // check if two points are equal\n\n\n    function equals(p1, p2) {\n        return p1.x === p2.x && p1.y === p2.y;\n    } // check if two segments intersect\n\n\n    function intersects(p1, q1, p2, q2) {\n        var o1 = sign(area(p1, q1, p2));\n        var o2 = sign(area(p1, q1, q2));\n        var o3 = sign(area(p2, q2, p1));\n        var o4 = sign(area(p2, q2, q1));\n        if (o1 !== o2 && o3 !== o4) return true; // general case\n\n        if (o1 === 0 && onSegment(p1, p2, q1)) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\n        if (o2 === 0 && onSegment(p1, q2, q1)) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\n        if (o3 === 0 && onSegment(p2, p1, q2)) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\n        if (o4 === 0 && onSegment(p2, q1, q2)) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n        return false;\n    } // for collinear points p, q, r, check if point q lies on segment pr\n\n\n    function onSegment(p, q, r) {\n        return q.x <= Math.max(p.x, r.x) && q.x >= Math.min(p.x, r.x) && q.y <= Math.max(p.y, r.y) && q.y >= Math.min(p.y, r.y);\n    }\n\n    function sign(num) {\n        return num > 0 ? 1 : num < 0 ? -1 : 0;\n    } // check if a polygon diagonal intersects any polygon segments\n\n\n    function intersectsPolygon(a, b) {\n        var p = a;\n\n        do {\n            if (p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i && intersects(p, p.next, a, b)) return true;\n            p = p.next;\n        } while (p !== a);\n\n        return false;\n    } // check if a polygon diagonal is locally inside the polygon\n\n\n    function locallyInside(a, b) {\n        return area(a.prev, a, a.next) < 0 ? area(a, b, a.next) >= 0 && area(a, a.prev, b) >= 0 : area(a, b, a.prev) < 0 || area(a, a.next, b) < 0;\n    } // check if the middle point of a polygon diagonal is inside the polygon\n\n\n    function middleInside(a, b) {\n        var p = a,\n            inside = false;\n        var px = (a.x + b.x) / 2,\n            py = (a.y + b.y) / 2;\n\n        do {\n            if (p.y > py !== p.next.y > py && p.next.y !== p.y && px < (p.next.x - p.x) * (py - p.y) / (p.next.y - p.y) + p.x) inside = !inside;\n            p = p.next;\n        } while (p !== a);\n\n        return inside;\n    } // link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n    // if one belongs to the outer ring and another to a hole, it merges it into a single ring\n\n\n    function splitPolygon(a, b) {\n        var a2 = new Node(a.i, a.x, a.y),\n            b2 = new Node(b.i, b.x, b.y),\n            an = a.next,\n            bp = b.prev;\n        a.next = b;\n        b.prev = a;\n        a2.next = an;\n        an.prev = a2;\n        b2.next = a2;\n        a2.prev = b2;\n        bp.next = b2;\n        b2.prev = bp;\n        return b2;\n    } // create a node and optionally link it with previous one (in a circular doubly linked list)\n\n\n    function insertNode(i, x, y, last) {\n        var p = new Node(i, x, y);\n\n        if (!last) {\n            p.prev = p;\n            p.next = p;\n        } else {\n            p.next = last.next;\n            p.prev = last;\n            last.next.prev = p;\n            last.next = p;\n        }\n\n        return p;\n    }\n\n    function removeNode(p) {\n        p.next.prev = p.prev;\n        p.prev.next = p.next;\n        if (p.prevZ) p.prevZ.nextZ = p.nextZ;\n        if (p.nextZ) p.nextZ.prevZ = p.prevZ;\n    }\n\n    function Node(i, x, y) {\n        // vertex index in coordinates array\n        this.i = i; // vertex coordinates\n\n        this.x = x;\n        this.y = y; // previous and next vertex nodes in a polygon ring\n\n        this.prev = null;\n        this.next = null; // z-order curve value\n\n        this.z = null; // previous and next nodes in z-order\n\n        this.prevZ = null;\n        this.nextZ = null; // indicates whether this is a steiner point\n\n        this.steiner = false;\n    }\n\n    function signedArea(data, start, end, dim) {\n        var sum = 0;\n\n        for (var i = start, j = end - dim; i < end; i += dim) {\n            sum += (data[j] - data[i]) * (data[i + 1] + data[j + 1]);\n            j = i;\n        }\n\n        return sum;\n    }\n\n    var ShapeUtils = {\n        // calculate area of the contour polygon\n        area: function area(contour) {\n            var n = contour.length;\n            var a = 0.0;\n\n            for (var p = n - 1, q = 0; q < n; p = q++) {\n                a += contour[p].x * contour[q].y - contour[q].x * contour[p].y;\n            }\n\n            return a * 0.5;\n        },\n        isClockWise: function isClockWise(pts) {\n            return ShapeUtils.area(pts) < 0;\n        },\n        triangulateShape: function triangulateShape(contour, holes) {\n            var vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\n            var holeIndices = []; // array of hole indices\n\n            var faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n            removeDupEndPts(contour);\n            addContour(vertices, contour); //\n\n            var holeIndex = contour.length;\n            holes.forEach(removeDupEndPts);\n\n            for (var i = 0; i < holes.length; i++) {\n                holeIndices.push(holeIndex);\n                holeIndex += holes[i].length;\n                addContour(vertices, holes[i]);\n            } //\n\n\n            var triangles = Earcut.triangulate(vertices, holeIndices); //\n\n            for (var _i = 0; _i < triangles.length; _i += 3) {\n                faces.push(triangles.slice(_i, _i + 3));\n            }\n\n            return faces;\n        }\n    };\n\n    function removeDupEndPts(points) {\n        var l = points.length;\n\n        if (l > 2 && points[l - 1].equals(points[0])) {\n            points.pop();\n        }\n    }\n\n    function addContour(vertices, contour) {\n        for (var i = 0; i < contour.length; i++) {\n            vertices.push(contour[i].x);\n            vertices.push(contour[i].y);\n        }\n    }\n\n    var ExtrudeGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(ExtrudeGeometry, _BufferGeometry);\n\n        function ExtrudeGeometry(shapes, options) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'ExtrudeGeometry';\n            _this.parameters = {\n                shapes: shapes,\n                options: options\n            };\n            shapes = Array.isArray(shapes) ? shapes : [shapes];\n\n            var scope = _assertThisInitialized(_this);\n\n            var verticesArray = [];\n            var uvArray = [];\n\n            for (var i = 0, l = shapes.length; i < l; i++) {\n                var shape = shapes[i];\n                addShape(shape);\n            } // build geometry\n\n\n            _this.setAttribute('position', new Float32BufferAttribute(verticesArray, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvArray, 2));\n\n            _this.computeVertexNormals(); // functions\n\n\n            function addShape(shape) {\n                var placeholder = []; // options\n\n                var curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n                var steps = options.steps !== undefined ? options.steps : 1;\n                var depth = options.depth !== undefined ? options.depth : 100;\n                var bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n                var bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n                var bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n                var bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n                var bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n                var extrudePath = options.extrudePath;\n                var uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator; // deprecated options\n\n                if (options.amount !== undefined) {\n                    console.warn('THREE.ExtrudeBufferGeometry: amount has been renamed to depth.');\n                    depth = options.amount;\n                } //\n\n\n                var extrudePts,\n                    extrudeByPath = false;\n                var splineTube, binormal, normal, position2;\n\n                if (extrudePath) {\n                    extrudePts = extrudePath.getSpacedPoints(steps);\n                    extrudeByPath = true;\n                    bevelEnabled = false; // bevels not supported for path extrusion\n                    // SETUP TNB variables\n                    // TODO1 - have a .isClosed in spline?\n\n                    splineTube = extrudePath.computeFrenetFrames(steps, false); // console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n                    binormal = new Vector3();\n                    normal = new Vector3();\n                    position2 = new Vector3();\n                } // Safeguards if bevels are not enabled\n\n\n                if (!bevelEnabled) {\n                    bevelSegments = 0;\n                    bevelThickness = 0;\n                    bevelSize = 0;\n                    bevelOffset = 0;\n                } // Variables initialization\n\n\n                var shapePoints = shape.extractPoints(curveSegments);\n                var vertices = shapePoints.shape;\n                var holes = shapePoints.holes;\n                var reverse = !ShapeUtils.isClockWise(vertices);\n\n                if (reverse) {\n                    vertices = vertices.reverse(); // Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n                    for (var h = 0, hl = holes.length; h < hl; h++) {\n                        var ahole = holes[h];\n\n                        if (ShapeUtils.isClockWise(ahole)) {\n                            holes[h] = ahole.reverse();\n                        }\n                    }\n                }\n\n                var faces = ShapeUtils.triangulateShape(vertices, holes);\n                /* Vertices */\n\n                var contour = vertices; // vertices has all points but contour has only points of circumference\n\n                for (var _h = 0, _hl = holes.length; _h < _hl; _h++) {\n                    var _ahole = holes[_h];\n                    vertices = vertices.concat(_ahole);\n                }\n\n                function scalePt2(pt, vec, size) {\n                    if (!vec) console.error('THREE.ExtrudeGeometry: vec does not exist');\n                    return vec.clone().multiplyScalar(size).add(pt);\n                }\n\n                var vlen = vertices.length,\n                    flen = faces.length; // Find directions for point movement\n\n                function getBevelVec(inPt, inPrev, inNext) {\n                    // computes for inPt the corresponding point inPt' on a new contour\n                    //\t shifted by 1 unit (length of normalized vector) to the left\n                    // if we walk along contour clockwise, this new contour is outside the old one\n                    //\n                    // inPt' is the intersection of the two lines parallel to the two\n                    //\tadjacent edges of inPt at a distance of 1 unit on the left side.\n                    var v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n                    // good reading for geometry algorithms (here: line-line intersection)\n                    // http://geomalgorithms.com/a05-_intersect-1.html\n\n                    var v_prev_x = inPt.x - inPrev.x,\n                        v_prev_y = inPt.y - inPrev.y;\n                    var v_next_x = inNext.x - inPt.x,\n                        v_next_y = inNext.y - inPt.y;\n                    var v_prev_lensq = v_prev_x * v_prev_x + v_prev_y * v_prev_y; // check for collinear edges\n\n                    var collinear0 = v_prev_x * v_next_y - v_prev_y * v_next_x;\n\n                    if (Math.abs(collinear0) > Number.EPSILON) {\n                        // not collinear\n                        // length of vectors for normalizing\n                        var v_prev_len = Math.sqrt(v_prev_lensq);\n                        var v_next_len = Math.sqrt(v_next_x * v_next_x + v_next_y * v_next_y); // shift adjacent points by unit vectors to the left\n\n                        var ptPrevShift_x = inPrev.x - v_prev_y / v_prev_len;\n                        var ptPrevShift_y = inPrev.y + v_prev_x / v_prev_len;\n                        var ptNextShift_x = inNext.x - v_next_y / v_next_len;\n                        var ptNextShift_y = inNext.y + v_next_x / v_next_len; // scaling factor for v_prev to intersection point\n\n                        var sf = ((ptNextShift_x - ptPrevShift_x) * v_next_y - (ptNextShift_y - ptPrevShift_y) * v_next_x) / (v_prev_x * v_next_y - v_prev_y * v_next_x); // vector from inPt to intersection point\n\n                        v_trans_x = ptPrevShift_x + v_prev_x * sf - inPt.x;\n                        v_trans_y = ptPrevShift_y + v_prev_y * sf - inPt.y; // Don't normalize!, otherwise sharp corners become ugly\n                        //\tbut prevent crazy spikes\n\n                        var v_trans_lensq = v_trans_x * v_trans_x + v_trans_y * v_trans_y;\n\n                        if (v_trans_lensq <= 2) {\n                            return new Vector2(v_trans_x, v_trans_y);\n                        } else {\n                            shrink_by = Math.sqrt(v_trans_lensq / 2);\n                        }\n                    } else {\n                        // handle special case of collinear edges\n                        var direction_eq = false; // assumes: opposite\n\n                        if (v_prev_x > Number.EPSILON) {\n                            if (v_next_x > Number.EPSILON) {\n                                direction_eq = true;\n                            }\n                        } else {\n                            if (v_prev_x < -Number.EPSILON) {\n                                if (v_next_x < -Number.EPSILON) {\n                                    direction_eq = true;\n                                }\n                            } else {\n                                if (Math.sign(v_prev_y) === Math.sign(v_next_y)) {\n                                    direction_eq = true;\n                                }\n                            }\n                        }\n\n                        if (direction_eq) {\n                            // console.log(\"Warning: lines are a straight sequence\");\n                            v_trans_x = -v_prev_y;\n                            v_trans_y = v_prev_x;\n                            shrink_by = Math.sqrt(v_prev_lensq);\n                        } else {\n                            // console.log(\"Warning: lines are a straight spike\");\n                            v_trans_x = v_prev_x;\n                            v_trans_y = v_prev_y;\n                            shrink_by = Math.sqrt(v_prev_lensq / 2);\n                        }\n                    }\n\n                    return new Vector2(v_trans_x / shrink_by, v_trans_y / shrink_by);\n                }\n\n                var contourMovements = [];\n\n                for (var _i = 0, il = contour.length, j = il - 1, k = _i + 1; _i < il; _i++, j++, k++) {\n                    if (j === il) j = 0;\n                    if (k === il) k = 0; //\t(j)---(i)---(k)\n                    // console.log('i,j,k', i, j , k)\n\n                    contourMovements[_i] = getBevelVec(contour[_i], contour[j], contour[k]);\n                }\n\n                var holesMovements = [];\n                var oneHoleMovements,\n                    verticesMovements = contourMovements.concat();\n\n                for (var _h2 = 0, _hl2 = holes.length; _h2 < _hl2; _h2++) {\n                    var _ahole2 = holes[_h2];\n                    oneHoleMovements = [];\n\n                    for (var _i2 = 0, _il = _ahole2.length, _j = _il - 1, _k = _i2 + 1; _i2 < _il; _i2++, _j++, _k++) {\n                        if (_j === _il) _j = 0;\n                        if (_k === _il) _k = 0; //\t(j)---(i)---(k)\n\n                        oneHoleMovements[_i2] = getBevelVec(_ahole2[_i2], _ahole2[_j], _ahole2[_k]);\n                    }\n\n                    holesMovements.push(oneHoleMovements);\n                    verticesMovements = verticesMovements.concat(oneHoleMovements);\n                } // Loop bevelSegments, 1 for the front, 1 for the back\n\n\n                for (var b = 0; b < bevelSegments; b++) {\n                    //for ( b = bevelSegments; b > 0; b -- ) {\n                    var t = b / bevelSegments;\n                    var z = bevelThickness * Math.cos(t * Math.PI / 2);\n\n                    var _bs = bevelSize * Math.sin(t * Math.PI / 2) + bevelOffset; // contract shape\n\n\n                    for (var _i3 = 0, _il2 = contour.length; _i3 < _il2; _i3++) {\n                        var vert = scalePt2(contour[_i3], contourMovements[_i3], _bs);\n                        v(vert.x, vert.y, -z);\n                    } // expand holes\n\n\n                    for (var _h3 = 0, _hl3 = holes.length; _h3 < _hl3; _h3++) {\n                        var _ahole3 = holes[_h3];\n                        oneHoleMovements = holesMovements[_h3];\n\n                        for (var _i4 = 0, _il3 = _ahole3.length; _i4 < _il3; _i4++) {\n                            var _vert = scalePt2(_ahole3[_i4], oneHoleMovements[_i4], _bs);\n\n                            v(_vert.x, _vert.y, -z);\n                        }\n                    }\n                }\n\n                var bs = bevelSize + bevelOffset; // Back facing vertices\n\n                for (var _i5 = 0; _i5 < vlen; _i5++) {\n                    var _vert2 = bevelEnabled ? scalePt2(vertices[_i5], verticesMovements[_i5], bs) : vertices[_i5];\n\n                    if (!extrudeByPath) {\n                        v(_vert2.x, _vert2.y, 0);\n                    } else {\n                        // v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n                        normal.copy(splineTube.normals[0]).multiplyScalar(_vert2.x);\n                        binormal.copy(splineTube.binormals[0]).multiplyScalar(_vert2.y);\n                        position2.copy(extrudePts[0]).add(normal).add(binormal);\n                        v(position2.x, position2.y, position2.z);\n                    }\n                } // Add stepped vertices...\n                // Including front facing vertices\n\n\n                for (var s = 1; s <= steps; s++) {\n                    for (var _i6 = 0; _i6 < vlen; _i6++) {\n                        var _vert3 = bevelEnabled ? scalePt2(vertices[_i6], verticesMovements[_i6], bs) : vertices[_i6];\n\n                        if (!extrudeByPath) {\n                            v(_vert3.x, _vert3.y, depth / steps * s);\n                        } else {\n                            // v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n                            normal.copy(splineTube.normals[s]).multiplyScalar(_vert3.x);\n                            binormal.copy(splineTube.binormals[s]).multiplyScalar(_vert3.y);\n                            position2.copy(extrudePts[s]).add(normal).add(binormal);\n                            v(position2.x, position2.y, position2.z);\n                        }\n                    }\n                } // Add bevel segments planes\n                //for ( b = 1; b <= bevelSegments; b ++ ) {\n\n\n                for (var _b = bevelSegments - 1; _b >= 0; _b--) {\n                    var _t = _b / bevelSegments;\n\n                    var _z = bevelThickness * Math.cos(_t * Math.PI / 2);\n\n                    var _bs2 = bevelSize * Math.sin(_t * Math.PI / 2) + bevelOffset; // contract shape\n\n\n                    for (var _i7 = 0, _il4 = contour.length; _i7 < _il4; _i7++) {\n                        var _vert4 = scalePt2(contour[_i7], contourMovements[_i7], _bs2);\n\n                        v(_vert4.x, _vert4.y, depth + _z);\n                    } // expand holes\n\n\n                    for (var _h4 = 0, _hl4 = holes.length; _h4 < _hl4; _h4++) {\n                        var _ahole4 = holes[_h4];\n                        oneHoleMovements = holesMovements[_h4];\n\n                        for (var _i8 = 0, _il5 = _ahole4.length; _i8 < _il5; _i8++) {\n                            var _vert5 = scalePt2(_ahole4[_i8], oneHoleMovements[_i8], _bs2);\n\n                            if (!extrudeByPath) {\n                                v(_vert5.x, _vert5.y, depth + _z);\n                            } else {\n                                v(_vert5.x, _vert5.y + extrudePts[steps - 1].y, extrudePts[steps - 1].x + _z);\n                            }\n                        }\n                    }\n                }\n                /* Faces */\n                // Top and bottom faces\n\n\n                buildLidFaces(); // Sides faces\n\n                buildSideFaces(); /////\tInternal functions\n\n                function buildLidFaces() {\n                    var start = verticesArray.length / 3;\n\n                    if (bevelEnabled) {\n                        var layer = 0; // steps + 1\n\n                        var offset = vlen * layer; // Bottom faces\n\n                        for (var _i9 = 0; _i9 < flen; _i9++) {\n                            var face = faces[_i9];\n                            f3(face[2] + offset, face[1] + offset, face[0] + offset);\n                        }\n\n                        layer = steps + bevelSegments * 2;\n                        offset = vlen * layer; // Top faces\n\n                        for (var _i10 = 0; _i10 < flen; _i10++) {\n                            var _face = faces[_i10];\n                            f3(_face[0] + offset, _face[1] + offset, _face[2] + offset);\n                        }\n                    } else {\n                        // Bottom faces\n                        for (var _i11 = 0; _i11 < flen; _i11++) {\n                            var _face2 = faces[_i11];\n                            f3(_face2[2], _face2[1], _face2[0]);\n                        } // Top faces\n\n\n                        for (var _i12 = 0; _i12 < flen; _i12++) {\n                            var _face3 = faces[_i12];\n                            f3(_face3[0] + vlen * steps, _face3[1] + vlen * steps, _face3[2] + vlen * steps);\n                        }\n                    }\n\n                    scope.addGroup(start, verticesArray.length / 3 - start, 0);\n                } // Create faces for the z-sides of the shape\n\n\n                function buildSideFaces() {\n                    var start = verticesArray.length / 3;\n                    var layeroffset = 0;\n                    sidewalls(contour, layeroffset);\n                    layeroffset += contour.length;\n\n                    for (var _h5 = 0, _hl5 = holes.length; _h5 < _hl5; _h5++) {\n                        var _ahole5 = holes[_h5];\n                        sidewalls(_ahole5, layeroffset); //, true\n\n                        layeroffset += _ahole5.length;\n                    }\n\n                    scope.addGroup(start, verticesArray.length / 3 - start, 1);\n                }\n\n                function sidewalls(contour, layeroffset) {\n                    var i = contour.length;\n\n                    while (--i >= 0) {\n                        var _j2 = i;\n\n                        var _k2 = i - 1;\n\n                        if (_k2 < 0) _k2 = contour.length - 1; //console.log('b', i,j, i-1, k,vertices.length);\n\n                        for (var _s = 0, sl = steps + bevelSegments * 2; _s < sl; _s++) {\n                            var slen1 = vlen * _s;\n                            var slen2 = vlen * (_s + 1);\n\n                            var a = layeroffset + _j2 + slen1,\n                                _b2 = layeroffset + _k2 + slen1,\n                                c = layeroffset + _k2 + slen2,\n                                d = layeroffset + _j2 + slen2;\n\n                            f4(a, _b2, c, d);\n                        }\n                    }\n                }\n\n                function v(x, y, z) {\n                    placeholder.push(x);\n                    placeholder.push(y);\n                    placeholder.push(z);\n                }\n\n                function f3(a, b, c) {\n                    addVertex(a);\n                    addVertex(b);\n                    addVertex(c);\n                    var nextIndex = verticesArray.length / 3;\n                    var uvs = uvgen.generateTopUV(scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1);\n                    addUV(uvs[0]);\n                    addUV(uvs[1]);\n                    addUV(uvs[2]);\n                }\n\n                function f4(a, b, c, d) {\n                    addVertex(a);\n                    addVertex(b);\n                    addVertex(d);\n                    addVertex(b);\n                    addVertex(c);\n                    addVertex(d);\n                    var nextIndex = verticesArray.length / 3;\n                    var uvs = uvgen.generateSideWallUV(scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1);\n                    addUV(uvs[0]);\n                    addUV(uvs[1]);\n                    addUV(uvs[3]);\n                    addUV(uvs[1]);\n                    addUV(uvs[2]);\n                    addUV(uvs[3]);\n                }\n\n                function addVertex(index) {\n                    verticesArray.push(placeholder[index * 3 + 0]);\n                    verticesArray.push(placeholder[index * 3 + 1]);\n                    verticesArray.push(placeholder[index * 3 + 2]);\n                }\n\n                function addUV(vector2) {\n                    uvArray.push(vector2.x);\n                    uvArray.push(vector2.y);\n                }\n            }\n\n            return _this;\n        }\n\n        var _proto = ExtrudeGeometry.prototype;\n\n        _proto.toJSON = function toJSON() {\n            var data = BufferGeometry.prototype.toJSON.call(this);\n            var shapes = this.parameters.shapes;\n            var options = this.parameters.options;\n            return _toJSON(shapes, options, data);\n        };\n\n        return ExtrudeGeometry;\n    }(BufferGeometry);\n\n    var WorldUVGenerator = {\n        generateTopUV: function generateTopUV(geometry, vertices, indexA, indexB, indexC) {\n            var a_x = vertices[indexA * 3];\n            var a_y = vertices[indexA * 3 + 1];\n            var b_x = vertices[indexB * 3];\n            var b_y = vertices[indexB * 3 + 1];\n            var c_x = vertices[indexC * 3];\n            var c_y = vertices[indexC * 3 + 1];\n            return [new Vector2(a_x, a_y), new Vector2(b_x, b_y), new Vector2(c_x, c_y)];\n        },\n        generateSideWallUV: function generateSideWallUV(geometry, vertices, indexA, indexB, indexC, indexD) {\n            var a_x = vertices[indexA * 3];\n            var a_y = vertices[indexA * 3 + 1];\n            var a_z = vertices[indexA * 3 + 2];\n            var b_x = vertices[indexB * 3];\n            var b_y = vertices[indexB * 3 + 1];\n            var b_z = vertices[indexB * 3 + 2];\n            var c_x = vertices[indexC * 3];\n            var c_y = vertices[indexC * 3 + 1];\n            var c_z = vertices[indexC * 3 + 2];\n            var d_x = vertices[indexD * 3];\n            var d_y = vertices[indexD * 3 + 1];\n            var d_z = vertices[indexD * 3 + 2];\n\n            if (Math.abs(a_y - b_y) < 0.01) {\n                return [new Vector2(a_x, 1 - a_z), new Vector2(b_x, 1 - b_z), new Vector2(c_x, 1 - c_z), new Vector2(d_x, 1 - d_z)];\n            } else {\n                return [new Vector2(a_y, 1 - a_z), new Vector2(b_y, 1 - b_z), new Vector2(c_y, 1 - c_z), new Vector2(d_y, 1 - d_z)];\n            }\n        }\n    };\n\n    function _toJSON(shapes, options, data) {\n        data.shapes = [];\n\n        if (Array.isArray(shapes)) {\n            for (var i = 0, l = shapes.length; i < l; i++) {\n                var shape = shapes[i];\n                data.shapes.push(shape.uuid);\n            }\n        } else {\n            data.shapes.push(shapes.uuid);\n        }\n\n        if (options.extrudePath !== undefined) data.options.extrudePath = options.extrudePath.toJSON();\n        return data;\n    }\n\n    var IcosahedronGeometry = /*#__PURE__*/ function(_PolyhedronGeometry) {\n        _inheritsLoose(IcosahedronGeometry, _PolyhedronGeometry);\n\n        function IcosahedronGeometry(radius, detail) {\n            var _this;\n\n            if (radius === void 0) {\n                radius = 1;\n            }\n\n            if (detail === void 0) {\n                detail = 0;\n            }\n\n            var t = (1 + Math.sqrt(5)) / 2;\n            var vertices = [-1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, 0, 0, -1, t, 0, 1, t, 0, -1, -t, 0, 1, -t, t, 0, -1, t, 0, 1, -t, 0, -1, -t, 0, 1];\n            var indices = [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1];\n            _this = _PolyhedronGeometry.call(this, vertices, indices, radius, detail) || this;\n            _this.type = 'IcosahedronGeometry';\n            _this.parameters = {\n                radius: radius,\n                detail: detail\n            };\n            return _this;\n        }\n\n        return IcosahedronGeometry;\n    }(PolyhedronGeometry);\n\n    var LatheGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(LatheGeometry, _BufferGeometry);\n\n        function LatheGeometry(points, segments, phiStart, phiLength) {\n            var _this;\n\n            if (segments === void 0) {\n                segments = 12;\n            }\n\n            if (phiStart === void 0) {\n                phiStart = 0;\n            }\n\n            if (phiLength === void 0) {\n                phiLength = Math.PI * 2;\n            }\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'LatheGeometry';\n            _this.parameters = {\n                points: points,\n                segments: segments,\n                phiStart: phiStart,\n                phiLength: phiLength\n            };\n            segments = Math.floor(segments); // clamp phiLength so it's in range of [ 0, 2PI ]\n\n            phiLength = MathUtils.clamp(phiLength, 0, Math.PI * 2); // buffers\n\n            var indices = [];\n            var vertices = [];\n            var uvs = []; // helper variables\n\n            var inverseSegments = 1.0 / segments;\n            var vertex = new Vector3();\n            var uv = new Vector2(); // generate vertices and uvs\n\n            for (var i = 0; i <= segments; i++) {\n                var phi = phiStart + i * inverseSegments * phiLength;\n                var sin = Math.sin(phi);\n                var cos = Math.cos(phi);\n\n                for (var j = 0; j <= points.length - 1; j++) {\n                    // vertex\n                    vertex.x = points[j].x * sin;\n                    vertex.y = points[j].y;\n                    vertex.z = points[j].x * cos;\n                    vertices.push(vertex.x, vertex.y, vertex.z); // uv\n\n                    uv.x = i / segments;\n                    uv.y = j / (points.length - 1);\n                    uvs.push(uv.x, uv.y);\n                }\n            } // indices\n\n\n            for (var _i = 0; _i < segments; _i++) {\n                for (var _j = 0; _j < points.length - 1; _j++) {\n                    var base = _j + _i * points.length;\n                    var a = base;\n                    var b = base + points.length;\n                    var c = base + points.length + 1;\n                    var d = base + 1; // faces\n\n                    indices.push(a, b, d);\n                    indices.push(b, c, d);\n                }\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2)); // generate normals\n\n\n            _this.computeVertexNormals(); // if the geometry is closed, we need to average the normals along the seam.\n            // because the corresponding vertices are identical (but still have different UVs).\n\n\n            if (phiLength === Math.PI * 2) {\n                var normals = _this.attributes.normal.array;\n                var n1 = new Vector3();\n                var n2 = new Vector3();\n                var n = new Vector3(); // this is the buffer offset for the last line of vertices\n\n                var _base = segments * points.length * 3;\n\n                for (var _i2 = 0, _j2 = 0; _i2 < points.length; _i2++, _j2 += 3) {\n                    // select the normal of the vertex in the first line\n                    n1.x = normals[_j2 + 0];\n                    n1.y = normals[_j2 + 1];\n                    n1.z = normals[_j2 + 2]; // select the normal of the vertex in the last line\n\n                    n2.x = normals[_base + _j2 + 0];\n                    n2.y = normals[_base + _j2 + 1];\n                    n2.z = normals[_base + _j2 + 2]; // average normals\n\n                    n.addVectors(n1, n2).normalize(); // assign the new values to both normals\n\n                    normals[_j2 + 0] = normals[_base + _j2 + 0] = n.x;\n                    normals[_j2 + 1] = normals[_base + _j2 + 1] = n.y;\n                    normals[_j2 + 2] = normals[_base + _j2 + 2] = n.z;\n                }\n            }\n\n            return _this;\n        }\n\n        return LatheGeometry;\n    }(BufferGeometry);\n\n    var OctahedronGeometry = /*#__PURE__*/ function(_PolyhedronGeometry) {\n        _inheritsLoose(OctahedronGeometry, _PolyhedronGeometry);\n\n        function OctahedronGeometry(radius, detail) {\n            var _this;\n\n            if (radius === void 0) {\n                radius = 1;\n            }\n\n            if (detail === void 0) {\n                detail = 0;\n            }\n\n            var vertices = [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1];\n            var indices = [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2];\n            _this = _PolyhedronGeometry.call(this, vertices, indices, radius, detail) || this;\n            _this.type = 'OctahedronGeometry';\n            _this.parameters = {\n                radius: radius,\n                detail: detail\n            };\n            return _this;\n        }\n\n        return OctahedronGeometry;\n    }(PolyhedronGeometry);\n\n    /**\n     * Parametric Surfaces Geometry\n     * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n     */\n\n    function ParametricGeometry(func, slices, stacks) {\n        BufferGeometry.call(this);\n        this.type = 'ParametricGeometry';\n        this.parameters = {\n            func: func,\n            slices: slices,\n            stacks: stacks\n        }; // buffers\n\n        var indices = [];\n        var vertices = [];\n        var normals = [];\n        var uvs = [];\n        var EPS = 0.00001;\n        var normal = new Vector3();\n        var p0 = new Vector3(),\n            p1 = new Vector3();\n        var pu = new Vector3(),\n            pv = new Vector3();\n\n        if (func.length < 3) {\n            console.error('THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.');\n        } // generate vertices, normals and uvs\n\n\n        var sliceCount = slices + 1;\n\n        for (var i = 0; i <= stacks; i++) {\n            var v = i / stacks;\n\n            for (var j = 0; j <= slices; j++) {\n                var u = j / slices; // vertex\n\n                func(u, v, p0);\n                vertices.push(p0.x, p0.y, p0.z); // normal\n                // approximate tangent vectors via finite differences\n\n                if (u - EPS >= 0) {\n                    func(u - EPS, v, p1);\n                    pu.subVectors(p0, p1);\n                } else {\n                    func(u + EPS, v, p1);\n                    pu.subVectors(p1, p0);\n                }\n\n                if (v - EPS >= 0) {\n                    func(u, v - EPS, p1);\n                    pv.subVectors(p0, p1);\n                } else {\n                    func(u, v + EPS, p1);\n                    pv.subVectors(p1, p0);\n                } // cross product of tangent vectors returns surface normal\n\n\n                normal.crossVectors(pu, pv).normalize();\n                normals.push(normal.x, normal.y, normal.z); // uv\n\n                uvs.push(u, v);\n            }\n        } // generate indices\n\n\n        for (var _i = 0; _i < stacks; _i++) {\n            for (var _j = 0; _j < slices; _j++) {\n                var a = _i * sliceCount + _j;\n                var b = _i * sliceCount + _j + 1;\n                var c = (_i + 1) * sliceCount + _j + 1;\n                var d = (_i + 1) * sliceCount + _j; // faces one and two\n\n                indices.push(a, b, d);\n                indices.push(b, c, d);\n            }\n        } // build geometry\n\n\n        this.setIndex(indices);\n        this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n        this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n        this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n    }\n\n    ParametricGeometry.prototype = Object.create(BufferGeometry.prototype);\n    ParametricGeometry.prototype.constructor = ParametricGeometry;\n\n    var RingGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(RingGeometry, _BufferGeometry);\n\n        function RingGeometry(innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength) {\n            var _this;\n\n            if (innerRadius === void 0) {\n                innerRadius = 0.5;\n            }\n\n            if (outerRadius === void 0) {\n                outerRadius = 1;\n            }\n\n            if (thetaSegments === void 0) {\n                thetaSegments = 8;\n            }\n\n            if (phiSegments === void 0) {\n                phiSegments = 1;\n            }\n\n            if (thetaStart === void 0) {\n                thetaStart = 0;\n            }\n\n            if (thetaLength === void 0) {\n                thetaLength = Math.PI * 2;\n            }\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'RingGeometry';\n            _this.parameters = {\n                innerRadius: innerRadius,\n                outerRadius: outerRadius,\n                thetaSegments: thetaSegments,\n                phiSegments: phiSegments,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n            thetaSegments = Math.max(3, thetaSegments);\n            phiSegments = Math.max(1, phiSegments); // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // some helper variables\n\n            var radius = innerRadius;\n            var radiusStep = (outerRadius - innerRadius) / phiSegments;\n            var vertex = new Vector3();\n            var uv = new Vector2(); // generate vertices, normals and uvs\n\n            for (var j = 0; j <= phiSegments; j++) {\n                for (var i = 0; i <= thetaSegments; i++) {\n                    // values are generate from the inside of the ring to the outside\n                    var segment = thetaStart + i / thetaSegments * thetaLength; // vertex\n\n                    vertex.x = radius * Math.cos(segment);\n                    vertex.y = radius * Math.sin(segment);\n                    vertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n                    normals.push(0, 0, 1); // uv\n\n                    uv.x = (vertex.x / outerRadius + 1) / 2;\n                    uv.y = (vertex.y / outerRadius + 1) / 2;\n                    uvs.push(uv.x, uv.y);\n                } // increase the radius for next row of vertices\n\n\n                radius += radiusStep;\n            } // indices\n\n\n            for (var _j = 0; _j < phiSegments; _j++) {\n                var thetaSegmentLevel = _j * (thetaSegments + 1);\n\n                for (var _i = 0; _i < thetaSegments; _i++) {\n                    var _segment = _i + thetaSegmentLevel;\n\n                    var a = _segment;\n                    var b = _segment + thetaSegments + 1;\n                    var c = _segment + thetaSegments + 2;\n                    var d = _segment + 1; // faces\n\n                    indices.push(a, b, d);\n                    indices.push(b, c, d);\n                }\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n            return _this;\n        }\n\n        return RingGeometry;\n    }(BufferGeometry);\n\n    var ShapeGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(ShapeGeometry, _BufferGeometry);\n\n        function ShapeGeometry(shapes, curveSegments) {\n            var _this;\n\n            if (curveSegments === void 0) {\n                curveSegments = 12;\n            }\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'ShapeGeometry';\n            _this.parameters = {\n                shapes: shapes,\n                curveSegments: curveSegments\n            }; // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // helper variables\n\n            var groupStart = 0;\n            var groupCount = 0; // allow single and array values for \"shapes\" parameter\n\n            if (Array.isArray(shapes) === false) {\n                addShape(shapes);\n            } else {\n                for (var i = 0; i < shapes.length; i++) {\n                    addShape(shapes[i]);\n\n                    _this.addGroup(groupStart, groupCount, i); // enables MultiMaterial support\n\n\n                    groupStart += groupCount;\n                    groupCount = 0;\n                }\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2)); // helper functions\n\n\n            function addShape(shape) {\n                var indexOffset = vertices.length / 3;\n                var points = shape.extractPoints(curveSegments);\n                var shapeVertices = points.shape;\n                var shapeHoles = points.holes; // check direction of vertices\n\n                if (ShapeUtils.isClockWise(shapeVertices) === false) {\n                    shapeVertices = shapeVertices.reverse();\n                }\n\n                for (var _i = 0, l = shapeHoles.length; _i < l; _i++) {\n                    var shapeHole = shapeHoles[_i];\n\n                    if (ShapeUtils.isClockWise(shapeHole) === true) {\n                        shapeHoles[_i] = shapeHole.reverse();\n                    }\n                }\n\n                var faces = ShapeUtils.triangulateShape(shapeVertices, shapeHoles); // join vertices of inner and outer paths to a single array\n\n                for (var _i2 = 0, _l = shapeHoles.length; _i2 < _l; _i2++) {\n                    var _shapeHole = shapeHoles[_i2];\n                    shapeVertices = shapeVertices.concat(_shapeHole);\n                } // vertices, normals, uvs\n\n\n                for (var _i3 = 0, _l2 = shapeVertices.length; _i3 < _l2; _i3++) {\n                    var vertex = shapeVertices[_i3];\n                    vertices.push(vertex.x, vertex.y, 0);\n                    normals.push(0, 0, 1);\n                    uvs.push(vertex.x, vertex.y); // world uvs\n                } // incides\n\n\n                for (var _i4 = 0, _l3 = faces.length; _i4 < _l3; _i4++) {\n                    var face = faces[_i4];\n                    var a = face[0] + indexOffset;\n                    var b = face[1] + indexOffset;\n                    var c = face[2] + indexOffset;\n                    indices.push(a, b, c);\n                    groupCount += 3;\n                }\n            }\n\n            return _this;\n        }\n\n        var _proto = ShapeGeometry.prototype;\n\n        _proto.toJSON = function toJSON() {\n            var data = BufferGeometry.prototype.toJSON.call(this);\n            var shapes = this.parameters.shapes;\n            return _toJSON$1(shapes, data);\n        };\n\n        return ShapeGeometry;\n    }(BufferGeometry);\n\n    function _toJSON$1(shapes, data) {\n        data.shapes = [];\n\n        if (Array.isArray(shapes)) {\n            for (var i = 0, l = shapes.length; i < l; i++) {\n                var shape = shapes[i];\n                data.shapes.push(shape.uuid);\n            }\n        } else {\n            data.shapes.push(shapes.uuid);\n        }\n\n        return data;\n    }\n\n    var SphereGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(SphereGeometry, _BufferGeometry);\n\n        function SphereGeometry(radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength) {\n            var _this;\n\n            if (radius === void 0) {\n                radius = 1;\n            }\n\n            if (widthSegments === void 0) {\n                widthSegments = 8;\n            }\n\n            if (heightSegments === void 0) {\n                heightSegments = 6;\n            }\n\n            if (phiStart === void 0) {\n                phiStart = 0;\n            }\n\n            if (phiLength === void 0) {\n                phiLength = Math.PI * 2;\n            }\n\n            if (thetaStart === void 0) {\n                thetaStart = 0;\n            }\n\n            if (thetaLength === void 0) {\n                thetaLength = Math.PI;\n            }\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'SphereGeometry';\n            _this.parameters = {\n                radius: radius,\n                widthSegments: widthSegments,\n                heightSegments: heightSegments,\n                phiStart: phiStart,\n                phiLength: phiLength,\n                thetaStart: thetaStart,\n                thetaLength: thetaLength\n            };\n            widthSegments = Math.max(3, Math.floor(widthSegments));\n            heightSegments = Math.max(2, Math.floor(heightSegments));\n            var thetaEnd = Math.min(thetaStart + thetaLength, Math.PI);\n            var index = 0;\n            var grid = [];\n            var vertex = new Vector3();\n            var normal = new Vector3(); // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // generate vertices, normals and uvs\n\n            for (var iy = 0; iy <= heightSegments; iy++) {\n                var verticesRow = [];\n                var v = iy / heightSegments; // special case for the poles\n\n                var uOffset = 0;\n\n                if (iy == 0 && thetaStart == 0) {\n                    uOffset = 0.5 / widthSegments;\n                } else if (iy == heightSegments && thetaEnd == Math.PI) {\n                    uOffset = -0.5 / widthSegments;\n                }\n\n                for (var ix = 0; ix <= widthSegments; ix++) {\n                    var u = ix / widthSegments; // vertex\n\n                    vertex.x = -radius * Math.cos(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n                    vertex.y = radius * Math.cos(thetaStart + v * thetaLength);\n                    vertex.z = radius * Math.sin(phiStart + u * phiLength) * Math.sin(thetaStart + v * thetaLength);\n                    vertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n                    normal.copy(vertex).normalize();\n                    normals.push(normal.x, normal.y, normal.z); // uv\n\n                    uvs.push(u + uOffset, 1 - v);\n                    verticesRow.push(index++);\n                }\n\n                grid.push(verticesRow);\n            } // indices\n\n\n            for (var _iy = 0; _iy < heightSegments; _iy++) {\n                for (var _ix = 0; _ix < widthSegments; _ix++) {\n                    var a = grid[_iy][_ix + 1];\n                    var b = grid[_iy][_ix];\n                    var c = grid[_iy + 1][_ix];\n                    var d = grid[_iy + 1][_ix + 1];\n                    if (_iy !== 0 || thetaStart > 0) indices.push(a, b, d);\n                    if (_iy !== heightSegments - 1 || thetaEnd < Math.PI) indices.push(b, c, d);\n                }\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n            return _this;\n        }\n\n        return SphereGeometry;\n    }(BufferGeometry);\n\n    var TetrahedronGeometry = /*#__PURE__*/ function(_PolyhedronGeometry) {\n        _inheritsLoose(TetrahedronGeometry, _PolyhedronGeometry);\n\n        function TetrahedronGeometry(radius, detail) {\n            var _this;\n\n            if (radius === void 0) {\n                radius = 1;\n            }\n\n            if (detail === void 0) {\n                detail = 0;\n            }\n\n            var vertices = [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1];\n            var indices = [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1];\n            _this = _PolyhedronGeometry.call(this, vertices, indices, radius, detail) || this;\n            _this.type = 'TetrahedronGeometry';\n            _this.parameters = {\n                radius: radius,\n                detail: detail\n            };\n            return _this;\n        }\n\n        return TetrahedronGeometry;\n    }(PolyhedronGeometry);\n\n    var TextGeometry = /*#__PURE__*/ function(_ExtrudeGeometry) {\n        _inheritsLoose(TextGeometry, _ExtrudeGeometry);\n\n        function TextGeometry(text, parameters) {\n            var _this;\n\n            if (parameters === void 0) {\n                parameters = {};\n            }\n\n            var font = parameters.font;\n\n            if (!(font && font.isFont)) {\n                console.error('THREE.TextGeometry: font parameter is not an instance of THREE.Font.');\n                return new BufferGeometry() || _assertThisInitialized(_this);\n            }\n\n            var shapes = font.generateShapes(text, parameters.size); // translate parameters to ExtrudeGeometry API\n\n            parameters.depth = parameters.height !== undefined ? parameters.height : 50; // defaults\n\n            if (parameters.bevelThickness === undefined) parameters.bevelThickness = 10;\n            if (parameters.bevelSize === undefined) parameters.bevelSize = 8;\n            if (parameters.bevelEnabled === undefined) parameters.bevelEnabled = false;\n            _this = _ExtrudeGeometry.call(this, shapes, parameters) || this;\n            _this.type = 'TextGeometry';\n            return _this;\n        }\n\n        return TextGeometry;\n    }(ExtrudeGeometry);\n\n    var TorusGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(TorusGeometry, _BufferGeometry);\n\n        function TorusGeometry(radius, tube, radialSegments, tubularSegments, arc) {\n            var _this;\n\n            if (radius === void 0) {\n                radius = 1;\n            }\n\n            if (tube === void 0) {\n                tube = 0.4;\n            }\n\n            if (radialSegments === void 0) {\n                radialSegments = 8;\n            }\n\n            if (tubularSegments === void 0) {\n                tubularSegments = 6;\n            }\n\n            if (arc === void 0) {\n                arc = Math.PI * 2;\n            }\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'TorusGeometry';\n            _this.parameters = {\n                radius: radius,\n                tube: tube,\n                radialSegments: radialSegments,\n                tubularSegments: tubularSegments,\n                arc: arc\n            };\n            radialSegments = Math.floor(radialSegments);\n            tubularSegments = Math.floor(tubularSegments); // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // helper variables\n\n            var center = new Vector3();\n            var vertex = new Vector3();\n            var normal = new Vector3(); // generate vertices, normals and uvs\n\n            for (var j = 0; j <= radialSegments; j++) {\n                for (var i = 0; i <= tubularSegments; i++) {\n                    var u = i / tubularSegments * arc;\n                    var v = j / radialSegments * Math.PI * 2; // vertex\n\n                    vertex.x = (radius + tube * Math.cos(v)) * Math.cos(u);\n                    vertex.y = (radius + tube * Math.cos(v)) * Math.sin(u);\n                    vertex.z = tube * Math.sin(v);\n                    vertices.push(vertex.x, vertex.y, vertex.z); // normal\n\n                    center.x = radius * Math.cos(u);\n                    center.y = radius * Math.sin(u);\n                    normal.subVectors(vertex, center).normalize();\n                    normals.push(normal.x, normal.y, normal.z); // uv\n\n                    uvs.push(i / tubularSegments);\n                    uvs.push(j / radialSegments);\n                }\n            } // generate indices\n\n\n            for (var _j = 1; _j <= radialSegments; _j++) {\n                for (var _i = 1; _i <= tubularSegments; _i++) {\n                    // indices\n                    var a = (tubularSegments + 1) * _j + _i - 1;\n                    var b = (tubularSegments + 1) * (_j - 1) + _i - 1;\n                    var c = (tubularSegments + 1) * (_j - 1) + _i;\n                    var d = (tubularSegments + 1) * _j + _i; // faces\n\n                    indices.push(a, b, d);\n                    indices.push(b, c, d);\n                }\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2));\n\n            return _this;\n        }\n\n        return TorusGeometry;\n    }(BufferGeometry);\n\n    var TorusKnotGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(TorusKnotGeometry, _BufferGeometry);\n\n        function TorusKnotGeometry(radius, tube, tubularSegments, radialSegments, p, q) {\n            var _this;\n\n            if (radius === void 0) {\n                radius = 1;\n            }\n\n            if (tube === void 0) {\n                tube = 0.4;\n            }\n\n            if (tubularSegments === void 0) {\n                tubularSegments = 64;\n            }\n\n            if (radialSegments === void 0) {\n                radialSegments = 8;\n            }\n\n            if (p === void 0) {\n                p = 2;\n            }\n\n            if (q === void 0) {\n                q = 3;\n            }\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'TorusKnotGeometry';\n            _this.parameters = {\n                radius: radius,\n                tube: tube,\n                tubularSegments: tubularSegments,\n                radialSegments: radialSegments,\n                p: p,\n                q: q\n            };\n            tubularSegments = Math.floor(tubularSegments);\n            radialSegments = Math.floor(radialSegments); // buffers\n\n            var indices = [];\n            var vertices = [];\n            var normals = [];\n            var uvs = []; // helper variables\n\n            var vertex = new Vector3();\n            var normal = new Vector3();\n            var P1 = new Vector3();\n            var P2 = new Vector3();\n            var B = new Vector3();\n            var T = new Vector3();\n            var N = new Vector3(); // generate vertices, normals and uvs\n\n            for (var i = 0; i <= tubularSegments; ++i) {\n                // the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n                var u = i / tubularSegments * p * Math.PI * 2; // now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n                // these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n                calculatePositionOnCurve(u, p, q, radius, P1);\n                calculatePositionOnCurve(u + 0.01, p, q, radius, P2); // calculate orthonormal basis\n\n                T.subVectors(P2, P1);\n                N.addVectors(P2, P1);\n                B.crossVectors(T, N);\n                N.crossVectors(B, T); // normalize B, N. T can be ignored, we don't use it\n\n                B.normalize();\n                N.normalize();\n\n                for (var j = 0; j <= radialSegments; ++j) {\n                    // now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n                    // because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n                    var v = j / radialSegments * Math.PI * 2;\n                    var cx = -tube * Math.cos(v);\n                    var cy = tube * Math.sin(v); // now calculate the final vertex position.\n                    // first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n                    vertex.x = P1.x + (cx * N.x + cy * B.x);\n                    vertex.y = P1.y + (cx * N.y + cy * B.y);\n                    vertex.z = P1.z + (cx * N.z + cy * B.z);\n                    vertices.push(vertex.x, vertex.y, vertex.z); // normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n                    normal.subVectors(vertex, P1).normalize();\n                    normals.push(normal.x, normal.y, normal.z); // uv\n\n                    uvs.push(i / tubularSegments);\n                    uvs.push(j / radialSegments);\n                }\n            } // generate indices\n\n\n            for (var _j = 1; _j <= tubularSegments; _j++) {\n                for (var _i = 1; _i <= radialSegments; _i++) {\n                    // indices\n                    var a = (radialSegments + 1) * (_j - 1) + (_i - 1);\n                    var b = (radialSegments + 1) * _j + (_i - 1);\n                    var c = (radialSegments + 1) * _j + _i;\n                    var d = (radialSegments + 1) * (_j - 1) + _i; // faces\n\n                    indices.push(a, b, d);\n                    indices.push(b, c, d);\n                }\n            } // build geometry\n\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2)); // this function calculates the current position on the torus curve\n\n\n            function calculatePositionOnCurve(u, p, q, radius, position) {\n                var cu = Math.cos(u);\n                var su = Math.sin(u);\n                var quOverP = q / p * u;\n                var cs = Math.cos(quOverP);\n                position.x = radius * (2 + cs) * 0.5 * cu;\n                position.y = radius * (2 + cs) * su * 0.5;\n                position.z = radius * Math.sin(quOverP) * 0.5;\n            }\n\n            return _this;\n        }\n\n        return TorusKnotGeometry;\n    }(BufferGeometry);\n\n    var TubeGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(TubeGeometry, _BufferGeometry);\n\n        function TubeGeometry(path, tubularSegments, radius, radialSegments, closed) {\n            var _this;\n\n            if (tubularSegments === void 0) {\n                tubularSegments = 64;\n            }\n\n            if (radius === void 0) {\n                radius = 1;\n            }\n\n            if (radialSegments === void 0) {\n                radialSegments = 8;\n            }\n\n            if (closed === void 0) {\n                closed = false;\n            }\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'TubeGeometry';\n            _this.parameters = {\n                path: path,\n                tubularSegments: tubularSegments,\n                radius: radius,\n                radialSegments: radialSegments,\n                closed: closed\n            };\n            var frames = path.computeFrenetFrames(tubularSegments, closed); // expose internals\n\n            _this.tangents = frames.tangents;\n            _this.normals = frames.normals;\n            _this.binormals = frames.binormals; // helper variables\n\n            var vertex = new Vector3();\n            var normal = new Vector3();\n            var uv = new Vector2();\n            var P = new Vector3(); // buffer\n\n            var vertices = [];\n            var normals = [];\n            var uvs = [];\n            var indices = []; // create buffer data\n\n            generateBufferData(); // build geometry\n\n            _this.setIndex(indices);\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            _this.setAttribute('normal', new Float32BufferAttribute(normals, 3));\n\n            _this.setAttribute('uv', new Float32BufferAttribute(uvs, 2)); // functions\n\n\n            function generateBufferData() {\n                for (var i = 0; i < tubularSegments; i++) {\n                    generateSegment(i);\n                } // if the geometry is not closed, generate the last row of vertices and normals\n                // at the regular position on the given path\n                //\n                // if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\n                generateSegment(closed === false ? tubularSegments : 0); // uvs are generated in a separate function.\n                // this makes it easy compute correct values for closed geometries\n\n                generateUVs(); // finally create faces\n\n                generateIndices();\n            }\n\n            function generateSegment(i) {\n                // we use getPointAt to sample evenly distributed points from the given path\n                P = path.getPointAt(i / tubularSegments, P); // retrieve corresponding normal and binormal\n\n                var N = frames.normals[i];\n                var B = frames.binormals[i]; // generate normals and vertices for the current segment\n\n                for (var j = 0; j <= radialSegments; j++) {\n                    var v = j / radialSegments * Math.PI * 2;\n                    var sin = Math.sin(v);\n                    var cos = -Math.cos(v); // normal\n\n                    normal.x = cos * N.x + sin * B.x;\n                    normal.y = cos * N.y + sin * B.y;\n                    normal.z = cos * N.z + sin * B.z;\n                    normal.normalize();\n                    normals.push(normal.x, normal.y, normal.z); // vertex\n\n                    vertex.x = P.x + radius * normal.x;\n                    vertex.y = P.y + radius * normal.y;\n                    vertex.z = P.z + radius * normal.z;\n                    vertices.push(vertex.x, vertex.y, vertex.z);\n                }\n            }\n\n            function generateIndices() {\n                for (var j = 1; j <= tubularSegments; j++) {\n                    for (var i = 1; i <= radialSegments; i++) {\n                        var a = (radialSegments + 1) * (j - 1) + (i - 1);\n                        var b = (radialSegments + 1) * j + (i - 1);\n                        var c = (radialSegments + 1) * j + i;\n                        var d = (radialSegments + 1) * (j - 1) + i; // faces\n\n                        indices.push(a, b, d);\n                        indices.push(b, c, d);\n                    }\n                }\n            }\n\n            function generateUVs() {\n                for (var i = 0; i <= tubularSegments; i++) {\n                    for (var j = 0; j <= radialSegments; j++) {\n                        uv.x = i / tubularSegments;\n                        uv.y = j / radialSegments;\n                        uvs.push(uv.x, uv.y);\n                    }\n                }\n            }\n\n            return _this;\n        }\n\n        var _proto = TubeGeometry.prototype;\n\n        _proto.toJSON = function toJSON() {\n            var data = BufferGeometry.prototype.toJSON.call(this);\n            data.path = this.parameters.path.toJSON();\n            return data;\n        };\n\n        return TubeGeometry;\n    }(BufferGeometry);\n\n    var WireframeGeometry = /*#__PURE__*/ function(_BufferGeometry) {\n        _inheritsLoose(WireframeGeometry, _BufferGeometry);\n\n        function WireframeGeometry(geometry) {\n            var _this;\n\n            _this = _BufferGeometry.call(this) || this;\n            _this.type = 'WireframeGeometry';\n\n            if (geometry.isGeometry === true) {\n                console.error('THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.');\n                return _assertThisInitialized(_this);\n            } // buffer\n\n\n            var vertices = []; // helper variables\n\n            var edge = [0, 0],\n                edges = {};\n            var vertex = new Vector3();\n\n            if (geometry.index !== null) {\n                // indexed BufferGeometry\n                var position = geometry.attributes.position;\n                var indices = geometry.index;\n                var groups = geometry.groups;\n\n                if (groups.length === 0) {\n                    groups = [{\n                        start: 0,\n                        count: indices.count,\n                        materialIndex: 0\n                    }];\n                } // create a data structure that contains all eges without duplicates\n\n\n                for (var o = 0, ol = groups.length; o < ol; ++o) {\n                    var group = groups[o];\n                    var start = group.start;\n                    var count = group.count;\n\n                    for (var i = start, l = start + count; i < l; i += 3) {\n                        for (var j = 0; j < 3; j++) {\n                            var edge1 = indices.getX(i + j);\n                            var edge2 = indices.getX(i + (j + 1) % 3);\n                            edge[0] = Math.min(edge1, edge2); // sorting prevents duplicates\n\n                            edge[1] = Math.max(edge1, edge2);\n                            var key = edge[0] + ',' + edge[1];\n\n                            if (edges[key] === undefined) {\n                                edges[key] = {\n                                    index1: edge[0],\n                                    index2: edge[1]\n                                };\n                            }\n                        }\n                    }\n                } // generate vertices\n\n\n                for (var _key in edges) {\n                    var e = edges[_key];\n                    vertex.fromBufferAttribute(position, e.index1);\n                    vertices.push(vertex.x, vertex.y, vertex.z);\n                    vertex.fromBufferAttribute(position, e.index2);\n                    vertices.push(vertex.x, vertex.y, vertex.z);\n                }\n            } else {\n                // non-indexed BufferGeometry\n                var _position = geometry.attributes.position;\n\n                for (var _i = 0, _l = _position.count / 3; _i < _l; _i++) {\n                    for (var _j = 0; _j < 3; _j++) {\n                        // three edges per triangle, an edge is represented as (index1, index2)\n                        // e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n                        var index1 = 3 * _i + _j;\n                        vertex.fromBufferAttribute(_position, index1);\n                        vertices.push(vertex.x, vertex.y, vertex.z);\n                        var index2 = 3 * _i + (_j + 1) % 3;\n                        vertex.fromBufferAttribute(_position, index2);\n                        vertices.push(vertex.x, vertex.y, vertex.z);\n                    }\n                }\n            } // build geometry\n\n\n            _this.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n\n            return _this;\n        }\n\n        return WireframeGeometry;\n    }(BufferGeometry);\n\n    var Geometries = /*#__PURE__*/ Object.freeze({\n        __proto__: null,\n        BoxGeometry: BoxGeometry,\n        BoxBufferGeometry: BoxGeometry,\n        CircleGeometry: CircleGeometry,\n        CircleBufferGeometry: CircleGeometry,\n        ConeGeometry: ConeGeometry,\n        ConeBufferGeometry: ConeGeometry,\n        CylinderGeometry: CylinderGeometry,\n        CylinderBufferGeometry: CylinderGeometry,\n        DodecahedronGeometry: DodecahedronGeometry,\n        DodecahedronBufferGeometry: DodecahedronGeometry,\n        EdgesGeometry: EdgesGeometry,\n        ExtrudeGeometry: ExtrudeGeometry,\n        ExtrudeBufferGeometry: ExtrudeGeometry,\n        IcosahedronGeometry: IcosahedronGeometry,\n        IcosahedronBufferGeometry: IcosahedronGeometry,\n        LatheGeometry: LatheGeometry,\n        LatheBufferGeometry: LatheGeometry,\n        OctahedronGeometry: OctahedronGeometry,\n        OctahedronBufferGeometry: OctahedronGeometry,\n        ParametricGeometry: ParametricGeometry,\n        ParametricBufferGeometry: ParametricGeometry,\n        PlaneGeometry: PlaneGeometry,\n        PlaneBufferGeometry: PlaneGeometry,\n        PolyhedronGeometry: PolyhedronGeometry,\n        PolyhedronBufferGeometry: PolyhedronGeometry,\n        RingGeometry: RingGeometry,\n        RingBufferGeometry: RingGeometry,\n        ShapeGeometry: ShapeGeometry,\n        ShapeBufferGeometry: ShapeGeometry,\n        SphereGeometry: SphereGeometry,\n        SphereBufferGeometry: SphereGeometry,\n        TetrahedronGeometry: TetrahedronGeometry,\n        TetrahedronBufferGeometry: TetrahedronGeometry,\n        TextGeometry: TextGeometry,\n        TextBufferGeometry: TextGeometry,\n        TorusGeometry: TorusGeometry,\n        TorusBufferGeometry: TorusGeometry,\n        TorusKnotGeometry: TorusKnotGeometry,\n        TorusKnotBufferGeometry: TorusKnotGeometry,\n        TubeGeometry: TubeGeometry,\n        TubeBufferGeometry: TubeGeometry,\n        WireframeGeometry: WireframeGeometry\n    });\n\n    /**\n     * parameters = {\n     *\tcolor: <THREE.Color>\n     * }\n     */\n\n    var ShadowMaterial = /*#__PURE__*/ function(_Material) {\n        _inheritsLoose(ShadowMaterial, _Material);\n\n        function ShadowMaterial(parameters) {\n            var _this;\n\n            _this = _Material.call(this) || this;\n            _this.type = 'ShadowMaterial';\n            _this.color = new Color(0x000000);\n            _this.transparent = true;\n\n            _this.setValues(parameters);\n\n            return _this;\n        }\n\n        var _proto = ShadowMaterial.prototype;\n\n        _proto.copy = function copy(source) {\n            _Material.prototype.copy.call(this, source);\n\n            this.color.copy(source.color);\n            return this;\n        };\n\n        return ShadowMaterial;\n    }(Material);\n\n    ShadowMaterial.prototype.isShadowMaterial = true;\n\n    var RawShaderMaterial = /*#__PURE__*/ function(_ShaderMaterial) {\n        _inheritsLoose(RawShaderMaterial, _ShaderMaterial);\n\n        function RawShaderMaterial(parameters) {\n            var _this;\n\n            _this = _ShaderMaterial.call(this, parameters) || this;\n            _this.type = 'RawShaderMaterial';\n            return _this;\n        }\n\n        return RawShaderMaterial;\n    }(ShaderMaterial);\n\n    RawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n    /**\n     * parameters = {\n     *\tcolor: <hex>,\n     *\troughness: <float>,\n     *\tmetalness: <float>,\n     *\topacity: <float>,\n     *\n     *\tmap: new THREE.Texture( <Image> ),\n     *\n     *\tlightMap: new THREE.Texture( <Image> ),\n     *\tlightMapIntensity: <float>\n     *\n     *\taoMap: new THREE.Texture( <Image> ),\n     *\taoMapIntensity: <float>\n     *\n     *\temissive: <hex>,\n     *\temissiveIntensity: <float>\n     *\temissiveMap: new THREE.Texture( <Image> ),\n     *\n     *\tbumpMap: new THREE.Texture( <Image> ),\n     *\tbumpScale: <float>,\n     *\n     *\tnormalMap: new THREE.Texture( <Image> ),\n     *\tnormalMapType: THREE.TangentSpaceNormalMap,\n     *\tnormalScale: <Vector2>,\n     *\n     *\tdisplacementMap: new THREE.Texture( <Image> ),\n     *\tdisplacementScale: <float>,\n     *\tdisplacementBias: <float>,\n     *\n     *\troughnessMap: new THREE.Texture( <Image> ),\n     *\n     *\tmetalnessMap: new THREE.Texture( <Image> ),\n     *\n     *\talphaMap: new THREE.Texture( <Image> ),\n     *\n     *\tenvMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n     *\tenvMapIntensity: <float>\n     *\n     *\trefractionRatio: <float>,\n     *\n     *\twireframe: <boolean>,\n     *\twireframeLinewidth: <float>,\n     *\n     *\tskinning: <bool>,\n     *\tmorphTargets: <bool>,\n     *\tmorphNormals: <bool>,\n     *\n     *\tflatShading: <bool>\n     * }\n     */\n\n    function MeshStandardMaterial(parameters) {\n        Material.call(this);\n        this.defines = {\n            'STANDARD': ''\n        };\n        this.type = 'MeshStandardMaterial';\n        this.color = new Color(0xffffff); // diffuse\n\n        this.roughness = 1.0;\n        this.metalness = 0.0;\n        this.map = null;\n        this.lightMap = null;\n        this.lightMapIntensity = 1.0;\n        this.aoMap = null;\n        this.aoMapIntensity = 1.0;\n        this.emissive = new Color(0x000000);\n        this.emissiveIntensity = 1.0;\n        this.emissiveMap = null;\n        this.bumpMap = null;\n        this.bumpScale = 1;\n        this.normalMap = null;\n        this.normalMapType = TangentSpaceNormalMap;\n        this.normalScale = new Vector2(1, 1);\n        this.displacementMap = null;\n        this.displacementScale = 1;\n        this.displacementBias = 0;\n        this.roughnessMap = null;\n        this.metalnessMap = null;\n        this.alphaMap = null;\n        this.envMap = null;\n        this.envMapIntensity = 1.0;\n        this.refractionRatio = 0.98;\n        this.wireframe = false;\n        this.wireframeLinewidth = 1;\n        this.wireframeLinecap = 'round';\n        this.wireframeLinejoin = 'round';\n        this.skinning = false;\n        this.morphTargets = false;\n        this.morphNormals = false;\n        this.flatShading = false;\n        this.vertexTangents = false;\n        this.setValues(parameters);\n    }\n\n    MeshStandardMaterial.prototype = Object.create(Material.prototype);\n    MeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n    MeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\n    MeshStandardMaterial.prototype.copy = function(source) {\n        Material.prototype.copy.call(this, source);\n        this.defines = {\n            'STANDARD': ''\n        };\n        this.color.copy(source.color);\n        this.roughness = source.roughness;\n        this.metalness = source.metalness;\n        this.map = source.map;\n        this.lightMap = source.lightMap;\n        this.lightMapIntensity = source.lightMapIntensity;\n        this.aoMap = source.aoMap;\n        this.aoMapIntensity = source.aoMapIntensity;\n        this.emissive.copy(source.emissive);\n        this.emissiveMap = source.emissiveMap;\n        this.emissiveIntensity = source.emissiveIntensity;\n        this.bumpMap = source.bumpMap;\n        this.bumpScale = source.bumpScale;\n        this.normalMap = source.normalMap;\n        this.normalMapType = source.normalMapType;\n        this.normalScale.copy(source.normalScale);\n        this.displacementMap = source.displacementMap;\n        this.displacementScale = source.displacementScale;\n        this.displacementBias = source.displacementBias;\n        this.roughnessMap = source.roughnessMap;\n        this.metalnessMap = source.metalnessMap;\n        this.alphaMap = source.alphaMap;\n        this.envMap = source.envMap;\n        this.envMapIntensity = source.envMapIntensity;\n        this.refractionRatio = source.refractionRatio;\n        this.wireframe = source.wireframe;\n        this.wireframeLinewidth = source.wireframeLinewidth;\n        this.wireframeLinecap = source.wireframeLinecap;\n        this.wireframeLinejoin = source.wireframeLinejoin;\n        this.skinning = source.skinning;\n        this.morphTargets = source.morphTargets;\n        this.morphNormals = source.morphNormals;\n        this.flatShading = source.flatShading;\n        this.vertexTangents = source.vertexTangents;\n        return this;\n    };\n\n    /**\n     * parameters = {\n     *\tclearcoat: <float>,\n     *\tclearcoatMap: new THREE.Texture( <Image> ),\n     *\tclearcoatRoughness: <float>,\n     *\tclearcoatRoughnessMap: new THREE.Texture( <Image> ),\n     *\tclearcoatNormalScale: <Vector2>,\n     *\tclearcoatNormalMap: new THREE.Texture( <Image> ),\n     *\n     *\treflectivity: <float>,\n     *\tior: <float>,\n     *\n     *\tsheen: <Color>,\n     *\n     *\ttransmission: <float>,\n     *\ttransmissionMap: new THREE.Texture( <Image> )\n     * }\n     */\n\n    function MeshPhysicalMaterial(parameters) {\n        MeshStandardMaterial.call(this);\n        this.defines = {\n            'STANDARD': '',\n            'PHYSICAL': ''\n        };\n        this.type = 'MeshPhysicalMaterial';\n        this.clearcoat = 0.0;\n        this.clearcoatMap = null;\n        this.clearcoatRoughness = 0.0;\n        this.clearcoatRoughnessMap = null;\n        this.clearcoatNormalScale = new Vector2(1, 1);\n        this.clearcoatNormalMap = null;\n        this.reflectivity = 0.5; // maps to F0 = 0.04\n\n        Object.defineProperty(this, 'ior', {\n            get: function get() {\n                return (1 + 0.4 * this.reflectivity) / (1 - 0.4 * this.reflectivity);\n            },\n            set: function set(ior) {\n                this.reflectivity = MathUtils.clamp(2.5 * (ior - 1) / (ior + 1), 0, 1);\n            }\n        });\n        this.sheen = null; // null will disable sheen bsdf\n\n        this.transmission = 0.0;\n        this.transmissionMap = null;\n        this.setValues(parameters);\n    }\n\n    MeshPhysicalMaterial.prototype = Object.create(MeshStandardMaterial.prototype);\n    MeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n    MeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\n    MeshPhysicalMaterial.prototype.copy = function(source) {\n        MeshStandardMaterial.prototype.copy.call(this, source);\n        this.defines = {\n            'STANDARD': '',\n            'PHYSICAL': ''\n        };\n        this.clearcoat = source.clearcoat;\n        this.clearcoatMap = source.clearcoatMap;\n        this.clearcoatRoughness = source.clearcoatRoughness;\n        this.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n        this.clearcoatNormalMap = source.clearcoatNormalMap;\n        this.clearcoatNormalScale.copy(source.clearcoatNormalScale);\n        this.reflectivity = source.reflectivity;\n\n        if (source.sheen) {\n            this.sheen = (this.sheen || new Color()).copy(source.sheen);\n        } else {\n            this.sheen = null;\n        }\n\n        this.transmission = source.transmission;\n        this.transmissionMap = source.transmissionMap;\n        return this;\n    };\n\n    /**\n     * parameters = {\n     *\tcolor: <hex>,\n     *\tspecular: <hex>,\n     *\tshininess: <float>,\n     *\topacity: <float>,\n     *\n     *\tmap: new THREE.Texture( <Image> ),\n     *\n     *\tlightMap: new THREE.Texture( <Image> ),\n     *\tlightMapIntensity: <float>\n     *\n     *\taoMap: new THREE.Texture( <Image> ),\n     *\taoMapIntensity: <float>\n     *\n     *\temissive: <hex>,\n     *\temissiveIntensity: <float>\n     *\temissiveMap: new THREE.Texture( <Image> ),\n     *\n     *\tbumpMap: new THREE.Texture( <Image> ),\n     *\tbumpScale: <float>,\n     *\n     *\tnormalMap: new THREE.Texture( <Image> ),\n     *\tnormalMapType: THREE.TangentSpaceNormalMap,\n     *\tnormalScale: <Vector2>,\n     *\n     *\tdisplacementMap: new THREE.Texture( <Image> ),\n     *\tdisplacementScale: <float>,\n     *\tdisplacementBias: <float>,\n     *\n     *\tspecularMap: new THREE.Texture( <Image> ),\n     *\n     *\talphaMap: new THREE.Texture( <Image> ),\n     *\n     *\tenvMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n     *\tcombine: THREE.MultiplyOperation,\n     *\treflectivity: <float>,\n     *\trefractionRatio: <float>,\n     *\n     *\twireframe: <boolean>,\n     *\twireframeLinewidth: <float>,\n     *\n     *\tskinning: <bool>,\n     *\tmorphTargets: <bool>,\n     *\tmorphNormals: <bool>,\n     *\n     *\tflatShading: <bool>\n     * }\n     */\n\n    var MeshPhongMaterial = /*#__PURE__*/ function(_Material) {\n        _inheritsLoose(MeshPhongMaterial, _Material);\n\n        function MeshPhongMaterial(parameters) {\n            var _this;\n\n            _this = _Material.call(this) || this;\n            _this.type = 'MeshPhongMaterial';\n            _this.color = new Color(0xffffff); // diffuse\n\n            _this.specular = new Color(0x111111);\n            _this.shininess = 30;\n            _this.map = null;\n            _this.lightMap = null;\n            _this.lightMapIntensity = 1.0;\n            _this.aoMap = null;\n            _this.aoMapIntensity = 1.0;\n            _this.emissive = new Color(0x000000);\n            _this.emissiveIntensity = 1.0;\n            _this.emissiveMap = null;\n            _this.bumpMap = null;\n            _this.bumpScale = 1;\n            _this.normalMap = null;\n            _this.normalMapType = TangentSpaceNormalMap;\n            _this.normalScale = new Vector2(1, 1);\n            _this.displacementMap = null;\n            _this.displacementScale = 1;\n            _this.displacementBias = 0;\n            _this.specularMap = null;\n            _this.alphaMap = null;\n            _this.envMap = null;\n            _this.combine = MultiplyOperation;\n            _this.reflectivity = 1;\n            _this.refractionRatio = 0.98;\n            _this.wireframe = false;\n            _this.wireframeLinewidth = 1;\n            _this.wireframeLinecap = 'round';\n            _this.wireframeLinejoin = 'round';\n            _this.skinning = false;\n            _this.morphTargets = false;\n            _this.morphNormals = false;\n            _this.flatShading = false;\n\n            _this.setValues(parameters);\n\n            return _this;\n        }\n\n        var _proto = MeshPhongMaterial.prototype;\n\n        _proto.copy = function copy(source) {\n            _Material.prototype.copy.call(this, source);\n\n            this.color.copy(source.color);\n            this.specular.copy(source.specular);\n            this.shininess = source.shininess;\n            this.map = source.map;\n            this.lightMap = source.lightMap;\n            this.lightMapIntensity = source.lightMapIntensity;\n            this.aoMap = source.aoMap;\n            this.aoMapIntensity = source.aoMapIntensity;\n            this.emissive.copy(source.emissive);\n            this.emissiveMap = source.emissiveMap;\n            this.emissiveIntensity = source.emissiveIntensity;\n            this.bumpMap = source.bumpMap;\n            this.bumpScale = source.bumpScale;\n            this.normalMap = source.normalMap;\n            this.normalMapType = source.normalMapType;\n            this.normalScale.copy(source.normalScale);\n            this.displacementMap = source.displacementMap;\n            this.displacementScale = source.displacementScale;\n            this.displacementBias = source.displacementBias;\n            this.specularMap = source.specularMap;\n            this.alphaMap = source.alphaMap;\n            this.envMap = source.envMap;\n            this.combine = source.combine;\n            this.reflectivity = source.reflectivity;\n            this.refractionRatio = source.refractionRatio;\n            this.wireframe = source.wireframe;\n            this.wireframeLinewidth = source.wireframeLinewidth;\n            this.wireframeLinecap = source.wireframeLinecap;\n            this.wireframeLinejoin = source.wireframeLinejoin;\n            this.skinning = source.skinning;\n            this.morphTargets = source.morphTargets;\n            this.morphNormals = source.morphNormals;\n            this.flatShading = source.flatShading;\n            return this;\n        };\n\n        return MeshPhongMaterial;\n    }(Material);\n\n    MeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\n    /**\n     * parameters = {\n     *\tcolor: <hex>,\n     *\n     *\tmap: new THREE.Texture( <Image> ),\n     *\tgradientMap: new THREE.Texture( <Image> ),\n     *\n     *\tlightMap: new THREE.Texture( <Image> ),\n     *\tlightMapIntensity: <float>\n     *\n     *\taoMap: new THREE.Texture( <Image> ),\n     *\taoMapIntensity: <float>\n     *\n     *\temissive: <hex>,\n     *\temissiveIntensity: <float>\n     *\temissiveMap: new THREE.Texture( <Image> ),\n     *\n     *\tbumpMap: new THREE.Texture( <Image> ),\n     *\tbumpScale: <float>,\n     *\n     *\tnormalMap: new THREE.Texture( <Image> ),\n     *\tnormalMapType: THREE.TangentSpaceNormalMap,\n     *\tnormalScale: <Vector2>,\n     *\n     *\tdisplacementMap: new THREE.Texture( <Image> ),\n     *\tdisplacementScale: <float>,\n     *\tdisplacementBias: <float>,\n     *\n     *\talphaMap: new THREE.Texture( <Image> ),\n     *\n     *\twireframe: <boolean>,\n     *\twireframeLinewidth: <float>,\n     *\n     *\tskinning: <bool>,\n     *\tmorphTargets: <bool>,\n     *\tmorphNormals: <bool>\n     * }\n     */\n\n    var MeshToonMaterial = /*#__PURE__*/ function(_Material) {\n        _inheritsLoose(MeshToonMaterial, _Material);\n\n        function MeshToonMaterial(parameters) {\n            var _this;\n\n            _this = _Material.call(this) || this;\n            _this.defines = {\n                'TOON': ''\n            };\n            _this.type = 'MeshToonMaterial';\n            _this.color = new Color(0xffffff);\n            _this.map = null;\n            _this.gradientMap = null;\n            _this.lightMap = null;\n            _this.lightMapIntensity = 1.0;\n            _this.aoMap = null;\n            _this.aoMapIntensity = 1.0;\n            _this.emissive = new Color(0x000000);\n            _this.emissiveIntensity = 1.0;\n            _this.emissiveMap = null;\n            _this.bumpMap = null;\n            _this.bumpScale = 1;\n            _this.normalMap = null;\n            _this.normalMapType = TangentSpaceNormalMap;\n            _this.normalScale = new Vector2(1, 1);\n            _this.displacementMap = null;\n            _this.displacementScale = 1;\n            _this.displacementBias = 0;\n            _this.alphaMap = null;\n            _this.wireframe = false;\n            _this.wireframeLinewidth = 1;\n            _this.wireframeLinecap = 'round';\n            _this.wireframeLinejoin = 'round';\n            _this.skinning = false;\n            _this.morphTargets = false;\n            _this.morphNormals = false;\n\n            _this.setValues(parameters);\n\n            return _this;\n        }\n\n        var _proto = MeshToonMaterial.prototype;\n\n        _proto.copy = function copy(source) {\n            _Material.prototype.copy.call(this, source);\n\n            this.color.copy(source.color);\n            this.map = source.map;\n            this.gradientMap = source.gradientMap;\n            this.lightMap = source.lightMap;\n            this.lightMapIntensity = source.lightMapIntensity;\n            this.aoMap = source.aoMap;\n            this.aoMapIntensity = source.aoMapIntensity;\n            this.emissive.copy(source.emissive);\n            this.emissiveMap = source.emissiveMap;\n            this.emissiveIntensity = source.emissiveIntensity;\n            this.bumpMap = source.bumpMap;\n            this.bumpScale = source.bumpScale;\n            this.normalMap = source.normalMap;\n            this.normalMapType = source.normalMapType;\n            this.normalScale.copy(source.normalScale);\n            this.displacementMap = source.displacementMap;\n            this.displacementScale = source.displacementScale;\n            this.displacementBias = source.displacementBias;\n            this.alphaMap = source.alphaMap;\n            this.wireframe = source.wireframe;\n            this.wireframeLinewidth = source.wireframeLinewidth;\n            this.wireframeLinecap = source.wireframeLinecap;\n            this.wireframeLinejoin = source.wireframeLinejoin;\n            this.skinning = source.skinning;\n            this.morphTargets = source.morphTargets;\n            this.morphNormals = source.morphNormals;\n            return this;\n        };\n\n        return MeshToonMaterial;\n    }(Material);\n\n    MeshToonMaterial.prototype.isMeshToonMaterial = true;\n\n    /**\n     * parameters = {\n     *\topacity: <float>,\n     *\n     *\tbumpMap: new THREE.Texture( <Image> ),\n     *\tbumpScale: <float>,\n     *\n     *\tnormalMap: new THREE.Texture( <Image> ),\n     *\tnormalMapType: THREE.TangentSpaceNormalMap,\n     *\tnormalScale: <Vector2>,\n     *\n     *\tdisplacementMap: new THREE.Texture( <Image> ),\n     *\tdisplacementScale: <float>,\n     *\tdisplacementBias: <float>,\n     *\n     *\twireframe: <boolean>,\n     *\twireframeLinewidth: <float>\n     *\n     *\tskinning: <bool>,\n     *\tmorphTargets: <bool>,\n     *\tmorphNormals: <bool>,\n     *\n     *\tflatShading: <bool>\n     * }\n     */\n\n    var MeshNormalMaterial = /*#__PURE__*/ function(_Material) {\n        _inheritsLoose(MeshNormalMaterial, _Material);\n\n        function MeshNormalMaterial(parameters) {\n            var _this;\n\n            _this = _Material.call(this) || this;\n            _this.type = 'MeshNormalMaterial';\n            _this.bumpMap = null;\n            _this.bumpScale = 1;\n            _this.normalMap = null;\n            _this.normalMapType = TangentSpaceNormalMap;\n            _this.normalScale = new Vector2(1, 1);\n            _this.displacementMap = null;\n            _this.displacementScale = 1;\n            _this.displacementBias = 0;\n            _this.wireframe = false;\n            _this.wireframeLinewidth = 1;\n            _this.fog = false;\n            _this.skinning = false;\n            _this.morphTargets = false;\n            _this.morphNormals = false;\n            _this.flatShading = false;\n\n            _this.setValues(parameters);\n\n            return _this;\n        }\n\n        var _proto = MeshNormalMaterial.prototype;\n\n        _proto.copy = function copy(source) {\n            _Material.prototype.copy.call(this, source);\n\n            this.bumpMap = source.bumpMap;\n            this.bumpScale = source.bumpScale;\n            this.normalMap = source.normalMap;\n            this.normalMapType = source.normalMapType;\n            this.normalScale.copy(source.normalScale);\n            this.displacementMap = source.displacementMap;\n            this.displacementScale = source.displacementScale;\n            this.displacementBias = source.displacementBias;\n            this.wireframe = source.wireframe;\n            this.wireframeLinewidth = source.wireframeLinewidth;\n            this.skinning = source.skinning;\n            this.morphTargets = source.morphTargets;\n            this.morphNormals = source.morphNormals;\n            this.flatShading = source.flatShading;\n            return this;\n        };\n\n        return MeshNormalMaterial;\n    }(Material);\n\n    MeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\n    /**\n     * parameters = {\n     *\tcolor: <hex>,\n     *\topacity: <float>,\n     *\n     *\tmap: new THREE.Texture( <Image> ),\n     *\n     *\tlightMap: new THREE.Texture( <Image> ),\n     *\tlightMapIntensity: <float>\n     *\n     *\taoMap: new THREE.Texture( <Image> ),\n     *\taoMapIntensity: <float>\n     *\n     *\temissive: <hex>,\n     *\temissiveIntensity: <float>\n     *\temissiveMap: new THREE.Texture( <Image> ),\n     *\n     *\tspecularMap: new THREE.Texture( <Image> ),\n     *\n     *\talphaMap: new THREE.Texture( <Image> ),\n     *\n     *\tenvMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n     *\tcombine: THREE.Multiply,\n     *\treflectivity: <float>,\n     *\trefractionRatio: <float>,\n     *\n     *\twireframe: <boolean>,\n     *\twireframeLinewidth: <float>,\n     *\n     *\tskinning: <bool>,\n     *\tmorphTargets: <bool>,\n     *\tmorphNormals: <bool>\n     * }\n     */\n\n    var MeshLambertMaterial = /*#__PURE__*/ function(_Material) {\n        _inheritsLoose(MeshLambertMaterial, _Material);\n\n        function MeshLambertMaterial(parameters) {\n            var _this;\n\n            _this = _Material.call(this) || this;\n            _this.type = 'MeshLambertMaterial';\n            _this.color = new Color(0xffffff); // diffuse\n\n            _this.map = null;\n            _this.lightMap = null;\n            _this.lightMapIntensity = 1.0;\n            _this.aoMap = null;\n            _this.aoMapIntensity = 1.0;\n            _this.emissive = new Color(0x000000);\n            _this.emissiveIntensity = 1.0;\n            _this.emissiveMap = null;\n            _this.specularMap = null;\n            _this.alphaMap = null;\n            _this.envMap = null;\n            _this.combine = MultiplyOperation;\n            _this.reflectivity = 1;\n            _this.refractionRatio = 0.98;\n            _this.wireframe = false;\n            _this.wireframeLinewidth = 1;\n            _this.wireframeLinecap = 'round';\n            _this.wireframeLinejoin = 'round';\n            _this.skinning = false;\n            _this.morphTargets = false;\n            _this.morphNormals = false;\n\n            _this.setValues(parameters);\n\n            return _this;\n        }\n\n        var _proto = MeshLambertMaterial.prototype;\n\n        _proto.copy = function copy(source) {\n            _Material.prototype.copy.call(this, source);\n\n            this.color.copy(source.color);\n            this.map = source.map;\n            this.lightMap = source.lightMap;\n            this.lightMapIntensity = source.lightMapIntensity;\n            this.aoMap = source.aoMap;\n            this.aoMapIntensity = source.aoMapIntensity;\n            this.emissive.copy(source.emissive);\n            this.emissiveMap = source.emissiveMap;\n            this.emissiveIntensity = source.emissiveIntensity;\n            this.specularMap = source.specularMap;\n            this.alphaMap = source.alphaMap;\n            this.envMap = source.envMap;\n            this.combine = source.combine;\n            this.reflectivity = source.reflectivity;\n            this.refractionRatio = source.refractionRatio;\n            this.wireframe = source.wireframe;\n            this.wireframeLinewidth = source.wireframeLinewidth;\n            this.wireframeLinecap = source.wireframeLinecap;\n            this.wireframeLinejoin = source.wireframeLinejoin;\n            this.skinning = source.skinning;\n            this.morphTargets = source.morphTargets;\n            this.morphNormals = source.morphNormals;\n            return this;\n        };\n\n        return MeshLambertMaterial;\n    }(Material);\n\n    MeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\n    /**\n     * parameters = {\n     *\tcolor: <hex>,\n     *\topacity: <float>,\n     *\n     *\tmatcap: new THREE.Texture( <Image> ),\n     *\n     *\tmap: new THREE.Texture( <Image> ),\n     *\n     *\tbumpMap: new THREE.Texture( <Image> ),\n     *\tbumpScale: <float>,\n     *\n     *\tnormalMap: new THREE.Texture( <Image> ),\n     *\tnormalMapType: THREE.TangentSpaceNormalMap,\n     *\tnormalScale: <Vector2>,\n     *\n     *\tdisplacementMap: new THREE.Texture( <Image> ),\n     *\tdisplacementScale: <float>,\n     *\tdisplacementBias: <float>,\n     *\n     *\talphaMap: new THREE.Texture( <Image> ),\n     *\n     *\tskinning: <bool>,\n     *\tmorphTargets: <bool>,\n     *\tmorphNormals: <bool>\n     *\n     *\tflatShading: <bool>\n     * }\n     */\n\n    var MeshMatcapMaterial = /*#__PURE__*/ function(_Material) {\n        _inheritsLoose(MeshMatcapMaterial, _Material);\n\n        function MeshMatcapMaterial(parameters) {\n            var _this;\n\n            _this = _Material.call(this) || this;\n            _this.defines = {\n                'MATCAP': ''\n            };\n            _this.type = 'MeshMatcapMaterial';\n            _this.color = new Color(0xffffff); // diffuse\n\n            _this.matcap = null;\n            _this.map = null;\n            _this.bumpMap = null;\n            _this.bumpScale = 1;\n            _this.normalMap = null;\n            _this.normalMapType = TangentSpaceNormalMap;\n            _this.normalScale = new Vector2(1, 1);\n            _this.displacementMap = null;\n            _this.displacementScale = 1;\n            _this.displacementBias = 0;\n            _this.alphaMap = null;\n            _this.skinning = false;\n            _this.morphTargets = false;\n            _this.morphNormals = false;\n            _this.flatShading = false;\n\n            _this.setValues(parameters);\n\n            return _this;\n        }\n\n        var _proto = MeshMatcapMaterial.prototype;\n\n        _proto.copy = function copy(source) {\n            _Material.prototype.copy.call(this, source);\n\n            this.defines = {\n                'MATCAP': ''\n            };\n            this.color.copy(source.color);\n            this.matcap = source.matcap;\n            this.map = source.map;\n            this.bumpMap = source.bumpMap;\n            this.bumpScale = source.bumpScale;\n            this.normalMap = source.normalMap;\n            this.normalMapType = source.normalMapType;\n            this.normalScale.copy(source.normalScale);\n            this.displacementMap = source.displacementMap;\n            this.displacementScale = source.displacementScale;\n            this.displacementBias = source.displacementBias;\n            this.alphaMap = source.alphaMap;\n            this.skinning = source.skinning;\n            this.morphTargets = source.morphTargets;\n            this.morphNormals = source.morphNormals;\n            this.flatShading = source.flatShading;\n            return this;\n        };\n\n        return MeshMatcapMaterial;\n    }(Material);\n\n    MeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\n    /**\n     * parameters = {\n     *\tcolor: <hex>,\n     *\topacity: <float>,\n     *\n     *\tlinewidth: <float>,\n     *\n     *\tscale: <float>,\n     *\tdashSize: <float>,\n     *\tgapSize: <float>\n     * }\n     */\n\n    var LineDashedMaterial = /*#__PURE__*/ function(_LineBasicMaterial) {\n        _inheritsLoose(LineDashedMaterial, _LineBasicMaterial);\n\n        function LineDashedMaterial(parameters) {\n            var _this;\n\n            _this = _LineBasicMaterial.call(this) || this;\n            _this.type = 'LineDashedMaterial';\n            _this.scale = 1;\n            _this.dashSize = 3;\n            _this.gapSize = 1;\n\n            _this.setValues(parameters);\n\n            return _this;\n        }\n\n        var _proto = LineDashedMaterial.prototype;\n\n        _proto.copy = function copy(source) {\n            _LineBasicMaterial.prototype.copy.call(this, source);\n\n            this.scale = source.scale;\n            this.dashSize = source.dashSize;\n            this.gapSize = source.gapSize;\n            return this;\n        };\n\n        return LineDashedMaterial;\n    }(LineBasicMaterial);\n\n    LineDashedMaterial.prototype.isLineDashedMaterial = true;\n\n    var Materials = /*#__PURE__*/ Object.freeze({\n        __proto__: null,\n        ShadowMaterial: ShadowMaterial,\n        SpriteMaterial: SpriteMaterial,\n        RawShaderMaterial: RawShaderMaterial,\n        ShaderMaterial: ShaderMaterial,\n        PointsMaterial: PointsMaterial,\n        MeshPhysicalMaterial: MeshPhysicalMaterial,\n        MeshStandardMaterial: MeshStandardMaterial,\n        MeshPhongMaterial: MeshPhongMaterial,\n        MeshToonMaterial: MeshToonMaterial,\n        MeshNormalMaterial: MeshNormalMaterial,\n        MeshLambertMaterial: MeshLambertMaterial,\n        MeshDepthMaterial: MeshDepthMaterial,\n        MeshDistanceMaterial: MeshDistanceMaterial,\n        MeshBasicMaterial: MeshBasicMaterial,\n        MeshMatcapMaterial: MeshMatcapMaterial,\n        LineDashedMaterial: LineDashedMaterial,\n        LineBasicMaterial: LineBasicMaterial,\n        Material: Material\n    });\n\n    var AnimationUtils = {\n        // same as Array.prototype.slice, but also works on typed arrays\n        arraySlice: function arraySlice(array, from, to) {\n            if (AnimationUtils.isTypedArray(array)) {\n                // in ios9 array.subarray(from, undefined) will return empty array\n                // but array.subarray(from) or array.subarray(from, len) is correct\n                return new array.constructor(array.subarray(from, to !== undefined ? to : array.length));\n            }\n\n            return array.slice(from, to);\n        },\n        // converts an array to a specific type\n        convertArray: function convertArray(array, type, forceClone) {\n            if (!array || // let 'undefined' and 'null' pass\n                !forceClone && array.constructor === type) return array;\n\n            if (typeof type.BYTES_PER_ELEMENT === 'number') {\n                return new type(array); // create typed array\n            }\n\n            return Array.prototype.slice.call(array); // create Array\n        },\n        isTypedArray: function isTypedArray(object) {\n            return ArrayBuffer.isView(object) && !(object instanceof DataView);\n        },\n        // returns an array by which times and values can be sorted\n        getKeyframeOrder: function getKeyframeOrder(times) {\n            function compareTime(i, j) {\n                return times[i] - times[j];\n            }\n\n            var n = times.length;\n            var result = new Array(n);\n\n            for (var i = 0; i !== n; ++i) {\n                result[i] = i;\n            }\n\n            result.sort(compareTime);\n            return result;\n        },\n        // uses the array previously returned by 'getKeyframeOrder' to sort data\n        sortedArray: function sortedArray(values, stride, order) {\n            var nValues = values.length;\n            var result = new values.constructor(nValues);\n\n            for (var i = 0, dstOffset = 0; dstOffset !== nValues; ++i) {\n                var srcOffset = order[i] * stride;\n\n                for (var j = 0; j !== stride; ++j) {\n                    result[dstOffset++] = values[srcOffset + j];\n                }\n            }\n\n            return result;\n        },\n        // function for parsing AOS keyframe formats\n        flattenJSON: function flattenJSON(jsonKeys, times, values, valuePropertyName) {\n            var i = 1,\n                key = jsonKeys[0];\n\n            while (key !== undefined && key[valuePropertyName] === undefined) {\n                key = jsonKeys[i++];\n            }\n\n            if (key === undefined) return; // no data\n\n            var value = key[valuePropertyName];\n            if (value === undefined) return; // no data\n\n            if (Array.isArray(value)) {\n                do {\n                    value = key[valuePropertyName];\n\n                    if (value !== undefined) {\n                        times.push(key.time);\n                        values.push.apply(values, value); // push all elements\n                    }\n\n                    key = jsonKeys[i++];\n                } while (key !== undefined);\n            } else if (value.toArray !== undefined) {\n                // ...assume THREE.Math-ish\n                do {\n                    value = key[valuePropertyName];\n\n                    if (value !== undefined) {\n                        times.push(key.time);\n                        value.toArray(values, values.length);\n                    }\n\n                    key = jsonKeys[i++];\n                } while (key !== undefined);\n            } else {\n                // otherwise push as-is\n                do {\n                    value = key[valuePropertyName];\n\n                    if (value !== undefined) {\n                        times.push(key.time);\n                        values.push(value);\n                    }\n\n                    key = jsonKeys[i++];\n                } while (key !== undefined);\n            }\n        },\n        subclip: function subclip(sourceClip, name, startFrame, endFrame, fps) {\n            if (fps === void 0) {\n                fps = 30;\n            }\n\n            var clip = sourceClip.clone();\n            clip.name = name;\n            var tracks = [];\n\n            for (var i = 0; i < clip.tracks.length; ++i) {\n                var track = clip.tracks[i];\n                var valueSize = track.getValueSize();\n                var times = [];\n                var values = [];\n\n                for (var j = 0; j < track.times.length; ++j) {\n                    var frame = track.times[j] * fps;\n                    if (frame < startFrame || frame >= endFrame) continue;\n                    times.push(track.times[j]);\n\n                    for (var k = 0; k < valueSize; ++k) {\n                        values.push(track.values[j * valueSize + k]);\n                    }\n                }\n\n                if (times.length === 0) continue;\n                track.times = AnimationUtils.convertArray(times, track.times.constructor);\n                track.values = AnimationUtils.convertArray(values, track.values.constructor);\n                tracks.push(track);\n            }\n\n            clip.tracks = tracks; // find minimum .times value across all tracks in the trimmed clip\n\n            var minStartTime = Infinity;\n\n            for (var _i = 0; _i < clip.tracks.length; ++_i) {\n                if (minStartTime > clip.tracks[_i].times[0]) {\n                    minStartTime = clip.tracks[_i].times[0];\n                }\n            } // shift all tracks such that clip begins at t=0\n\n\n            for (var _i2 = 0; _i2 < clip.tracks.length; ++_i2) {\n                clip.tracks[_i2].shift(-1 * minStartTime);\n            }\n\n            clip.resetDuration();\n            return clip;\n        },\n        makeClipAdditive: function makeClipAdditive(targetClip, referenceFrame, referenceClip, fps) {\n            if (referenceFrame === void 0) {\n                referenceFrame = 0;\n            }\n\n            if (referenceClip === void 0) {\n                referenceClip = targetClip;\n            }\n\n            if (fps === void 0) {\n                fps = 30;\n            }\n\n            if (fps <= 0) fps = 30;\n            var numTracks = referenceClip.tracks.length;\n            var referenceTime = referenceFrame / fps; // Make each track's values relative to the values at the reference frame\n\n            var _loop = function _loop(i) {\n                var referenceTrack = referenceClip.tracks[i];\n                var referenceTrackType = referenceTrack.ValueTypeName; // Skip this track if it's non-numeric\n\n                if (referenceTrackType === 'bool' || referenceTrackType === 'string') return \"continue\"; // Find the track in the target clip whose name and type matches the reference track\n\n                var targetTrack = targetClip.tracks.find(function(track) {\n                    return track.name === referenceTrack.name && track.ValueTypeName === referenceTrackType;\n                });\n                if (targetTrack === undefined) return \"continue\";\n                var referenceOffset = 0;\n                var referenceValueSize = referenceTrack.getValueSize();\n\n                if (referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline) {\n                    referenceOffset = referenceValueSize / 3;\n                }\n\n                var targetOffset = 0;\n                var targetValueSize = targetTrack.getValueSize();\n\n                if (targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline) {\n                    targetOffset = targetValueSize / 3;\n                }\n\n                var lastIndex = referenceTrack.times.length - 1;\n                var referenceValue = void 0; // Find the value to subtract out of the track\n\n                if (referenceTime <= referenceTrack.times[0]) {\n                    // Reference frame is earlier than the first keyframe, so just use the first keyframe\n                    var startIndex = referenceOffset;\n                    var endIndex = referenceValueSize - referenceOffset;\n                    referenceValue = AnimationUtils.arraySlice(referenceTrack.values, startIndex, endIndex);\n                } else if (referenceTime >= referenceTrack.times[lastIndex]) {\n                    // Reference frame is after the last keyframe, so just use the last keyframe\n                    var _startIndex = lastIndex * referenceValueSize + referenceOffset;\n\n                    var _endIndex = _startIndex + referenceValueSize - referenceOffset;\n\n                    referenceValue = AnimationUtils.arraySlice(referenceTrack.values, _startIndex, _endIndex);\n                } else {\n                    // Interpolate to the reference value\n                    var interpolant = referenceTrack.createInterpolant();\n                    var _startIndex2 = referenceOffset;\n\n                    var _endIndex2 = referenceValueSize - referenceOffset;\n\n                    interpolant.evaluate(referenceTime);\n                    referenceValue = AnimationUtils.arraySlice(interpolant.resultBuffer, _startIndex2, _endIndex2);\n                } // Conjugate the quaternion\n\n\n                if (referenceTrackType === 'quaternion') {\n                    var referenceQuat = new Quaternion().fromArray(referenceValue).normalize().conjugate();\n                    referenceQuat.toArray(referenceValue);\n                } // Subtract the reference value from all of the track values\n\n\n                var numTimes = targetTrack.times.length;\n\n                for (var j = 0; j < numTimes; ++j) {\n                    var valueStart = j * targetValueSize + targetOffset;\n\n                    if (referenceTrackType === 'quaternion') {\n                        // Multiply the conjugate for quaternion track types\n                        Quaternion.multiplyQuaternionsFlat(targetTrack.values, valueStart, referenceValue, 0, targetTrack.values, valueStart);\n                    } else {\n                        var valueEnd = targetValueSize - targetOffset * 2; // Subtract each value for all other numeric track types\n\n                        for (var k = 0; k < valueEnd; ++k) {\n                            targetTrack.values[valueStart + k] -= referenceValue[k];\n                        }\n                    }\n                }\n            };\n\n            for (var i = 0; i < numTracks; ++i) {\n                var _ret = _loop(i);\n\n                if (_ret === \"continue\") continue;\n            }\n\n            targetClip.blendMode = AdditiveAnimationBlendMode;\n            return targetClip;\n        }\n    };\n\n    /**\n     * Abstract base class of interpolants over parametric samples.\n     *\n     * The parameter domain is one dimensional, typically the time or a path\n     * along a curve defined by the data.\n     *\n     * The sample values can have any dimensionality and derived classes may\n     * apply special interpretations to the data.\n     *\n     * This class provides the interval seek in a Template Method, deferring\n     * the actual interpolation to derived classes.\n     *\n     * Time complexity is O(1) for linear access crossing at most two points\n     * and O(log N) for random access, where N is the number of positions.\n     *\n     * References:\n     *\n     * \t\thttp://www.oodesign.com/template-method-pattern.html\n     *\n     */\n    function Interpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n        this.parameterPositions = parameterPositions;\n        this._cachedIndex = 0;\n        this.resultBuffer = resultBuffer !== undefined ? resultBuffer : new sampleValues.constructor(sampleSize);\n        this.sampleValues = sampleValues;\n        this.valueSize = sampleSize;\n    }\n\n    Object.assign(Interpolant.prototype, {\n        evaluate: function evaluate(t) {\n            var pp = this.parameterPositions;\n            var i1 = this._cachedIndex,\n                t1 = pp[i1],\n                t0 = pp[i1 - 1];\n\n            validate_interval: {\n                    seek: {\n                        var right;\n\n                        linear_scan: {\n                            //- See http://jsperf.com/comparison-to-undefined/3\n                            //- slower code:\n                            //-\n                            //- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n                            forward_scan: if (!(t < t1)) {\n                                    for (var giveUpAt = i1 + 2;;) {\n                                        if (t1 === undefined) {\n                                            if (t < t0) break forward_scan; // after end\n\n                                            i1 = pp.length;\n                                            this._cachedIndex = i1;\n                                            return this.afterEnd_(i1 - 1, t, t0);\n                                        }\n\n                                        if (i1 === giveUpAt) break; // this loop\n\n                                        t0 = t1;\n                                        t1 = pp[++i1];\n\n                                        if (t < t1) {\n                                            // we have arrived at the sought interval\n                                            break seek;\n                                        }\n                                    } // prepare binary search on the right side of the index\n\n\n                                    right = pp.length;\n                                    break linear_scan;\n                                } //- slower code:\n                                //-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\n\n                            if (!(t >= t0)) {\n                                // looping?\n                                var t1global = pp[1];\n\n                                if (t < t1global) {\n                                    i1 = 2; // + 1, using the scan for the details\n\n                                    t0 = t1global;\n                                } // linear reverse scan\n\n\n                                for (var _giveUpAt = i1 - 2;;) {\n                                    if (t0 === undefined) {\n                                        // before start\n                                        this._cachedIndex = 0;\n                                        return this.beforeStart_(0, t, t1);\n                                    }\n\n                                    if (i1 === _giveUpAt) break; // this loop\n\n                                    t1 = t0;\n                                    t0 = pp[--i1 - 1];\n\n                                    if (t >= t0) {\n                                        // we have arrived at the sought interval\n                                        break seek;\n                                    }\n                                } // prepare binary search on the left side of the index\n\n\n                                right = i1;\n                                i1 = 0;\n                                break linear_scan;\n                            } // the interval is valid\n\n\n                            break validate_interval;\n                        } // linear scan\n                        // binary search\n\n\n                        while (i1 < right) {\n                            var mid = i1 + right >>> 1;\n\n                            if (t < pp[mid]) {\n                                right = mid;\n                            } else {\n                                i1 = mid + 1;\n                            }\n                        }\n\n                        t1 = pp[i1];\n                        t0 = pp[i1 - 1]; // check boundary cases, again\n\n                        if (t0 === undefined) {\n                            this._cachedIndex = 0;\n                            return this.beforeStart_(0, t, t1);\n                        }\n\n                        if (t1 === undefined) {\n                            i1 = pp.length;\n                            this._cachedIndex = i1;\n                            return this.afterEnd_(i1 - 1, t0, t);\n                        }\n                    } // seek\n\n\n                    this._cachedIndex = i1;\n                    this.intervalChanged_(i1, t0, t1);\n                } // validate_interval\n\n\n            return this.interpolate_(i1, t0, t, t1);\n        },\n        settings: null,\n        // optional, subclass-specific settings structure\n        // Note: The indirection allows central control of many interpolants.\n        // --- Protected interface\n        DefaultSettings_: {},\n        getSettings_: function getSettings_() {\n            return this.settings || this.DefaultSettings_;\n        },\n        copySampleValue_: function copySampleValue_(index) {\n            // copies a sample value to the result buffer\n            var result = this.resultBuffer,\n                values = this.sampleValues,\n                stride = this.valueSize,\n                offset = index * stride;\n\n            for (var i = 0; i !== stride; ++i) {\n                result[i] = values[offset + i];\n            }\n\n            return result;\n        },\n        // Template methods for derived classes:\n        interpolate_: function interpolate_()\n            /* i1, t0, t, t1 */\n            {\n                throw new Error('call to abstract method'); // implementations shall return this.resultBuffer\n            },\n        intervalChanged_: function intervalChanged_()\n            /* i1, t0, t1 */\n            { // empty\n            }\n    }); // DECLARE ALIAS AFTER assign prototype\n\n    Object.assign(Interpolant.prototype, {\n        //( 0, t, t0 ), returns this.resultBuffer\n        beforeStart_: Interpolant.prototype.copySampleValue_,\n        //( N-1, tN-1, t ), returns this.resultBuffer\n        afterEnd_: Interpolant.prototype.copySampleValue_\n    });\n\n    /**\n     * Fast and simple cubic spline interpolant.\n     *\n     * It was derived from a Hermitian construction setting the first derivative\n     * at each sample position to the linear slope between neighboring positions\n     * over their parameter interval.\n     */\n\n    function CubicInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n        Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n        this._weightPrev = -0;\n        this._offsetPrev = -0;\n        this._weightNext = -0;\n        this._offsetNext = -0;\n    }\n\n    CubicInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n        constructor: CubicInterpolant,\n        DefaultSettings_: {\n            endingStart: ZeroCurvatureEnding,\n            endingEnd: ZeroCurvatureEnding\n        },\n        intervalChanged_: function intervalChanged_(i1, t0, t1) {\n            var pp = this.parameterPositions;\n            var iPrev = i1 - 2,\n                iNext = i1 + 1,\n                tPrev = pp[iPrev],\n                tNext = pp[iNext];\n\n            if (tPrev === undefined) {\n                switch (this.getSettings_().endingStart) {\n                    case ZeroSlopeEnding:\n                        // f'(t0) = 0\n                        iPrev = i1;\n                        tPrev = 2 * t0 - t1;\n                        break;\n\n                    case WrapAroundEnding:\n                        // use the other end of the curve\n                        iPrev = pp.length - 2;\n                        tPrev = t0 + pp[iPrev] - pp[iPrev + 1];\n                        break;\n\n                    default:\n                        // ZeroCurvatureEnding\n                        // f''(t0) = 0 a.k.a. Natural Spline\n                        iPrev = i1;\n                        tPrev = t1;\n                }\n            }\n\n            if (tNext === undefined) {\n                switch (this.getSettings_().endingEnd) {\n                    case ZeroSlopeEnding:\n                        // f'(tN) = 0\n                        iNext = i1;\n                        tNext = 2 * t1 - t0;\n                        break;\n\n                    case WrapAroundEnding:\n                        // use the other end of the curve\n                        iNext = 1;\n                        tNext = t1 + pp[1] - pp[0];\n                        break;\n\n                    default:\n                        // ZeroCurvatureEnding\n                        // f''(tN) = 0, a.k.a. Natural Spline\n                        iNext = i1 - 1;\n                        tNext = t0;\n                }\n            }\n\n            var halfDt = (t1 - t0) * 0.5,\n                stride = this.valueSize;\n            this._weightPrev = halfDt / (t0 - tPrev);\n            this._weightNext = halfDt / (tNext - t1);\n            this._offsetPrev = iPrev * stride;\n            this._offsetNext = iNext * stride;\n        },\n        interpolate_: function interpolate_(i1, t0, t, t1) {\n            var result = this.resultBuffer,\n                values = this.sampleValues,\n                stride = this.valueSize,\n                o1 = i1 * stride,\n                o0 = o1 - stride,\n                oP = this._offsetPrev,\n                oN = this._offsetNext,\n                wP = this._weightPrev,\n                wN = this._weightNext,\n                p = (t - t0) / (t1 - t0),\n                pp = p * p,\n                ppp = pp * p; // evaluate polynomials\n\n            var sP = -wP * ppp + 2 * wP * pp - wP * p;\n            var s0 = (1 + wP) * ppp + (-1.5 - 2 * wP) * pp + (-0.5 + wP) * p + 1;\n            var s1 = (-1 - wN) * ppp + (1.5 + wN) * pp + 0.5 * p;\n            var sN = wN * ppp - wN * pp; // combine data linearly\n\n            for (var i = 0; i !== stride; ++i) {\n                result[i] = sP * values[oP + i] + s0 * values[o0 + i] + s1 * values[o1 + i] + sN * values[oN + i];\n            }\n\n            return result;\n        }\n    });\n\n    function LinearInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n        Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n    }\n\n    LinearInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n        constructor: LinearInterpolant,\n        interpolate_: function interpolate_(i1, t0, t, t1) {\n            var result = this.resultBuffer,\n                values = this.sampleValues,\n                stride = this.valueSize,\n                offset1 = i1 * stride,\n                offset0 = offset1 - stride,\n                weight1 = (t - t0) / (t1 - t0),\n                weight0 = 1 - weight1;\n\n            for (var i = 0; i !== stride; ++i) {\n                result[i] = values[offset0 + i] * weight0 + values[offset1 + i] * weight1;\n            }\n\n            return result;\n        }\n    });\n\n    /**\n     *\n     * Interpolant that evaluates to the sample value at the position preceeding\n     * the parameter.\n     */\n\n    function DiscreteInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n        Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n    }\n\n    DiscreteInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n        constructor: DiscreteInterpolant,\n        interpolate_: function interpolate_(i1\n            /*, t0, t, t1 */\n        ) {\n            return this.copySampleValue_(i1 - 1);\n        }\n    });\n\n    var KeyframeTrack = /*#__PURE__*/ function() {\n        function KeyframeTrack(name, times, values, interpolation) {\n            if (name === undefined) throw new Error('THREE.KeyframeTrack: track name is undefined');\n            if (times === undefined || times.length === 0) throw new Error('THREE.KeyframeTrack: no keyframes in track named ' + name);\n            this.name = name;\n            this.times = AnimationUtils.convertArray(times, this.TimeBufferType);\n            this.values = AnimationUtils.convertArray(values, this.ValueBufferType);\n            this.setInterpolation(interpolation || this.DefaultInterpolation);\n        } // Serialization (in static context, because of constructor invocation\n        // and automatic invocation of .toJSON):\n\n\n        KeyframeTrack.toJSON = function toJSON(track) {\n            var trackType = track.constructor;\n            var json; // derived classes can define a static toJSON method\n\n            if (trackType.toJSON !== this.toJSON) {\n                json = trackType.toJSON(track);\n            } else {\n                // by default, we assume the data can be serialized as-is\n                json = {\n                    'name': track.name,\n                    'times': AnimationUtils.convertArray(track.times, Array),\n                    'values': AnimationUtils.convertArray(track.values, Array)\n                };\n                var interpolation = track.getInterpolation();\n\n                if (interpolation !== track.DefaultInterpolation) {\n                    json.interpolation = interpolation;\n                }\n            }\n\n            json.type = track.ValueTypeName; // mandatory\n\n            return json;\n        };\n\n        var _proto = KeyframeTrack.prototype;\n\n        _proto.InterpolantFactoryMethodDiscrete = function InterpolantFactoryMethodDiscrete(result) {\n            return new DiscreteInterpolant(this.times, this.values, this.getValueSize(), result);\n        };\n\n        _proto.InterpolantFactoryMethodLinear = function InterpolantFactoryMethodLinear(result) {\n            return new LinearInterpolant(this.times, this.values, this.getValueSize(), result);\n        };\n\n        _proto.InterpolantFactoryMethodSmooth = function InterpolantFactoryMethodSmooth(result) {\n            return new CubicInterpolant(this.times, this.values, this.getValueSize(), result);\n        };\n\n        _proto.setInterpolation = function setInterpolation(interpolation) {\n            var factoryMethod;\n\n            switch (interpolation) {\n                case InterpolateDiscrete:\n                    factoryMethod = this.InterpolantFactoryMethodDiscrete;\n                    break;\n\n                case InterpolateLinear:\n                    factoryMethod = this.InterpolantFactoryMethodLinear;\n                    break;\n\n                case InterpolateSmooth:\n                    factoryMethod = this.InterpolantFactoryMethodSmooth;\n                    break;\n            }\n\n            if (factoryMethod === undefined) {\n                var message = 'unsupported interpolation for ' + this.ValueTypeName + ' keyframe track named ' + this.name;\n\n                if (this.createInterpolant === undefined) {\n                    // fall back to default, unless the default itself is messed up\n                    if (interpolation !== this.DefaultInterpolation) {\n                        this.setInterpolation(this.DefaultInterpolation);\n                    } else {\n                        throw new Error(message); // fatal, in this case\n                    }\n                }\n\n                console.warn('THREE.KeyframeTrack:', message);\n                return this;\n            }\n\n            this.createInterpolant = factoryMethod;\n            return this;\n        };\n\n        _proto.getInterpolation = function getInterpolation() {\n            switch (this.createInterpolant) {\n                case this.InterpolantFactoryMethodDiscrete:\n                    return InterpolateDiscrete;\n\n                case this.InterpolantFactoryMethodLinear:\n                    return InterpolateLinear;\n\n                case this.InterpolantFactoryMethodSmooth:\n                    return InterpolateSmooth;\n            }\n        };\n\n        _proto.getValueSize = function getValueSize() {\n                return this.values.length / this.times.length;\n            } // move all keyframes either forwards or backwards in time\n        ;\n\n        _proto.shift = function shift(timeOffset) {\n                if (timeOffset !== 0.0) {\n                    var times = this.times;\n\n                    for (var i = 0, n = times.length; i !== n; ++i) {\n                        times[i] += timeOffset;\n                    }\n                }\n\n                return this;\n            } // scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n        ;\n\n        _proto.scale = function scale(timeScale) {\n                if (timeScale !== 1.0) {\n                    var times = this.times;\n\n                    for (var i = 0, n = times.length; i !== n; ++i) {\n                        times[i] *= timeScale;\n                    }\n                }\n\n                return this;\n            } // removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n            // IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n        ;\n\n        _proto.trim = function trim(startTime, endTime) {\n                var times = this.times,\n                    nKeys = times.length;\n                var from = 0,\n                    to = nKeys - 1;\n\n                while (from !== nKeys && times[from] < startTime) {\n                    ++from;\n                }\n\n                while (to !== -1 && times[to] > endTime) {\n                    --to;\n                }\n\n                ++to; // inclusive -> exclusive bound\n\n                if (from !== 0 || to !== nKeys) {\n                    // empty tracks are forbidden, so keep at least one keyframe\n                    if (from >= to) {\n                        to = Math.max(to, 1);\n                        from = to - 1;\n                    }\n\n                    var stride = this.getValueSize();\n                    this.times = AnimationUtils.arraySlice(times, from, to);\n                    this.values = AnimationUtils.arraySlice(this.values, from * stride, to * stride);\n                }\n\n                return this;\n            } // ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n        ;\n\n        _proto.validate = function validate() {\n                var valid = true;\n                var valueSize = this.getValueSize();\n\n                if (valueSize - Math.floor(valueSize) !== 0) {\n                    console.error('THREE.KeyframeTrack: Invalid value size in track.', this);\n                    valid = false;\n                }\n\n                var times = this.times,\n                    values = this.values,\n                    nKeys = times.length;\n\n                if (nKeys === 0) {\n                    console.error('THREE.KeyframeTrack: Track is empty.', this);\n                    valid = false;\n                }\n\n                var prevTime = null;\n\n                for (var i = 0; i !== nKeys; i++) {\n                    var currTime = times[i];\n\n                    if (typeof currTime === 'number' && isNaN(currTime)) {\n                        console.error('THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime);\n                        valid = false;\n                        break;\n                    }\n\n                    if (prevTime !== null && prevTime > currTime) {\n                        console.error('THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime);\n                        valid = false;\n                        break;\n                    }\n\n                    prevTime = currTime;\n                }\n\n                if (values !== undefined) {\n                    if (AnimationUtils.isTypedArray(values)) {\n                        for (var _i = 0, n = values.length; _i !== n; ++_i) {\n                            var value = values[_i];\n\n                            if (isNaN(value)) {\n                                console.error('THREE.KeyframeTrack: Value is not a valid number.', this, _i, value);\n                                valid = false;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                return valid;\n            } // removes equivalent sequential keys as common in morph target sequences\n            // (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n        ;\n\n        _proto.optimize = function optimize() {\n            // times or values may be shared with other tracks, so overwriting is unsafe\n            var times = AnimationUtils.arraySlice(this.times),\n                values = AnimationUtils.arraySlice(this.values),\n                stride = this.getValueSize(),\n                smoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n                lastIndex = times.length - 1;\n            var writeIndex = 1;\n\n            for (var i = 1; i < lastIndex; ++i) {\n                var keep = false;\n                var time = times[i];\n                var timeNext = times[i + 1]; // remove adjacent keyframes scheduled at the same time\n\n                if (time !== timeNext && (i !== 1 || time !== times[0])) {\n                    if (!smoothInterpolation) {\n                        // remove unnecessary keyframes same as their neighbors\n                        var offset = i * stride,\n                            offsetP = offset - stride,\n                            offsetN = offset + stride;\n\n                        for (var j = 0; j !== stride; ++j) {\n                            var value = values[offset + j];\n\n                            if (value !== values[offsetP + j] || value !== values[offsetN + j]) {\n                                keep = true;\n                                break;\n                            }\n                        }\n                    } else {\n                        keep = true;\n                    }\n                } // in-place compaction\n\n\n                if (keep) {\n                    if (i !== writeIndex) {\n                        times[writeIndex] = times[i];\n                        var readOffset = i * stride,\n                            writeOffset = writeIndex * stride;\n\n                        for (var _j = 0; _j !== stride; ++_j) {\n                            values[writeOffset + _j] = values[readOffset + _j];\n                        }\n                    }\n\n                    ++writeIndex;\n                }\n            } // flush last keyframe (compaction looks ahead)\n\n\n            if (lastIndex > 0) {\n                times[writeIndex] = times[lastIndex];\n\n                for (var _readOffset = lastIndex * stride, _writeOffset = writeIndex * stride, _j2 = 0; _j2 !== stride; ++_j2) {\n                    values[_writeOffset + _j2] = values[_readOffset + _j2];\n                }\n\n                ++writeIndex;\n            }\n\n            if (writeIndex !== times.length) {\n                this.times = AnimationUtils.arraySlice(times, 0, writeIndex);\n                this.values = AnimationUtils.arraySlice(values, 0, writeIndex * stride);\n            } else {\n                this.times = times;\n                this.values = values;\n            }\n\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            var times = AnimationUtils.arraySlice(this.times, 0);\n            var values = AnimationUtils.arraySlice(this.values, 0);\n            var TypedKeyframeTrack = this.constructor;\n            var track = new TypedKeyframeTrack(this.name, times, values); // Interpolant argument to constructor is not saved, so copy the factory method directly.\n\n            track.createInterpolant = this.createInterpolant;\n            return track;\n        };\n\n        return KeyframeTrack;\n    }();\n\n    KeyframeTrack.prototype.TimeBufferType = Float32Array;\n    KeyframeTrack.prototype.ValueBufferType = Float32Array;\n    KeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n\n    /**\n     * A Track of Boolean keyframe values.\n     */\n\n    var BooleanKeyframeTrack = /*#__PURE__*/ function(_KeyframeTrack) {\n        _inheritsLoose(BooleanKeyframeTrack, _KeyframeTrack);\n\n        function BooleanKeyframeTrack() {\n            return _KeyframeTrack.apply(this, arguments) || this;\n        }\n\n        return BooleanKeyframeTrack;\n    }(KeyframeTrack);\n\n    BooleanKeyframeTrack.prototype.ValueTypeName = 'bool';\n    BooleanKeyframeTrack.prototype.ValueBufferType = Array;\n    BooleanKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\n    BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\n    BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined; // Note: Actually this track could have a optimized / compressed\n\n    /**\n     * A Track of keyframe values that represent color.\n     */\n\n    var ColorKeyframeTrack = /*#__PURE__*/ function(_KeyframeTrack) {\n        _inheritsLoose(ColorKeyframeTrack, _KeyframeTrack);\n\n        function ColorKeyframeTrack() {\n            return _KeyframeTrack.apply(this, arguments) || this;\n        }\n\n        return ColorKeyframeTrack;\n    }(KeyframeTrack);\n\n    ColorKeyframeTrack.prototype.ValueTypeName = 'color'; // ValueBufferType is inherited\n\n    /**\n     * A Track of numeric keyframe values.\n     */\n\n    var NumberKeyframeTrack = /*#__PURE__*/ function(_KeyframeTrack) {\n        _inheritsLoose(NumberKeyframeTrack, _KeyframeTrack);\n\n        function NumberKeyframeTrack() {\n            return _KeyframeTrack.apply(this, arguments) || this;\n        }\n\n        return NumberKeyframeTrack;\n    }(KeyframeTrack);\n\n    NumberKeyframeTrack.prototype.ValueTypeName = 'number'; // ValueBufferType is inherited\n\n    /**\n     * Spherical linear unit quaternion interpolant.\n     */\n\n    function QuaternionLinearInterpolant(parameterPositions, sampleValues, sampleSize, resultBuffer) {\n        Interpolant.call(this, parameterPositions, sampleValues, sampleSize, resultBuffer);\n    }\n\n    QuaternionLinearInterpolant.prototype = Object.assign(Object.create(Interpolant.prototype), {\n        constructor: QuaternionLinearInterpolant,\n        interpolate_: function interpolate_(i1, t0, t, t1) {\n            var result = this.resultBuffer,\n                values = this.sampleValues,\n                stride = this.valueSize,\n                alpha = (t - t0) / (t1 - t0);\n            var offset = i1 * stride;\n\n            for (var end = offset + stride; offset !== end; offset += 4) {\n                Quaternion.slerpFlat(result, 0, values, offset - stride, values, offset, alpha);\n            }\n\n            return result;\n        }\n    });\n\n    /**\n     * A Track of quaternion keyframe values.\n     */\n\n    var QuaternionKeyframeTrack = /*#__PURE__*/ function(_KeyframeTrack) {\n        _inheritsLoose(QuaternionKeyframeTrack, _KeyframeTrack);\n\n        function QuaternionKeyframeTrack() {\n            return _KeyframeTrack.apply(this, arguments) || this;\n        }\n\n        var _proto = QuaternionKeyframeTrack.prototype;\n\n        _proto.InterpolantFactoryMethodLinear = function InterpolantFactoryMethodLinear(result) {\n            return new QuaternionLinearInterpolant(this.times, this.values, this.getValueSize(), result);\n        };\n\n        return QuaternionKeyframeTrack;\n    }(KeyframeTrack);\n\n    QuaternionKeyframeTrack.prototype.ValueTypeName = 'quaternion'; // ValueBufferType is inherited\n\n    QuaternionKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n    QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n    /**\n     * A Track that interpolates Strings\n     */\n\n    var StringKeyframeTrack = /*#__PURE__*/ function(_KeyframeTrack) {\n        _inheritsLoose(StringKeyframeTrack, _KeyframeTrack);\n\n        function StringKeyframeTrack() {\n            return _KeyframeTrack.apply(this, arguments) || this;\n        }\n\n        return StringKeyframeTrack;\n    }(KeyframeTrack);\n\n    StringKeyframeTrack.prototype.ValueTypeName = 'string';\n    StringKeyframeTrack.prototype.ValueBufferType = Array;\n    StringKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\n    StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\n    StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n    /**\n     * A Track of vectored keyframe values.\n     */\n\n    var VectorKeyframeTrack = /*#__PURE__*/ function(_KeyframeTrack) {\n        _inheritsLoose(VectorKeyframeTrack, _KeyframeTrack);\n\n        function VectorKeyframeTrack() {\n            return _KeyframeTrack.apply(this, arguments) || this;\n        }\n\n        return VectorKeyframeTrack;\n    }(KeyframeTrack);\n\n    VectorKeyframeTrack.prototype.ValueTypeName = 'vector'; // ValueBufferType is inherited\n\n    var AnimationClip = /*#__PURE__*/ function() {\n        function AnimationClip(name, duration, tracks, blendMode) {\n            if (duration === void 0) {\n                duration = -1;\n            }\n\n            if (blendMode === void 0) {\n                blendMode = NormalAnimationBlendMode;\n            }\n\n            this.name = name;\n            this.tracks = tracks;\n            this.duration = duration;\n            this.blendMode = blendMode;\n            this.uuid = MathUtils.generateUUID(); // this means it should figure out its duration by scanning the tracks\n\n            if (this.duration < 0) {\n                this.resetDuration();\n            }\n        }\n\n        AnimationClip.parse = function parse(json) {\n            var tracks = [],\n                jsonTracks = json.tracks,\n                frameTime = 1.0 / (json.fps || 1.0);\n\n            for (var i = 0, n = jsonTracks.length; i !== n; ++i) {\n                tracks.push(parseKeyframeTrack(jsonTracks[i]).scale(frameTime));\n            }\n\n            var clip = new this(json.name, json.duration, tracks, json.blendMode);\n            clip.uuid = json.uuid;\n            return clip;\n        };\n\n        AnimationClip.toJSON = function toJSON(clip) {\n            var tracks = [],\n                clipTracks = clip.tracks;\n            var json = {\n                'name': clip.name,\n                'duration': clip.duration,\n                'tracks': tracks,\n                'uuid': clip.uuid,\n                'blendMode': clip.blendMode\n            };\n\n            for (var i = 0, n = clipTracks.length; i !== n; ++i) {\n                tracks.push(KeyframeTrack.toJSON(clipTracks[i]));\n            }\n\n            return json;\n        };\n\n        AnimationClip.CreateFromMorphTargetSequence = function CreateFromMorphTargetSequence(name, morphTargetSequence, fps, noLoop) {\n            var numMorphTargets = morphTargetSequence.length;\n            var tracks = [];\n\n            for (var i = 0; i < numMorphTargets; i++) {\n                var times = [];\n                var values = [];\n                times.push((i + numMorphTargets - 1) % numMorphTargets, i, (i + 1) % numMorphTargets);\n                values.push(0, 1, 0);\n                var order = AnimationUtils.getKeyframeOrder(times);\n                times = AnimationUtils.sortedArray(times, 1, order);\n                values = AnimationUtils.sortedArray(values, 1, order); // if there is a key at the first frame, duplicate it as the\n                // last frame as well for perfect loop.\n\n                if (!noLoop && times[0] === 0) {\n                    times.push(numMorphTargets);\n                    values.push(values[0]);\n                }\n\n                tracks.push(new NumberKeyframeTrack('.morphTargetInfluences[' + morphTargetSequence[i].name + ']', times, values).scale(1.0 / fps));\n            }\n\n            return new this(name, -1, tracks);\n        };\n\n        AnimationClip.findByName = function findByName(objectOrClipArray, name) {\n            var clipArray = objectOrClipArray;\n\n            if (!Array.isArray(objectOrClipArray)) {\n                var o = objectOrClipArray;\n                clipArray = o.geometry && o.geometry.animations || o.animations;\n            }\n\n            for (var i = 0; i < clipArray.length; i++) {\n                if (clipArray[i].name === name) {\n                    return clipArray[i];\n                }\n            }\n\n            return null;\n        };\n\n        AnimationClip.CreateClipsFromMorphTargetSequences = function CreateClipsFromMorphTargetSequences(morphTargets, fps, noLoop) {\n                var animationToMorphTargets = {}; // tested with https://regex101.com/ on trick sequences\n                // such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\n                var pattern = /^([\\w-]*?)([\\d]+)$/; // sort morph target names into animation groups based\n                // patterns like Walk_001, Walk_002, Run_001, Run_002\n\n                for (var i = 0, il = morphTargets.length; i < il; i++) {\n                    var morphTarget = morphTargets[i];\n                    var parts = morphTarget.name.match(pattern);\n\n                    if (parts && parts.length > 1) {\n                        var name = parts[1];\n                        var animationMorphTargets = animationToMorphTargets[name];\n\n                        if (!animationMorphTargets) {\n                            animationToMorphTargets[name] = animationMorphTargets = [];\n                        }\n\n                        animationMorphTargets.push(morphTarget);\n                    }\n                }\n\n                var clips = [];\n\n                for (var _name in animationToMorphTargets) {\n                    clips.push(this.CreateFromMorphTargetSequence(_name, animationToMorphTargets[_name], fps, noLoop));\n                }\n\n                return clips;\n            } // parse the animation.hierarchy format\n        ;\n\n        AnimationClip.parseAnimation = function parseAnimation(animation, bones) {\n            if (!animation) {\n                console.error('THREE.AnimationClip: No animation in JSONLoader data.');\n                return null;\n            }\n\n            var addNonemptyTrack = function addNonemptyTrack(trackType, trackName, animationKeys, propertyName, destTracks) {\n                // only return track if there are actually keys.\n                if (animationKeys.length !== 0) {\n                    var times = [];\n                    var values = [];\n                    AnimationUtils.flattenJSON(animationKeys, times, values, propertyName); // empty keys are filtered out, so check again\n\n                    if (times.length !== 0) {\n                        destTracks.push(new trackType(trackName, times, values));\n                    }\n                }\n            };\n\n            var tracks = [];\n            var clipName = animation.name || 'default';\n            var fps = animation.fps || 30;\n            var blendMode = animation.blendMode; // automatic length determination in AnimationClip.\n\n            var duration = animation.length || -1;\n            var hierarchyTracks = animation.hierarchy || [];\n\n            for (var h = 0; h < hierarchyTracks.length; h++) {\n                var animationKeys = hierarchyTracks[h].keys; // skip empty tracks\n\n                if (!animationKeys || animationKeys.length === 0) continue; // process morph targets\n\n                if (animationKeys[0].morphTargets) {\n                    // figure out all morph targets used in this track\n                    var morphTargetNames = {};\n                    var k = void 0;\n\n                    for (k = 0; k < animationKeys.length; k++) {\n                        if (animationKeys[k].morphTargets) {\n                            for (var m = 0; m < animationKeys[k].morphTargets.length; m++) {\n                                morphTargetNames[animationKeys[k].morphTargets[m]] = -1;\n                            }\n                        }\n                    } // create a track for each morph target with all zero\n                    // morphTargetInfluences except for the keys in which\n                    // the morphTarget is named.\n\n\n                    for (var morphTargetName in morphTargetNames) {\n                        var times = [];\n                        var values = [];\n\n                        for (var _m = 0; _m !== animationKeys[k].morphTargets.length; ++_m) {\n                            var animationKey = animationKeys[k];\n                            times.push(animationKey.time);\n                            values.push(animationKey.morphTarget === morphTargetName ? 1 : 0);\n                        }\n\n                        tracks.push(new NumberKeyframeTrack('.morphTargetInfluence[' + morphTargetName + ']', times, values));\n                    }\n\n                    duration = morphTargetNames.length * (fps || 1.0);\n                } else {\n                    // ...assume skeletal animation\n                    var boneName = '.bones[' + bones[h].name + ']';\n                    addNonemptyTrack(VectorKeyframeTrack, boneName + '.position', animationKeys, 'pos', tracks);\n                    addNonemptyTrack(QuaternionKeyframeTrack, boneName + '.quaternion', animationKeys, 'rot', tracks);\n                    addNonemptyTrack(VectorKeyframeTrack, boneName + '.scale', animationKeys, 'scl', tracks);\n                }\n            }\n\n            if (tracks.length === 0) {\n                return null;\n            }\n\n            var clip = new this(clipName, duration, tracks, blendMode);\n            return clip;\n        };\n\n        var _proto = AnimationClip.prototype;\n\n        _proto.resetDuration = function resetDuration() {\n            var tracks = this.tracks;\n            var duration = 0;\n\n            for (var i = 0, n = tracks.length; i !== n; ++i) {\n                var track = this.tracks[i];\n                duration = Math.max(duration, track.times[track.times.length - 1]);\n            }\n\n            this.duration = duration;\n            return this;\n        };\n\n        _proto.trim = function trim() {\n            for (var i = 0; i < this.tracks.length; i++) {\n                this.tracks[i].trim(0, this.duration);\n            }\n\n            return this;\n        };\n\n        _proto.validate = function validate() {\n            var valid = true;\n\n            for (var i = 0; i < this.tracks.length; i++) {\n                valid = valid && this.tracks[i].validate();\n            }\n\n            return valid;\n        };\n\n        _proto.optimize = function optimize() {\n            for (var i = 0; i < this.tracks.length; i++) {\n                this.tracks[i].optimize();\n            }\n\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            var tracks = [];\n\n            for (var i = 0; i < this.tracks.length; i++) {\n                tracks.push(this.tracks[i].clone());\n            }\n\n            return new this.constructor(this.name, this.duration, tracks, this.blendMode);\n        };\n\n        _proto.toJSON = function toJSON() {\n            return this.constructor.toJSON(this);\n        };\n\n        return AnimationClip;\n    }();\n\n    function getTrackTypeForValueTypeName(typeName) {\n        switch (typeName.toLowerCase()) {\n            case 'scalar':\n            case 'double':\n            case 'float':\n            case 'number':\n            case 'integer':\n                return NumberKeyframeTrack;\n\n            case 'vector':\n            case 'vector2':\n            case 'vector3':\n            case 'vector4':\n                return VectorKeyframeTrack;\n\n            case 'color':\n                return ColorKeyframeTrack;\n\n            case 'quaternion':\n                return QuaternionKeyframeTrack;\n\n            case 'bool':\n            case 'boolean':\n                return BooleanKeyframeTrack;\n\n            case 'string':\n                return StringKeyframeTrack;\n        }\n\n        throw new Error('THREE.KeyframeTrack: Unsupported typeName: ' + typeName);\n    }\n\n    function parseKeyframeTrack(json) {\n        if (json.type === undefined) {\n            throw new Error('THREE.KeyframeTrack: track type undefined, can not parse');\n        }\n\n        var trackType = getTrackTypeForValueTypeName(json.type);\n\n        if (json.times === undefined) {\n            var times = [],\n                values = [];\n            AnimationUtils.flattenJSON(json.keys, times, values, 'value');\n            json.times = times;\n            json.values = values;\n        } // derived classes can define a static parse method\n\n\n        if (trackType.parse !== undefined) {\n            return trackType.parse(json);\n        } else {\n            // by default, we assume a constructor compatible with the base\n            return new trackType(json.name, json.times, json.values, json.interpolation);\n        }\n    }\n\n    var Cache = {\n        enabled: false,\n        files: {},\n        add: function add(key, file) {\n            if (this.enabled === false) return; // console.log( 'THREE.Cache', 'Adding key:', key );\n\n            this.files[key] = file;\n        },\n        get: function get(key) {\n            if (this.enabled === false) return; // console.log( 'THREE.Cache', 'Checking key:', key );\n\n            return this.files[key];\n        },\n        remove: function remove(key) {\n            delete this.files[key];\n        },\n        clear: function clear() {\n            this.files = {};\n        }\n    };\n\n    function LoadingManager(onLoad, onProgress, onError) {\n        var scope = this;\n        var isLoading = false;\n        var itemsLoaded = 0;\n        var itemsTotal = 0;\n        var urlModifier = undefined;\n        var handlers = []; // Refer to #5689 for the reason why we don't set .onStart\n        // in the constructor\n\n        this.onStart = undefined;\n        this.onLoad = onLoad;\n        this.onProgress = onProgress;\n        this.onError = onError;\n\n        this.itemStart = function(url) {\n            itemsTotal++;\n\n            if (isLoading === false) {\n                if (scope.onStart !== undefined) {\n                    scope.onStart(url, itemsLoaded, itemsTotal);\n                }\n            }\n\n            isLoading = true;\n        };\n\n        this.itemEnd = function(url) {\n            itemsLoaded++;\n\n            if (scope.onProgress !== undefined) {\n                scope.onProgress(url, itemsLoaded, itemsTotal);\n            }\n\n            if (itemsLoaded === itemsTotal) {\n                isLoading = false;\n\n                if (scope.onLoad !== undefined) {\n                    scope.onLoad();\n                }\n            }\n        };\n\n        this.itemError = function(url) {\n            if (scope.onError !== undefined) {\n                scope.onError(url);\n            }\n        };\n\n        this.resolveURL = function(url) {\n            if (urlModifier) {\n                return urlModifier(url);\n            }\n\n            return url;\n        };\n\n        this.setURLModifier = function(transform) {\n            urlModifier = transform;\n            return this;\n        };\n\n        this.addHandler = function(regex, loader) {\n            handlers.push(regex, loader);\n            return this;\n        };\n\n        this.removeHandler = function(regex) {\n            var index = handlers.indexOf(regex);\n\n            if (index !== -1) {\n                handlers.splice(index, 2);\n            }\n\n            return this;\n        };\n\n        this.getHandler = function(file) {\n            for (var i = 0, l = handlers.length; i < l; i += 2) {\n                var regex = handlers[i];\n                var loader = handlers[i + 1];\n                if (regex.global) regex.lastIndex = 0; // see #17920\n\n                if (regex.test(file)) {\n                    return loader;\n                }\n            }\n\n            return null;\n        };\n    }\n\n    var DefaultLoadingManager = new LoadingManager();\n\n    function Loader(manager) {\n        this.manager = manager !== undefined ? manager : DefaultLoadingManager;\n        this.crossOrigin = 'anonymous';\n        this.withCredentials = false;\n        this.path = '';\n        this.resourcePath = '';\n        this.requestHeader = {};\n    }\n\n    Object.assign(Loader.prototype, {\n        load: function load()\n            /* url, onLoad, onProgress, onError */\n            {},\n        loadAsync: function loadAsync(url, onProgress) {\n            var scope = this;\n            return new Promise(function(resolve, reject) {\n                scope.load(url, resolve, onProgress, reject);\n            });\n        },\n        parse: function parse()\n            /* data */\n            {},\n        setCrossOrigin: function setCrossOrigin(crossOrigin) {\n            this.crossOrigin = crossOrigin;\n            return this;\n        },\n        setWithCredentials: function setWithCredentials(value) {\n            this.withCredentials = value;\n            return this;\n        },\n        setPath: function setPath(path) {\n            this.path = path;\n            return this;\n        },\n        setResourcePath: function setResourcePath(resourcePath) {\n            this.resourcePath = resourcePath;\n            return this;\n        },\n        setRequestHeader: function setRequestHeader(requestHeader) {\n            this.requestHeader = requestHeader;\n            return this;\n        }\n    });\n\n    var loading = {};\n\n    function FileLoader(manager) {\n        Loader.call(this, manager);\n    }\n\n    FileLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: FileLoader,\n        load: function load(url, onLoad, onProgress, onError) {\n            if (url === undefined) url = '';\n            if (this.path !== undefined) url = this.path + url;\n            url = this.manager.resolveURL(url);\n            var scope = this;\n            var cached = Cache.get(url);\n\n            if (cached !== undefined) {\n                scope.manager.itemStart(url);\n                setTimeout(function() {\n                    if (onLoad) onLoad(cached);\n                    scope.manager.itemEnd(url);\n                }, 0);\n                return cached;\n            } // Check if request is duplicate\n\n\n            if (loading[url] !== undefined) {\n                loading[url].push({\n                    onLoad: onLoad,\n                    onProgress: onProgress,\n                    onError: onError\n                });\n                return;\n            } // Check for data: URI\n\n\n            var dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n            var dataUriRegexResult = url.match(dataUriRegex);\n            var request; // Safari can not handle Data URIs through XMLHttpRequest so process manually\n\n            if (dataUriRegexResult) {\n                var mimeType = dataUriRegexResult[1];\n                var isBase64 = !!dataUriRegexResult[2];\n                var data = dataUriRegexResult[3];\n                data = decodeURIComponent(data);\n                if (isBase64) data = atob(data);\n\n                try {\n                    var response;\n                    var responseType = (this.responseType || '').toLowerCase();\n\n                    switch (responseType) {\n                        case 'arraybuffer':\n                        case 'blob':\n                            var view = new Uint8Array(data.length);\n\n                            for (var i = 0; i < data.length; i++) {\n                                view[i] = data.charCodeAt(i);\n                            }\n\n                            if (responseType === 'blob') {\n                                response = new Blob([view.buffer], {\n                                    type: mimeType\n                                });\n                            } else {\n                                response = view.buffer;\n                            }\n\n                            break;\n\n                        case 'document':\n                            var parser = new DOMParser();\n                            response = parser.parseFromString(data, mimeType);\n                            break;\n\n                        case 'json':\n                            response = JSON.parse(data);\n                            break;\n\n                        default:\n                            // 'text' or other\n                            response = data;\n                            break;\n                    } // Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\n\n                    setTimeout(function() {\n                        if (onLoad) onLoad(response);\n                        scope.manager.itemEnd(url);\n                    }, 0);\n                } catch (error) {\n                    // Wait for next browser tick like standard XMLHttpRequest event dispatching does\n                    setTimeout(function() {\n                        if (onError) onError(error);\n                        scope.manager.itemError(url);\n                        scope.manager.itemEnd(url);\n                    }, 0);\n                }\n            } else {\n                // Initialise array for duplicate requests\n                loading[url] = [];\n                loading[url].push({\n                    onLoad: onLoad,\n                    onProgress: onProgress,\n                    onError: onError\n                });\n                request = new XMLHttpRequest();\n                request.open('GET', url, true);\n                request.addEventListener('load', function(event) {\n                    var response = this.response;\n                    var callbacks = loading[url];\n                    delete loading[url];\n\n                    if (this.status === 200 || this.status === 0) {\n                        // Some browsers return HTTP Status 0 when using non-http protocol\n                        // e.g. 'file://' or 'data://'. Handle as success.\n                        if (this.status === 0) console.warn('THREE.FileLoader: HTTP Status 0 received.'); // Add to cache only on HTTP success, so that we do not cache\n                        // error response bodies as proper responses to requests.\n\n                        Cache.add(url, response);\n\n                        for (var _i = 0, il = callbacks.length; _i < il; _i++) {\n                            var callback = callbacks[_i];\n                            if (callback.onLoad) callback.onLoad(response);\n                        }\n\n                        scope.manager.itemEnd(url);\n                    } else {\n                        for (var _i2 = 0, _il = callbacks.length; _i2 < _il; _i2++) {\n                            var _callback = callbacks[_i2];\n                            if (_callback.onError) _callback.onError(event);\n                        }\n\n                        scope.manager.itemError(url);\n                        scope.manager.itemEnd(url);\n                    }\n                }, false);\n                request.addEventListener('progress', function(event) {\n                    var callbacks = loading[url];\n\n                    for (var _i3 = 0, il = callbacks.length; _i3 < il; _i3++) {\n                        var callback = callbacks[_i3];\n                        if (callback.onProgress) callback.onProgress(event);\n                    }\n                }, false);\n                request.addEventListener('error', function(event) {\n                    var callbacks = loading[url];\n                    delete loading[url];\n\n                    for (var _i4 = 0, il = callbacks.length; _i4 < il; _i4++) {\n                        var callback = callbacks[_i4];\n                        if (callback.onError) callback.onError(event);\n                    }\n\n                    scope.manager.itemError(url);\n                    scope.manager.itemEnd(url);\n                }, false);\n                request.addEventListener('abort', function(event) {\n                    var callbacks = loading[url];\n                    delete loading[url];\n\n                    for (var _i5 = 0, il = callbacks.length; _i5 < il; _i5++) {\n                        var callback = callbacks[_i5];\n                        if (callback.onError) callback.onError(event);\n                    }\n\n                    scope.manager.itemError(url);\n                    scope.manager.itemEnd(url);\n                }, false);\n                if (this.responseType !== undefined) request.responseType = this.responseType;\n                if (this.withCredentials !== undefined) request.withCredentials = this.withCredentials;\n                if (request.overrideMimeType) request.overrideMimeType(this.mimeType !== undefined ? this.mimeType : 'text/plain');\n\n                for (var header in this.requestHeader) {\n                    request.setRequestHeader(header, this.requestHeader[header]);\n                }\n\n                request.send(null);\n            }\n\n            scope.manager.itemStart(url);\n            return request;\n        },\n        setResponseType: function setResponseType(value) {\n            this.responseType = value;\n            return this;\n        },\n        setMimeType: function setMimeType(value) {\n            this.mimeType = value;\n            return this;\n        }\n    });\n\n    var AnimationLoader = /*#__PURE__*/ function(_Loader) {\n        _inheritsLoose(AnimationLoader, _Loader);\n\n        function AnimationLoader(manager) {\n            return _Loader.call(this, manager) || this;\n        }\n\n        var _proto = AnimationLoader.prototype;\n\n        _proto.load = function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var loader = new FileLoader(this.manager);\n            loader.setPath(this.path);\n            loader.setRequestHeader(this.requestHeader);\n            loader.setWithCredentials(this.withCredentials);\n            loader.load(url, function(text) {\n                try {\n                    onLoad(scope.parse(JSON.parse(text)));\n                } catch (e) {\n                    if (onError) {\n                        onError(e);\n                    } else {\n                        console.error(e);\n                    }\n\n                    scope.manager.itemError(url);\n                }\n            }, onProgress, onError);\n        };\n\n        _proto.parse = function parse(json) {\n            var animations = [];\n\n            for (var i = 0; i < json.length; i++) {\n                var clip = AnimationClip.parse(json[i]);\n                animations.push(clip);\n            }\n\n            return animations;\n        };\n\n        return AnimationLoader;\n    }(Loader);\n\n    /**\n     * Abstract Base class to block based textures loader (dds, pvr, ...)\n     *\n     * Sub classes have to implement the parse() method which will be used in load().\n     */\n\n    function CompressedTextureLoader(manager) {\n        Loader.call(this, manager);\n    }\n\n    CompressedTextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: CompressedTextureLoader,\n        load: function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var images = [];\n            var texture = new CompressedTexture();\n            var loader = new FileLoader(this.manager);\n            loader.setPath(this.path);\n            loader.setResponseType('arraybuffer');\n            loader.setRequestHeader(this.requestHeader);\n            loader.setWithCredentials(scope.withCredentials);\n            var loaded = 0;\n\n            function loadTexture(i) {\n                loader.load(url[i], function(buffer) {\n                    var texDatas = scope.parse(buffer, true);\n                    images[i] = {\n                        width: texDatas.width,\n                        height: texDatas.height,\n                        format: texDatas.format,\n                        mipmaps: texDatas.mipmaps\n                    };\n                    loaded += 1;\n\n                    if (loaded === 6) {\n                        if (texDatas.mipmapCount === 1) texture.minFilter = LinearFilter;\n                        texture.image = images;\n                        texture.format = texDatas.format;\n                        texture.needsUpdate = true;\n                        if (onLoad) onLoad(texture);\n                    }\n                }, onProgress, onError);\n            }\n\n            if (Array.isArray(url)) {\n                for (var i = 0, il = url.length; i < il; ++i) {\n                    loadTexture(i);\n                }\n            } else {\n                // compressed cubemap texture stored in a single DDS file\n                loader.load(url, function(buffer) {\n                    var texDatas = scope.parse(buffer, true);\n\n                    if (texDatas.isCubemap) {\n                        var faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n                        for (var f = 0; f < faces; f++) {\n                            images[f] = {\n                                mipmaps: []\n                            };\n\n                            for (var _i = 0; _i < texDatas.mipmapCount; _i++) {\n                                images[f].mipmaps.push(texDatas.mipmaps[f * texDatas.mipmapCount + _i]);\n                                images[f].format = texDatas.format;\n                                images[f].width = texDatas.width;\n                                images[f].height = texDatas.height;\n                            }\n                        }\n\n                        texture.image = images;\n                    } else {\n                        texture.image.width = texDatas.width;\n                        texture.image.height = texDatas.height;\n                        texture.mipmaps = texDatas.mipmaps;\n                    }\n\n                    if (texDatas.mipmapCount === 1) {\n                        texture.minFilter = LinearFilter;\n                    }\n\n                    texture.format = texDatas.format;\n                    texture.needsUpdate = true;\n                    if (onLoad) onLoad(texture);\n                }, onProgress, onError);\n            }\n\n            return texture;\n        }\n    });\n\n    var ImageLoader = /*#__PURE__*/ function(_Loader) {\n        _inheritsLoose(ImageLoader, _Loader);\n\n        function ImageLoader(manager) {\n            return _Loader.call(this, manager) || this;\n        }\n\n        var _proto = ImageLoader.prototype;\n\n        _proto.load = function load(url, onLoad, onProgress, onError) {\n            if (this.path !== undefined) url = this.path + url;\n            url = this.manager.resolveURL(url);\n            var scope = this;\n            var cached = Cache.get(url);\n\n            if (cached !== undefined) {\n                scope.manager.itemStart(url);\n                setTimeout(function() {\n                    if (onLoad) onLoad(cached);\n                    scope.manager.itemEnd(url);\n                }, 0);\n                return cached;\n            }\n\n            var image = document.createElementNS('http://www.w3.org/1999/xhtml', 'img');\n\n            function onImageLoad() {\n                image.removeEventListener('load', onImageLoad, false);\n                image.removeEventListener('error', onImageError, false);\n                Cache.add(url, this);\n                if (onLoad) onLoad(this);\n                scope.manager.itemEnd(url);\n            }\n\n            function onImageError(event) {\n                image.removeEventListener('load', onImageLoad, false);\n                image.removeEventListener('error', onImageError, false);\n                if (onError) onError(event);\n                scope.manager.itemError(url);\n                scope.manager.itemEnd(url);\n            }\n\n            image.addEventListener('load', onImageLoad, false);\n            image.addEventListener('error', onImageError, false);\n\n            if (url.substr(0, 5) !== 'data:') {\n                if (this.crossOrigin !== undefined) image.crossOrigin = this.crossOrigin;\n            }\n\n            scope.manager.itemStart(url);\n            image.src = url;\n            return image;\n        };\n\n        return ImageLoader;\n    }(Loader);\n\n    var CubeTextureLoader = /*#__PURE__*/ function(_Loader) {\n        _inheritsLoose(CubeTextureLoader, _Loader);\n\n        function CubeTextureLoader(manager) {\n            return _Loader.call(this, manager) || this;\n        }\n\n        var _proto = CubeTextureLoader.prototype;\n\n        _proto.load = function load(urls, onLoad, onProgress, onError) {\n            var texture = new CubeTexture();\n            var loader = new ImageLoader(this.manager);\n            loader.setCrossOrigin(this.crossOrigin);\n            loader.setPath(this.path);\n            var loaded = 0;\n\n            function loadTexture(i) {\n                loader.load(urls[i], function(image) {\n                    texture.images[i] = image;\n                    loaded++;\n\n                    if (loaded === 6) {\n                        texture.needsUpdate = true;\n                        if (onLoad) onLoad(texture);\n                    }\n                }, undefined, onError);\n            }\n\n            for (var i = 0; i < urls.length; ++i) {\n                loadTexture(i);\n            }\n\n            return texture;\n        };\n\n        return CubeTextureLoader;\n    }(Loader);\n\n    /**\n     * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n     *\n     * Sub classes have to implement the parse() method which will be used in load().\n     */\n\n    function DataTextureLoader(manager) {\n        Loader.call(this, manager);\n    }\n\n    DataTextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: DataTextureLoader,\n        load: function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var texture = new DataTexture();\n            var loader = new FileLoader(this.manager);\n            loader.setResponseType('arraybuffer');\n            loader.setRequestHeader(this.requestHeader);\n            loader.setPath(this.path);\n            loader.setWithCredentials(scope.withCredentials);\n            loader.load(url, function(buffer) {\n                var texData = scope.parse(buffer);\n                if (!texData) return;\n\n                if (texData.image !== undefined) {\n                    texture.image = texData.image;\n                } else if (texData.data !== undefined) {\n                    texture.image.width = texData.width;\n                    texture.image.height = texData.height;\n                    texture.image.data = texData.data;\n                }\n\n                texture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n                texture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n                texture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n                texture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n                texture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n                if (texData.encoding !== undefined) {\n                    texture.encoding = texData.encoding;\n                }\n\n                if (texData.flipY !== undefined) {\n                    texture.flipY = texData.flipY;\n                }\n\n                if (texData.format !== undefined) {\n                    texture.format = texData.format;\n                }\n\n                if (texData.type !== undefined) {\n                    texture.type = texData.type;\n                }\n\n                if (texData.mipmaps !== undefined) {\n                    texture.mipmaps = texData.mipmaps;\n                    texture.minFilter = LinearMipmapLinearFilter; // presumably...\n                }\n\n                if (texData.mipmapCount === 1) {\n                    texture.minFilter = LinearFilter;\n                }\n\n                texture.needsUpdate = true;\n                if (onLoad) onLoad(texture, texData);\n            }, onProgress, onError);\n            return texture;\n        }\n    });\n\n    function TextureLoader(manager) {\n        Loader.call(this, manager);\n    }\n\n    TextureLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: TextureLoader,\n        load: function load(url, onLoad, onProgress, onError) {\n            var texture = new Texture();\n            var loader = new ImageLoader(this.manager);\n            loader.setCrossOrigin(this.crossOrigin);\n            loader.setPath(this.path);\n            loader.load(url, function(image) {\n                texture.image = image; // JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\n                var isJPEG = url.search(/\\.jpe?g($|\\?)/i) > 0 || url.search(/^data\\:image\\/jpeg/) === 0;\n                texture.format = isJPEG ? RGBFormat : RGBAFormat;\n                texture.needsUpdate = true;\n\n                if (onLoad !== undefined) {\n                    onLoad(texture);\n                }\n            }, onProgress, onError);\n            return texture;\n        }\n    });\n\n    /**\n     * Extensible curve object.\n     *\n     * Some common of curve methods:\n     * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n     * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n     * .getPoints(), .getSpacedPoints()\n     * .getLength()\n     * .updateArcLengths()\n     *\n     * This following curves inherit from THREE.Curve:\n     *\n     * -- 2D curves --\n     * THREE.ArcCurve\n     * THREE.CubicBezierCurve\n     * THREE.EllipseCurve\n     * THREE.LineCurve\n     * THREE.QuadraticBezierCurve\n     * THREE.SplineCurve\n     *\n     * -- 3D curves --\n     * THREE.CatmullRomCurve3\n     * THREE.CubicBezierCurve3\n     * THREE.LineCurve3\n     * THREE.QuadraticBezierCurve3\n     *\n     * A series of curves can be represented as a THREE.CurvePath.\n     *\n     **/\n\n    function Curve() {\n        this.type = 'Curve';\n        this.arcLengthDivisions = 200;\n    }\n\n    Object.assign(Curve.prototype, {\n        // Virtual base class method to overwrite and implement in subclasses\n        //\t- t [0 .. 1]\n        getPoint: function getPoint()\n            /* t, optionalTarget */\n            {\n                console.warn('THREE.Curve: .getPoint() not implemented.');\n                return null;\n            },\n        // Get point at relative position in curve according to arc length\n        // - u [0 .. 1]\n        getPointAt: function getPointAt(u, optionalTarget) {\n            var t = this.getUtoTmapping(u);\n            return this.getPoint(t, optionalTarget);\n        },\n        // Get sequence of points using getPoint( t )\n        getPoints: function getPoints(divisions) {\n            if (divisions === void 0) {\n                divisions = 5;\n            }\n\n            var points = [];\n\n            for (var d = 0; d <= divisions; d++) {\n                points.push(this.getPoint(d / divisions));\n            }\n\n            return points;\n        },\n        // Get sequence of points using getPointAt( u )\n        getSpacedPoints: function getSpacedPoints(divisions) {\n            if (divisions === void 0) {\n                divisions = 5;\n            }\n\n            var points = [];\n\n            for (var d = 0; d <= divisions; d++) {\n                points.push(this.getPointAt(d / divisions));\n            }\n\n            return points;\n        },\n        // Get total curve arc length\n        getLength: function getLength() {\n            var lengths = this.getLengths();\n            return lengths[lengths.length - 1];\n        },\n        // Get list of cumulative segment lengths\n        getLengths: function getLengths(divisions) {\n            if (divisions === undefined) divisions = this.arcLengthDivisions;\n\n            if (this.cacheArcLengths && this.cacheArcLengths.length === divisions + 1 && !this.needsUpdate) {\n                return this.cacheArcLengths;\n            }\n\n            this.needsUpdate = false;\n            var cache = [];\n            var current,\n                last = this.getPoint(0);\n            var sum = 0;\n            cache.push(0);\n\n            for (var p = 1; p <= divisions; p++) {\n                current = this.getPoint(p / divisions);\n                sum += current.distanceTo(last);\n                cache.push(sum);\n                last = current;\n            }\n\n            this.cacheArcLengths = cache;\n            return cache; // { sums: cache, sum: sum }; Sum is in the last element.\n        },\n        updateArcLengths: function updateArcLengths() {\n            this.needsUpdate = true;\n            this.getLengths();\n        },\n        // Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n        getUtoTmapping: function getUtoTmapping(u, distance) {\n            var arcLengths = this.getLengths();\n            var i = 0;\n            var il = arcLengths.length;\n            var targetArcLength; // The targeted u distance value to get\n\n            if (distance) {\n                targetArcLength = distance;\n            } else {\n                targetArcLength = u * arcLengths[il - 1];\n            } // binary search for the index with largest value smaller than target u distance\n\n\n            var low = 0,\n                high = il - 1,\n                comparison;\n\n            while (low <= high) {\n                i = Math.floor(low + (high - low) / 2); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n                comparison = arcLengths[i] - targetArcLength;\n\n                if (comparison < 0) {\n                    low = i + 1;\n                } else if (comparison > 0) {\n                    high = i - 1;\n                } else {\n                    high = i;\n                    break; // DONE\n                }\n            }\n\n            i = high;\n\n            if (arcLengths[i] === targetArcLength) {\n                return i / (il - 1);\n            } // we could get finer grain at lengths, or use simple interpolation between two points\n\n\n            var lengthBefore = arcLengths[i];\n            var lengthAfter = arcLengths[i + 1];\n            var segmentLength = lengthAfter - lengthBefore; // determine where we are between the 'before' and 'after' points\n\n            var segmentFraction = (targetArcLength - lengthBefore) / segmentLength; // add that fractional amount to t\n\n            var t = (i + segmentFraction) / (il - 1);\n            return t;\n        },\n        // Returns a unit vector tangent at t\n        // In case any sub curve does not implement its tangent derivation,\n        // 2 points a small delta apart will be used to find its gradient\n        // which seems to give a reasonable approximation\n        getTangent: function getTangent(t, optionalTarget) {\n            var delta = 0.0001;\n            var t1 = t - delta;\n            var t2 = t + delta; // Capping in case of danger\n\n            if (t1 < 0) t1 = 0;\n            if (t2 > 1) t2 = 1;\n            var pt1 = this.getPoint(t1);\n            var pt2 = this.getPoint(t2);\n            var tangent = optionalTarget || (pt1.isVector2 ? new Vector2() : new Vector3());\n            tangent.copy(pt2).sub(pt1).normalize();\n            return tangent;\n        },\n        getTangentAt: function getTangentAt(u, optionalTarget) {\n            var t = this.getUtoTmapping(u);\n            return this.getTangent(t, optionalTarget);\n        },\n        computeFrenetFrames: function computeFrenetFrames(segments, closed) {\n            // see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n            var normal = new Vector3();\n            var tangents = [];\n            var normals = [];\n            var binormals = [];\n            var vec = new Vector3();\n            var mat = new Matrix4(); // compute the tangent vectors for each segment on the curve\n\n            for (var i = 0; i <= segments; i++) {\n                var u = i / segments;\n                tangents[i] = this.getTangentAt(u, new Vector3());\n                tangents[i].normalize();\n            } // select an initial normal vector perpendicular to the first tangent vector,\n            // and in the direction of the minimum tangent xyz component\n\n\n            normals[0] = new Vector3();\n            binormals[0] = new Vector3();\n            var min = Number.MAX_VALUE;\n            var tx = Math.abs(tangents[0].x);\n            var ty = Math.abs(tangents[0].y);\n            var tz = Math.abs(tangents[0].z);\n\n            if (tx <= min) {\n                min = tx;\n                normal.set(1, 0, 0);\n            }\n\n            if (ty <= min) {\n                min = ty;\n                normal.set(0, 1, 0);\n            }\n\n            if (tz <= min) {\n                normal.set(0, 0, 1);\n            }\n\n            vec.crossVectors(tangents[0], normal).normalize();\n            normals[0].crossVectors(tangents[0], vec);\n            binormals[0].crossVectors(tangents[0], normals[0]); // compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n            for (var _i = 1; _i <= segments; _i++) {\n                normals[_i] = normals[_i - 1].clone();\n                binormals[_i] = binormals[_i - 1].clone();\n                vec.crossVectors(tangents[_i - 1], tangents[_i]);\n\n                if (vec.length() > Number.EPSILON) {\n                    vec.normalize();\n                    var theta = Math.acos(MathUtils.clamp(tangents[_i - 1].dot(tangents[_i]), -1, 1)); // clamp for floating pt errors\n\n                    normals[_i].applyMatrix4(mat.makeRotationAxis(vec, theta));\n                }\n\n                binormals[_i].crossVectors(tangents[_i], normals[_i]);\n            } // if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\n            if (closed === true) {\n                var _theta = Math.acos(MathUtils.clamp(normals[0].dot(normals[segments]), -1, 1));\n\n                _theta /= segments;\n\n                if (tangents[0].dot(vec.crossVectors(normals[0], normals[segments])) > 0) {\n                    _theta = -_theta;\n                }\n\n                for (var _i2 = 1; _i2 <= segments; _i2++) {\n                    // twist a little...\n                    normals[_i2].applyMatrix4(mat.makeRotationAxis(tangents[_i2], _theta * _i2));\n\n                    binormals[_i2].crossVectors(tangents[_i2], normals[_i2]);\n                }\n            }\n\n            return {\n                tangents: tangents,\n                normals: normals,\n                binormals: binormals\n            };\n        },\n        clone: function clone() {\n            return new this.constructor().copy(this);\n        },\n        copy: function copy(source) {\n            this.arcLengthDivisions = source.arcLengthDivisions;\n            return this;\n        },\n        toJSON: function toJSON() {\n            var data = {\n                metadata: {\n                    version: 4.5,\n                    type: 'Curve',\n                    generator: 'Curve.toJSON'\n                }\n            };\n            data.arcLengthDivisions = this.arcLengthDivisions;\n            data.type = this.type;\n            return data;\n        },\n        fromJSON: function fromJSON(json) {\n            this.arcLengthDivisions = json.arcLengthDivisions;\n            return this;\n        }\n    });\n\n    var EllipseCurve = /*#__PURE__*/ function(_Curve) {\n        _inheritsLoose(EllipseCurve, _Curve);\n\n        function EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n            var _this;\n\n            if (aX === void 0) {\n                aX = 0;\n            }\n\n            if (aY === void 0) {\n                aY = 0;\n            }\n\n            if (xRadius === void 0) {\n                xRadius = 1;\n            }\n\n            if (yRadius === void 0) {\n                yRadius = 1;\n            }\n\n            if (aStartAngle === void 0) {\n                aStartAngle = 0;\n            }\n\n            if (aEndAngle === void 0) {\n                aEndAngle = Math.PI * 2;\n            }\n\n            if (aClockwise === void 0) {\n                aClockwise = false;\n            }\n\n            if (aRotation === void 0) {\n                aRotation = 0;\n            }\n\n            _this = _Curve.call(this) || this;\n            _this.type = 'EllipseCurve';\n            _this.aX = aX;\n            _this.aY = aY;\n            _this.xRadius = xRadius;\n            _this.yRadius = yRadius;\n            _this.aStartAngle = aStartAngle;\n            _this.aEndAngle = aEndAngle;\n            _this.aClockwise = aClockwise;\n            _this.aRotation = aRotation;\n            return _this;\n        }\n\n        var _proto = EllipseCurve.prototype;\n\n        _proto.getPoint = function getPoint(t, optionalTarget) {\n            var point = optionalTarget || new Vector2();\n            var twoPi = Math.PI * 2;\n            var deltaAngle = this.aEndAngle - this.aStartAngle;\n            var samePoints = Math.abs(deltaAngle) < Number.EPSILON; // ensures that deltaAngle is 0 .. 2 PI\n\n            while (deltaAngle < 0) {\n                deltaAngle += twoPi;\n            }\n\n            while (deltaAngle > twoPi) {\n                deltaAngle -= twoPi;\n            }\n\n            if (deltaAngle < Number.EPSILON) {\n                if (samePoints) {\n                    deltaAngle = 0;\n                } else {\n                    deltaAngle = twoPi;\n                }\n            }\n\n            if (this.aClockwise === true && !samePoints) {\n                if (deltaAngle === twoPi) {\n                    deltaAngle = -twoPi;\n                } else {\n                    deltaAngle = deltaAngle - twoPi;\n                }\n            }\n\n            var angle = this.aStartAngle + t * deltaAngle;\n            var x = this.aX + this.xRadius * Math.cos(angle);\n            var y = this.aY + this.yRadius * Math.sin(angle);\n\n            if (this.aRotation !== 0) {\n                var cos = Math.cos(this.aRotation);\n                var sin = Math.sin(this.aRotation);\n                var tx = x - this.aX;\n                var ty = y - this.aY; // Rotate the point about the center of the ellipse.\n\n                x = tx * cos - ty * sin + this.aX;\n                y = tx * sin + ty * cos + this.aY;\n            }\n\n            return point.set(x, y);\n        };\n\n        _proto.copy = function copy(source) {\n            _Curve.prototype.copy.call(this, source);\n\n            this.aX = source.aX;\n            this.aY = source.aY;\n            this.xRadius = source.xRadius;\n            this.yRadius = source.yRadius;\n            this.aStartAngle = source.aStartAngle;\n            this.aEndAngle = source.aEndAngle;\n            this.aClockwise = source.aClockwise;\n            this.aRotation = source.aRotation;\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            var data = _Curve.prototype.toJSON.call(this);\n\n            data.aX = this.aX;\n            data.aY = this.aY;\n            data.xRadius = this.xRadius;\n            data.yRadius = this.yRadius;\n            data.aStartAngle = this.aStartAngle;\n            data.aEndAngle = this.aEndAngle;\n            data.aClockwise = this.aClockwise;\n            data.aRotation = this.aRotation;\n            return data;\n        };\n\n        _proto.fromJSON = function fromJSON(json) {\n            _Curve.prototype.fromJSON.call(this, json);\n\n            this.aX = json.aX;\n            this.aY = json.aY;\n            this.xRadius = json.xRadius;\n            this.yRadius = json.yRadius;\n            this.aStartAngle = json.aStartAngle;\n            this.aEndAngle = json.aEndAngle;\n            this.aClockwise = json.aClockwise;\n            this.aRotation = json.aRotation;\n            return this;\n        };\n\n        return EllipseCurve;\n    }(Curve);\n\n    EllipseCurve.prototype.isEllipseCurve = true;\n\n    var ArcCurve = /*#__PURE__*/ function(_EllipseCurve) {\n        _inheritsLoose(ArcCurve, _EllipseCurve);\n\n        function ArcCurve(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n            var _this;\n\n            _this = _EllipseCurve.call(this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise) || this;\n            _this.type = 'ArcCurve';\n            return _this;\n        }\n\n        return ArcCurve;\n    }(EllipseCurve);\n\n    ArcCurve.prototype.isArcCurve = true;\n\n    /**\n     * Centripetal CatmullRom Curve - which is useful for avoiding\n     * cusps and self-intersections in non-uniform catmull rom curves.\n     * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n     *\n     * curve.type accepts centripetal(default), chordal and catmullrom\n     * curve.tension is used for catmullrom which defaults to 0.5\n     */\n\n    /*\n    Based on an optimized c++ solution in\n     - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n     - http://ideone.com/NoEbVM\n\n    This CubicPoly class could be used for reusing some variables and calculations,\n    but for three.js curve use, it could be possible inlined and flatten into a single function call\n    which can be placed in CurveUtils.\n    */\n\n    function CubicPoly() {\n        var c0 = 0,\n            c1 = 0,\n            c2 = 0,\n            c3 = 0;\n        /*\n         * Compute coefficients for a cubic polynomial\n         *\t p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n         * such that\n         *\t p(0) = x0, p(1) = x1\n         *\tand\n         *\t p'(0) = t0, p'(1) = t1.\n         */\n\n        function init(x0, x1, t0, t1) {\n            c0 = x0;\n            c1 = t0;\n            c2 = -3 * x0 + 3 * x1 - 2 * t0 - t1;\n            c3 = 2 * x0 - 2 * x1 + t0 + t1;\n        }\n\n        return {\n            initCatmullRom: function initCatmullRom(x0, x1, x2, x3, tension) {\n                init(x1, x2, tension * (x2 - x0), tension * (x3 - x1));\n            },\n            initNonuniformCatmullRom: function initNonuniformCatmullRom(x0, x1, x2, x3, dt0, dt1, dt2) {\n                // compute tangents when parameterized in [t1,t2]\n                var t1 = (x1 - x0) / dt0 - (x2 - x0) / (dt0 + dt1) + (x2 - x1) / dt1;\n                var t2 = (x2 - x1) / dt1 - (x3 - x1) / (dt1 + dt2) + (x3 - x2) / dt2; // rescale tangents for parametrization in [0,1]\n\n                t1 *= dt1;\n                t2 *= dt1;\n                init(x1, x2, t1, t2);\n            },\n            calc: function calc(t) {\n                var t2 = t * t;\n                var t3 = t2 * t;\n                return c0 + c1 * t + c2 * t2 + c3 * t3;\n            }\n        };\n    } //\n\n\n    var tmp = new Vector3();\n    var px = new CubicPoly(),\n        py = new CubicPoly(),\n        pz = new CubicPoly();\n\n    var CatmullRomCurve3 = /*#__PURE__*/ function(_Curve) {\n        _inheritsLoose(CatmullRomCurve3, _Curve);\n\n        function CatmullRomCurve3(points, closed, curveType, tension) {\n            var _this;\n\n            if (points === void 0) {\n                points = [];\n            }\n\n            if (closed === void 0) {\n                closed = false;\n            }\n\n            if (curveType === void 0) {\n                curveType = 'centripetal';\n            }\n\n            if (tension === void 0) {\n                tension = 0.5;\n            }\n\n            _this = _Curve.call(this) || this;\n            _this.type = 'CatmullRomCurve3';\n            _this.points = points;\n            _this.closed = closed;\n            _this.curveType = curveType;\n            _this.tension = tension;\n            return _this;\n        }\n\n        var _proto = CatmullRomCurve3.prototype;\n\n        _proto.getPoint = function getPoint(t, optionalTarget) {\n            if (optionalTarget === void 0) {\n                optionalTarget = new Vector3();\n            }\n\n            var point = optionalTarget;\n            var points = this.points;\n            var l = points.length;\n            var p = (l - (this.closed ? 0 : 1)) * t;\n            var intPoint = Math.floor(p);\n            var weight = p - intPoint;\n\n            if (this.closed) {\n                intPoint += intPoint > 0 ? 0 : (Math.floor(Math.abs(intPoint) / l) + 1) * l;\n            } else if (weight === 0 && intPoint === l - 1) {\n                intPoint = l - 2;\n                weight = 1;\n            }\n\n            var p0, p3; // 4 points (p1 & p2 defined below)\n\n            if (this.closed || intPoint > 0) {\n                p0 = points[(intPoint - 1) % l];\n            } else {\n                // extrapolate first point\n                tmp.subVectors(points[0], points[1]).add(points[0]);\n                p0 = tmp;\n            }\n\n            var p1 = points[intPoint % l];\n            var p2 = points[(intPoint + 1) % l];\n\n            if (this.closed || intPoint + 2 < l) {\n                p3 = points[(intPoint + 2) % l];\n            } else {\n                // extrapolate last point\n                tmp.subVectors(points[l - 1], points[l - 2]).add(points[l - 1]);\n                p3 = tmp;\n            }\n\n            if (this.curveType === 'centripetal' || this.curveType === 'chordal') {\n                // init Centripetal / Chordal Catmull-Rom\n                var pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n                var dt0 = Math.pow(p0.distanceToSquared(p1), pow);\n                var dt1 = Math.pow(p1.distanceToSquared(p2), pow);\n                var dt2 = Math.pow(p2.distanceToSquared(p3), pow); // safety check for repeated points\n\n                if (dt1 < 1e-4) dt1 = 1.0;\n                if (dt0 < 1e-4) dt0 = dt1;\n                if (dt2 < 1e-4) dt2 = dt1;\n                px.initNonuniformCatmullRom(p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2);\n                py.initNonuniformCatmullRom(p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2);\n                pz.initNonuniformCatmullRom(p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2);\n            } else if (this.curveType === 'catmullrom') {\n                px.initCatmullRom(p0.x, p1.x, p2.x, p3.x, this.tension);\n                py.initCatmullRom(p0.y, p1.y, p2.y, p3.y, this.tension);\n                pz.initCatmullRom(p0.z, p1.z, p2.z, p3.z, this.tension);\n            }\n\n            point.set(px.calc(weight), py.calc(weight), pz.calc(weight));\n            return point;\n        };\n\n        _proto.copy = function copy(source) {\n            _Curve.prototype.copy.call(this, source);\n\n            this.points = [];\n\n            for (var i = 0, l = source.points.length; i < l; i++) {\n                var point = source.points[i];\n                this.points.push(point.clone());\n            }\n\n            this.closed = source.closed;\n            this.curveType = source.curveType;\n            this.tension = source.tension;\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            var data = _Curve.prototype.toJSON.call(this);\n\n            data.points = [];\n\n            for (var i = 0, l = this.points.length; i < l; i++) {\n                var point = this.points[i];\n                data.points.push(point.toArray());\n            }\n\n            data.closed = this.closed;\n            data.curveType = this.curveType;\n            data.tension = this.tension;\n            return data;\n        };\n\n        _proto.fromJSON = function fromJSON(json) {\n            _Curve.prototype.fromJSON.call(this, json);\n\n            this.points = [];\n\n            for (var i = 0, l = json.points.length; i < l; i++) {\n                var point = json.points[i];\n                this.points.push(new Vector3().fromArray(point));\n            }\n\n            this.closed = json.closed;\n            this.curveType = json.curveType;\n            this.tension = json.tension;\n            return this;\n        };\n\n        return CatmullRomCurve3;\n    }(Curve);\n\n    CatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\n    /**\n     * Bezier Curves formulas obtained from\n     * http://en.wikipedia.org/wiki/Bézier_curve\n     */\n    function CatmullRom(t, p0, p1, p2, p3) {\n        var v0 = (p2 - p0) * 0.5;\n        var v1 = (p3 - p1) * 0.5;\n        var t2 = t * t;\n        var t3 = t * t2;\n        return (2 * p1 - 2 * p2 + v0 + v1) * t3 + (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 + v0 * t + p1;\n    } //\n\n\n    function QuadraticBezierP0(t, p) {\n        var k = 1 - t;\n        return k * k * p;\n    }\n\n    function QuadraticBezierP1(t, p) {\n        return 2 * (1 - t) * t * p;\n    }\n\n    function QuadraticBezierP2(t, p) {\n        return t * t * p;\n    }\n\n    function QuadraticBezier(t, p0, p1, p2) {\n        return QuadraticBezierP0(t, p0) + QuadraticBezierP1(t, p1) + QuadraticBezierP2(t, p2);\n    } //\n\n\n    function CubicBezierP0(t, p) {\n        var k = 1 - t;\n        return k * k * k * p;\n    }\n\n    function CubicBezierP1(t, p) {\n        var k = 1 - t;\n        return 3 * k * k * t * p;\n    }\n\n    function CubicBezierP2(t, p) {\n        return 3 * (1 - t) * t * t * p;\n    }\n\n    function CubicBezierP3(t, p) {\n        return t * t * t * p;\n    }\n\n    function CubicBezier(t, p0, p1, p2, p3) {\n        return CubicBezierP0(t, p0) + CubicBezierP1(t, p1) + CubicBezierP2(t, p2) + CubicBezierP3(t, p3);\n    }\n\n    var CubicBezierCurve = /*#__PURE__*/ function(_Curve) {\n        _inheritsLoose(CubicBezierCurve, _Curve);\n\n        function CubicBezierCurve(v0, v1, v2, v3) {\n            var _this;\n\n            if (v0 === void 0) {\n                v0 = new Vector2();\n            }\n\n            if (v1 === void 0) {\n                v1 = new Vector2();\n            }\n\n            if (v2 === void 0) {\n                v2 = new Vector2();\n            }\n\n            if (v3 === void 0) {\n                v3 = new Vector2();\n            }\n\n            _this = _Curve.call(this) || this;\n            _this.type = 'CubicBezierCurve';\n            _this.v0 = v0;\n            _this.v1 = v1;\n            _this.v2 = v2;\n            _this.v3 = v3;\n            return _this;\n        }\n\n        var _proto = CubicBezierCurve.prototype;\n\n        _proto.getPoint = function getPoint(t, optionalTarget) {\n            if (optionalTarget === void 0) {\n                optionalTarget = new Vector2();\n            }\n\n            var point = optionalTarget;\n            var v0 = this.v0,\n                v1 = this.v1,\n                v2 = this.v2,\n                v3 = this.v3;\n            point.set(CubicBezier(t, v0.x, v1.x, v2.x, v3.x), CubicBezier(t, v0.y, v1.y, v2.y, v3.y));\n            return point;\n        };\n\n        _proto.copy = function copy(source) {\n            _Curve.prototype.copy.call(this, source);\n\n            this.v0.copy(source.v0);\n            this.v1.copy(source.v1);\n            this.v2.copy(source.v2);\n            this.v3.copy(source.v3);\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            var data = _Curve.prototype.toJSON.call(this);\n\n            data.v0 = this.v0.toArray();\n            data.v1 = this.v1.toArray();\n            data.v2 = this.v2.toArray();\n            data.v3 = this.v3.toArray();\n            return data;\n        };\n\n        _proto.fromJSON = function fromJSON(json) {\n            _Curve.prototype.fromJSON.call(this, json);\n\n            this.v0.fromArray(json.v0);\n            this.v1.fromArray(json.v1);\n            this.v2.fromArray(json.v2);\n            this.v3.fromArray(json.v3);\n            return this;\n        };\n\n        return CubicBezierCurve;\n    }(Curve);\n\n    CubicBezierCurve.prototype.isCubicBezierCurve = true;\n\n    var CubicBezierCurve3 = /*#__PURE__*/ function(_Curve) {\n        _inheritsLoose(CubicBezierCurve3, _Curve);\n\n        function CubicBezierCurve3(v0, v1, v2, v3) {\n            var _this;\n\n            if (v0 === void 0) {\n                v0 = new Vector3();\n            }\n\n            if (v1 === void 0) {\n                v1 = new Vector3();\n            }\n\n            if (v2 === void 0) {\n                v2 = new Vector3();\n            }\n\n            if (v3 === void 0) {\n                v3 = new Vector3();\n            }\n\n            _this = _Curve.call(this) || this;\n            _this.type = 'CubicBezierCurve3';\n            _this.v0 = v0;\n            _this.v1 = v1;\n            _this.v2 = v2;\n            _this.v3 = v3;\n            return _this;\n        }\n\n        var _proto = CubicBezierCurve3.prototype;\n\n        _proto.getPoint = function getPoint(t, optionalTarget) {\n            if (optionalTarget === void 0) {\n                optionalTarget = new Vector3();\n            }\n\n            var point = optionalTarget;\n            var v0 = this.v0,\n                v1 = this.v1,\n                v2 = this.v2,\n                v3 = this.v3;\n            point.set(CubicBezier(t, v0.x, v1.x, v2.x, v3.x), CubicBezier(t, v0.y, v1.y, v2.y, v3.y), CubicBezier(t, v0.z, v1.z, v2.z, v3.z));\n            return point;\n        };\n\n        _proto.copy = function copy(source) {\n            _Curve.prototype.copy.call(this, source);\n\n            this.v0.copy(source.v0);\n            this.v1.copy(source.v1);\n            this.v2.copy(source.v2);\n            this.v3.copy(source.v3);\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            var data = _Curve.prototype.toJSON.call(this);\n\n            data.v0 = this.v0.toArray();\n            data.v1 = this.v1.toArray();\n            data.v2 = this.v2.toArray();\n            data.v3 = this.v3.toArray();\n            return data;\n        };\n\n        _proto.fromJSON = function fromJSON(json) {\n            _Curve.prototype.fromJSON.call(this, json);\n\n            this.v0.fromArray(json.v0);\n            this.v1.fromArray(json.v1);\n            this.v2.fromArray(json.v2);\n            this.v3.fromArray(json.v3);\n            return this;\n        };\n\n        return CubicBezierCurve3;\n    }(Curve);\n\n    CubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\n    var LineCurve = /*#__PURE__*/ function(_Curve) {\n        _inheritsLoose(LineCurve, _Curve);\n\n        function LineCurve(v1, v2) {\n            var _this;\n\n            if (v1 === void 0) {\n                v1 = new Vector2();\n            }\n\n            if (v2 === void 0) {\n                v2 = new Vector2();\n            }\n\n            _this = _Curve.call(this) || this;\n            _this.type = 'LineCurve';\n            _this.v1 = v1;\n            _this.v2 = v2;\n            return _this;\n        }\n\n        var _proto = LineCurve.prototype;\n\n        _proto.getPoint = function getPoint(t, optionalTarget) {\n                if (optionalTarget === void 0) {\n                    optionalTarget = new Vector2();\n                }\n\n                var point = optionalTarget;\n\n                if (t === 1) {\n                    point.copy(this.v2);\n                } else {\n                    point.copy(this.v2).sub(this.v1);\n                    point.multiplyScalar(t).add(this.v1);\n                }\n\n                return point;\n            } // Line curve is linear, so we can overwrite default getPointAt\n        ;\n\n        _proto.getPointAt = function getPointAt(u, optionalTarget) {\n            return this.getPoint(u, optionalTarget);\n        };\n\n        _proto.getTangent = function getTangent(t, optionalTarget) {\n            var tangent = optionalTarget || new Vector2();\n            tangent.copy(this.v2).sub(this.v1).normalize();\n            return tangent;\n        };\n\n        _proto.copy = function copy(source) {\n            _Curve.prototype.copy.call(this, source);\n\n            this.v1.copy(source.v1);\n            this.v2.copy(source.v2);\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            var data = _Curve.prototype.toJSON.call(this);\n\n            data.v1 = this.v1.toArray();\n            data.v2 = this.v2.toArray();\n            return data;\n        };\n\n        _proto.fromJSON = function fromJSON(json) {\n            _Curve.prototype.fromJSON.call(this, json);\n\n            this.v1.fromArray(json.v1);\n            this.v2.fromArray(json.v2);\n            return this;\n        };\n\n        return LineCurve;\n    }(Curve);\n\n    LineCurve.prototype.isLineCurve = true;\n\n    var LineCurve3 = /*#__PURE__*/ function(_Curve) {\n        _inheritsLoose(LineCurve3, _Curve);\n\n        function LineCurve3(v1, v2) {\n            var _this;\n\n            if (v1 === void 0) {\n                v1 = new Vector3();\n            }\n\n            if (v2 === void 0) {\n                v2 = new Vector3();\n            }\n\n            _this = _Curve.call(this) || this;\n            _this.type = 'LineCurve3';\n            _this.isLineCurve3 = true;\n            _this.v1 = v1;\n            _this.v2 = v2;\n            return _this;\n        }\n\n        var _proto = LineCurve3.prototype;\n\n        _proto.getPoint = function getPoint(t, optionalTarget) {\n                if (optionalTarget === void 0) {\n                    optionalTarget = new Vector3();\n                }\n\n                var point = optionalTarget;\n\n                if (t === 1) {\n                    point.copy(this.v2);\n                } else {\n                    point.copy(this.v2).sub(this.v1);\n                    point.multiplyScalar(t).add(this.v1);\n                }\n\n                return point;\n            } // Line curve is linear, so we can overwrite default getPointAt\n        ;\n\n        _proto.getPointAt = function getPointAt(u, optionalTarget) {\n            return this.getPoint(u, optionalTarget);\n        };\n\n        _proto.copy = function copy(source) {\n            _Curve.prototype.copy.call(this, source);\n\n            this.v1.copy(source.v1);\n            this.v2.copy(source.v2);\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            var data = _Curve.prototype.toJSON.call(this);\n\n            data.v1 = this.v1.toArray();\n            data.v2 = this.v2.toArray();\n            return data;\n        };\n\n        _proto.fromJSON = function fromJSON(json) {\n            _Curve.prototype.fromJSON.call(this, json);\n\n            this.v1.fromArray(json.v1);\n            this.v2.fromArray(json.v2);\n            return this;\n        };\n\n        return LineCurve3;\n    }(Curve);\n\n    var QuadraticBezierCurve = /*#__PURE__*/ function(_Curve) {\n        _inheritsLoose(QuadraticBezierCurve, _Curve);\n\n        function QuadraticBezierCurve(v0, v1, v2) {\n            var _this;\n\n            if (v0 === void 0) {\n                v0 = new Vector2();\n            }\n\n            if (v1 === void 0) {\n                v1 = new Vector2();\n            }\n\n            if (v2 === void 0) {\n                v2 = new Vector2();\n            }\n\n            _this = _Curve.call(this) || this;\n            _this.type = 'QuadraticBezierCurve';\n            _this.v0 = v0;\n            _this.v1 = v1;\n            _this.v2 = v2;\n            return _this;\n        }\n\n        var _proto = QuadraticBezierCurve.prototype;\n\n        _proto.getPoint = function getPoint(t, optionalTarget) {\n            if (optionalTarget === void 0) {\n                optionalTarget = new Vector2();\n            }\n\n            var point = optionalTarget;\n            var v0 = this.v0,\n                v1 = this.v1,\n                v2 = this.v2;\n            point.set(QuadraticBezier(t, v0.x, v1.x, v2.x), QuadraticBezier(t, v0.y, v1.y, v2.y));\n            return point;\n        };\n\n        _proto.copy = function copy(source) {\n            _Curve.prototype.copy.call(this, source);\n\n            this.v0.copy(source.v0);\n            this.v1.copy(source.v1);\n            this.v2.copy(source.v2);\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            var data = _Curve.prototype.toJSON.call(this);\n\n            data.v0 = this.v0.toArray();\n            data.v1 = this.v1.toArray();\n            data.v2 = this.v2.toArray();\n            return data;\n        };\n\n        _proto.fromJSON = function fromJSON(json) {\n            _Curve.prototype.fromJSON.call(this, json);\n\n            this.v0.fromArray(json.v0);\n            this.v1.fromArray(json.v1);\n            this.v2.fromArray(json.v2);\n            return this;\n        };\n\n        return QuadraticBezierCurve;\n    }(Curve);\n\n    QuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\n    var QuadraticBezierCurve3 = /*#__PURE__*/ function(_Curve) {\n        _inheritsLoose(QuadraticBezierCurve3, _Curve);\n\n        function QuadraticBezierCurve3(v0, v1, v2) {\n            var _this;\n\n            if (v0 === void 0) {\n                v0 = new Vector3();\n            }\n\n            if (v1 === void 0) {\n                v1 = new Vector3();\n            }\n\n            if (v2 === void 0) {\n                v2 = new Vector3();\n            }\n\n            _this = _Curve.call(this) || this;\n            _this.type = 'QuadraticBezierCurve3';\n            _this.v0 = v0;\n            _this.v1 = v1;\n            _this.v2 = v2;\n            return _this;\n        }\n\n        var _proto = QuadraticBezierCurve3.prototype;\n\n        _proto.getPoint = function getPoint(t, optionalTarget) {\n            if (optionalTarget === void 0) {\n                optionalTarget = new Vector3();\n            }\n\n            var point = optionalTarget;\n            var v0 = this.v0,\n                v1 = this.v1,\n                v2 = this.v2;\n            point.set(QuadraticBezier(t, v0.x, v1.x, v2.x), QuadraticBezier(t, v0.y, v1.y, v2.y), QuadraticBezier(t, v0.z, v1.z, v2.z));\n            return point;\n        };\n\n        _proto.copy = function copy(source) {\n            _Curve.prototype.copy.call(this, source);\n\n            this.v0.copy(source.v0);\n            this.v1.copy(source.v1);\n            this.v2.copy(source.v2);\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            var data = _Curve.prototype.toJSON.call(this);\n\n            data.v0 = this.v0.toArray();\n            data.v1 = this.v1.toArray();\n            data.v2 = this.v2.toArray();\n            return data;\n        };\n\n        _proto.fromJSON = function fromJSON(json) {\n            _Curve.prototype.fromJSON.call(this, json);\n\n            this.v0.fromArray(json.v0);\n            this.v1.fromArray(json.v1);\n            this.v2.fromArray(json.v2);\n            return this;\n        };\n\n        return QuadraticBezierCurve3;\n    }(Curve);\n\n    QuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\n    var SplineCurve = /*#__PURE__*/ function(_Curve) {\n        _inheritsLoose(SplineCurve, _Curve);\n\n        function SplineCurve(points) {\n            var _this;\n\n            if (points === void 0) {\n                points = [];\n            }\n\n            _this = _Curve.call(this) || this;\n            _this.type = 'SplineCurve';\n            _this.points = points;\n            return _this;\n        }\n\n        var _proto = SplineCurve.prototype;\n\n        _proto.getPoint = function getPoint(t, optionalTarget) {\n            if (optionalTarget === void 0) {\n                optionalTarget = new Vector2();\n            }\n\n            var point = optionalTarget;\n            var points = this.points;\n            var p = (points.length - 1) * t;\n            var intPoint = Math.floor(p);\n            var weight = p - intPoint;\n            var p0 = points[intPoint === 0 ? intPoint : intPoint - 1];\n            var p1 = points[intPoint];\n            var p2 = points[intPoint > points.length - 2 ? points.length - 1 : intPoint + 1];\n            var p3 = points[intPoint > points.length - 3 ? points.length - 1 : intPoint + 2];\n            point.set(CatmullRom(weight, p0.x, p1.x, p2.x, p3.x), CatmullRom(weight, p0.y, p1.y, p2.y, p3.y));\n            return point;\n        };\n\n        _proto.copy = function copy(source) {\n            _Curve.prototype.copy.call(this, source);\n\n            this.points = [];\n\n            for (var i = 0, l = source.points.length; i < l; i++) {\n                var point = source.points[i];\n                this.points.push(point.clone());\n            }\n\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            var data = _Curve.prototype.toJSON.call(this);\n\n            data.points = [];\n\n            for (var i = 0, l = this.points.length; i < l; i++) {\n                var point = this.points[i];\n                data.points.push(point.toArray());\n            }\n\n            return data;\n        };\n\n        _proto.fromJSON = function fromJSON(json) {\n            _Curve.prototype.fromJSON.call(this, json);\n\n            this.points = [];\n\n            for (var i = 0, l = json.points.length; i < l; i++) {\n                var point = json.points[i];\n                this.points.push(new Vector2().fromArray(point));\n            }\n\n            return this;\n        };\n\n        return SplineCurve;\n    }(Curve);\n\n    SplineCurve.prototype.isSplineCurve = true;\n\n    var Curves = /*#__PURE__*/ Object.freeze({\n        __proto__: null,\n        ArcCurve: ArcCurve,\n        CatmullRomCurve3: CatmullRomCurve3,\n        CubicBezierCurve: CubicBezierCurve,\n        CubicBezierCurve3: CubicBezierCurve3,\n        EllipseCurve: EllipseCurve,\n        LineCurve: LineCurve,\n        LineCurve3: LineCurve3,\n        QuadraticBezierCurve: QuadraticBezierCurve,\n        QuadraticBezierCurve3: QuadraticBezierCurve3,\n        SplineCurve: SplineCurve\n    });\n\n    /**************************************************************\n     *\tCurved Path - a curve path is simply a array of connected\n     *\tcurves, but retains the api of a curve\n     **************************************************************/\n\n    var CurvePath = /*#__PURE__*/ function(_Curve) {\n        _inheritsLoose(CurvePath, _Curve);\n\n        function CurvePath() {\n            var _this;\n\n            _this = _Curve.call(this) || this;\n            _this.type = 'CurvePath';\n            _this.curves = [];\n            _this.autoClose = false; // Automatically closes the path\n\n            return _this;\n        }\n\n        var _proto = CurvePath.prototype;\n\n        _proto.add = function add(curve) {\n            this.curves.push(curve);\n        };\n\n        _proto.closePath = function closePath() {\n                // Add a line curve if start and end of lines are not connected\n                var startPoint = this.curves[0].getPoint(0);\n                var endPoint = this.curves[this.curves.length - 1].getPoint(1);\n\n                if (!startPoint.equals(endPoint)) {\n                    this.curves.push(new LineCurve(endPoint, startPoint));\n                }\n            } // To get accurate point with reference to\n            // entire path distance at time t,\n            // following has to be done:\n            // 1. Length of each sub path have to be known\n            // 2. Locate and identify type of curve\n            // 3. Get t for the curve\n            // 4. Return curve.getPointAt(t')\n        ;\n\n        _proto.getPoint = function getPoint(t) {\n                var d = t * this.getLength();\n                var curveLengths = this.getCurveLengths();\n                var i = 0; // To think about boundaries points.\n\n                while (i < curveLengths.length) {\n                    if (curveLengths[i] >= d) {\n                        var diff = curveLengths[i] - d;\n                        var curve = this.curves[i];\n                        var segmentLength = curve.getLength();\n                        var u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n                        return curve.getPointAt(u);\n                    }\n\n                    i++;\n                }\n\n                return null; // loop where sum != 0, sum > d , sum+1 <d\n            } // We cannot use the default THREE.Curve getPoint() with getLength() because in\n            // THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n            // getPoint() depends on getLength\n        ;\n\n        _proto.getLength = function getLength() {\n                var lens = this.getCurveLengths();\n                return lens[lens.length - 1];\n            } // cacheLengths must be recalculated.\n        ;\n\n        _proto.updateArcLengths = function updateArcLengths() {\n                this.needsUpdate = true;\n                this.cacheLengths = null;\n                this.getCurveLengths();\n            } // Compute lengths and cache them\n            // We cannot overwrite getLengths() because UtoT mapping uses it.\n        ;\n\n        _proto.getCurveLengths = function getCurveLengths() {\n            // We use cache values if curves and cache array are same length\n            if (this.cacheLengths && this.cacheLengths.length === this.curves.length) {\n                return this.cacheLengths;\n            } // Get length of sub-curve\n            // Push sums into cached array\n\n\n            var lengths = [];\n            var sums = 0;\n\n            for (var i = 0, l = this.curves.length; i < l; i++) {\n                sums += this.curves[i].getLength();\n                lengths.push(sums);\n            }\n\n            this.cacheLengths = lengths;\n            return lengths;\n        };\n\n        _proto.getSpacedPoints = function getSpacedPoints(divisions) {\n            if (divisions === void 0) {\n                divisions = 40;\n            }\n\n            var points = [];\n\n            for (var i = 0; i <= divisions; i++) {\n                points.push(this.getPoint(i / divisions));\n            }\n\n            if (this.autoClose) {\n                points.push(points[0]);\n            }\n\n            return points;\n        };\n\n        _proto.getPoints = function getPoints(divisions) {\n            if (divisions === void 0) {\n                divisions = 12;\n            }\n\n            var points = [];\n            var last;\n\n            for (var i = 0, curves = this.curves; i < curves.length; i++) {\n                var curve = curves[i];\n                var resolution = curve && curve.isEllipseCurve ? divisions * 2 : curve && (curve.isLineCurve || curve.isLineCurve3) ? 1 : curve && curve.isSplineCurve ? divisions * curve.points.length : divisions;\n                var pts = curve.getPoints(resolution);\n\n                for (var j = 0; j < pts.length; j++) {\n                    var point = pts[j];\n                    if (last && last.equals(point)) continue; // ensures no consecutive points are duplicates\n\n                    points.push(point);\n                    last = point;\n                }\n            }\n\n            if (this.autoClose && points.length > 1 && !points[points.length - 1].equals(points[0])) {\n                points.push(points[0]);\n            }\n\n            return points;\n        };\n\n        _proto.copy = function copy(source) {\n            _Curve.prototype.copy.call(this, source);\n\n            this.curves = [];\n\n            for (var i = 0, l = source.curves.length; i < l; i++) {\n                var curve = source.curves[i];\n                this.curves.push(curve.clone());\n            }\n\n            this.autoClose = source.autoClose;\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            var data = _Curve.prototype.toJSON.call(this);\n\n            data.autoClose = this.autoClose;\n            data.curves = [];\n\n            for (var i = 0, l = this.curves.length; i < l; i++) {\n                var curve = this.curves[i];\n                data.curves.push(curve.toJSON());\n            }\n\n            return data;\n        };\n\n        _proto.fromJSON = function fromJSON(json) {\n            _Curve.prototype.fromJSON.call(this, json);\n\n            this.autoClose = json.autoClose;\n            this.curves = [];\n\n            for (var i = 0, l = json.curves.length; i < l; i++) {\n                var curve = json.curves[i];\n                this.curves.push(new Curves[curve.type]().fromJSON(curve));\n            }\n\n            return this;\n        };\n\n        return CurvePath;\n    }(Curve);\n\n    var Path = /*#__PURE__*/ function(_CurvePath) {\n        _inheritsLoose(Path, _CurvePath);\n\n        function Path(points) {\n            var _this;\n\n            _this = _CurvePath.call(this) || this;\n            _this.type = 'Path';\n            _this.currentPoint = new Vector2();\n\n            if (points) {\n                _this.setFromPoints(points);\n            }\n\n            return _this;\n        }\n\n        var _proto = Path.prototype;\n\n        _proto.setFromPoints = function setFromPoints(points) {\n            this.moveTo(points[0].x, points[0].y);\n\n            for (var i = 1, l = points.length; i < l; i++) {\n                this.lineTo(points[i].x, points[i].y);\n            }\n\n            return this;\n        };\n\n        _proto.moveTo = function moveTo(x, y) {\n            this.currentPoint.set(x, y); // TODO consider referencing vectors instead of copying?\n\n            return this;\n        };\n\n        _proto.lineTo = function lineTo(x, y) {\n            var curve = new LineCurve(this.currentPoint.clone(), new Vector2(x, y));\n            this.curves.push(curve);\n            this.currentPoint.set(x, y);\n            return this;\n        };\n\n        _proto.quadraticCurveTo = function quadraticCurveTo(aCPx, aCPy, aX, aY) {\n            var curve = new QuadraticBezierCurve(this.currentPoint.clone(), new Vector2(aCPx, aCPy), new Vector2(aX, aY));\n            this.curves.push(curve);\n            this.currentPoint.set(aX, aY);\n            return this;\n        };\n\n        _proto.bezierCurveTo = function bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n            var curve = new CubicBezierCurve(this.currentPoint.clone(), new Vector2(aCP1x, aCP1y), new Vector2(aCP2x, aCP2y), new Vector2(aX, aY));\n            this.curves.push(curve);\n            this.currentPoint.set(aX, aY);\n            return this;\n        };\n\n        _proto.splineThru = function splineThru(pts\n            /*Array of Vector*/\n        ) {\n            var npts = [this.currentPoint.clone()].concat(pts);\n            var curve = new SplineCurve(npts);\n            this.curves.push(curve);\n            this.currentPoint.copy(pts[pts.length - 1]);\n            return this;\n        };\n\n        _proto.arc = function arc(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n            var x0 = this.currentPoint.x;\n            var y0 = this.currentPoint.y;\n            this.absarc(aX + x0, aY + y0, aRadius, aStartAngle, aEndAngle, aClockwise);\n            return this;\n        };\n\n        _proto.absarc = function absarc(aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise) {\n            this.absellipse(aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise);\n            return this;\n        };\n\n        _proto.ellipse = function ellipse(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n            var x0 = this.currentPoint.x;\n            var y0 = this.currentPoint.y;\n            this.absellipse(aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n            return this;\n        };\n\n        _proto.absellipse = function absellipse(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation) {\n            var curve = new EllipseCurve(aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation);\n\n            if (this.curves.length > 0) {\n                // if a previous curve is present, attempt to join\n                var firstPoint = curve.getPoint(0);\n\n                if (!firstPoint.equals(this.currentPoint)) {\n                    this.lineTo(firstPoint.x, firstPoint.y);\n                }\n            }\n\n            this.curves.push(curve);\n            var lastPoint = curve.getPoint(1);\n            this.currentPoint.copy(lastPoint);\n            return this;\n        };\n\n        _proto.copy = function copy(source) {\n            _CurvePath.prototype.copy.call(this, source);\n\n            this.currentPoint.copy(source.currentPoint);\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            var data = _CurvePath.prototype.toJSON.call(this);\n\n            data.currentPoint = this.currentPoint.toArray();\n            return data;\n        };\n\n        _proto.fromJSON = function fromJSON(json) {\n            _CurvePath.prototype.fromJSON.call(this, json);\n\n            this.currentPoint.fromArray(json.currentPoint);\n            return this;\n        };\n\n        return Path;\n    }(CurvePath);\n\n    var Shape = /*#__PURE__*/ function(_Path) {\n        _inheritsLoose(Shape, _Path);\n\n        function Shape(points) {\n            var _this;\n\n            _this = _Path.call(this, points) || this;\n            _this.uuid = MathUtils.generateUUID();\n            _this.type = 'Shape';\n            _this.holes = [];\n            return _this;\n        }\n\n        var _proto = Shape.prototype;\n\n        _proto.getPointsHoles = function getPointsHoles(divisions) {\n                var holesPts = [];\n\n                for (var i = 0, l = this.holes.length; i < l; i++) {\n                    holesPts[i] = this.holes[i].getPoints(divisions);\n                }\n\n                return holesPts;\n            } // get points of shape and holes (keypoints based on segments parameter)\n        ;\n\n        _proto.extractPoints = function extractPoints(divisions) {\n            return {\n                shape: this.getPoints(divisions),\n                holes: this.getPointsHoles(divisions)\n            };\n        };\n\n        _proto.copy = function copy(source) {\n            _Path.prototype.copy.call(this, source);\n\n            this.holes = [];\n\n            for (var i = 0, l = source.holes.length; i < l; i++) {\n                var hole = source.holes[i];\n                this.holes.push(hole.clone());\n            }\n\n            return this;\n        };\n\n        _proto.toJSON = function toJSON() {\n            var data = _Path.prototype.toJSON.call(this);\n\n            data.uuid = this.uuid;\n            data.holes = [];\n\n            for (var i = 0, l = this.holes.length; i < l; i++) {\n                var hole = this.holes[i];\n                data.holes.push(hole.toJSON());\n            }\n\n            return data;\n        };\n\n        _proto.fromJSON = function fromJSON(json) {\n            _Path.prototype.fromJSON.call(this, json);\n\n            this.uuid = json.uuid;\n            this.holes = [];\n\n            for (var i = 0, l = json.holes.length; i < l; i++) {\n                var hole = json.holes[i];\n                this.holes.push(new Path().fromJSON(hole));\n            }\n\n            return this;\n        };\n\n        return Shape;\n    }(Path);\n\n    var Light = /*#__PURE__*/ function(_Object3D) {\n        _inheritsLoose(Light, _Object3D);\n\n        function Light(color, intensity) {\n            var _this;\n\n            if (intensity === void 0) {\n                intensity = 1;\n            }\n\n            _this = _Object3D.call(this) || this;\n            _this.type = 'Light';\n            _this.color = new Color(color);\n            _this.intensity = intensity;\n            return _this;\n        }\n\n        var _proto = Light.prototype;\n\n        _proto.copy = function copy(source) {\n            _Object3D.prototype.copy.call(this, source);\n\n            this.color.copy(source.color);\n            this.intensity = source.intensity;\n            return this;\n        };\n\n        _proto.toJSON = function toJSON(meta) {\n            var data = _Object3D.prototype.toJSON.call(this, meta);\n\n            data.object.color = this.color.getHex();\n            data.object.intensity = this.intensity;\n            if (this.groundColor !== undefined) data.object.groundColor = this.groundColor.getHex();\n            if (this.distance !== undefined) data.object.distance = this.distance;\n            if (this.angle !== undefined) data.object.angle = this.angle;\n            if (this.decay !== undefined) data.object.decay = this.decay;\n            if (this.penumbra !== undefined) data.object.penumbra = this.penumbra;\n            if (this.shadow !== undefined) data.object.shadow = this.shadow.toJSON();\n            return data;\n        };\n\n        return Light;\n    }(Object3D);\n\n    Light.prototype.isLight = true;\n\n    var HemisphereLight = /*#__PURE__*/ function(_Light) {\n        _inheritsLoose(HemisphereLight, _Light);\n\n        function HemisphereLight(skyColor, groundColor, intensity) {\n            var _this;\n\n            _this = _Light.call(this, skyColor, intensity) || this;\n            _this.type = 'HemisphereLight';\n\n            _this.position.copy(Object3D.DefaultUp);\n\n            _this.updateMatrix();\n\n            _this.groundColor = new Color(groundColor);\n            return _this;\n        }\n\n        var _proto = HemisphereLight.prototype;\n\n        _proto.copy = function copy(source) {\n            Light.prototype.copy.call(this, source);\n            this.groundColor.copy(source.groundColor);\n            return this;\n        };\n\n        return HemisphereLight;\n    }(Light);\n\n    HemisphereLight.prototype.isHemisphereLight = true;\n\n    var _projScreenMatrix = /*@__PURE__*/ new Matrix4();\n\n    var _lightPositionWorld = /*@__PURE__*/ new Vector3();\n\n    var _lookTarget = /*@__PURE__*/ new Vector3();\n\n    var LightShadow = /*#__PURE__*/ function() {\n        function LightShadow(camera) {\n            this.camera = camera;\n            this.bias = 0;\n            this.normalBias = 0;\n            this.radius = 1;\n            this.mapSize = new Vector2(512, 512);\n            this.map = null;\n            this.mapPass = null;\n            this.matrix = new Matrix4();\n            this.autoUpdate = true;\n            this.needsUpdate = false;\n            this._frustum = new Frustum();\n            this._frameExtents = new Vector2(1, 1);\n            this._viewportCount = 1;\n            this._viewports = [new Vector4(0, 0, 1, 1)];\n        }\n\n        var _proto = LightShadow.prototype;\n\n        _proto.getViewportCount = function getViewportCount() {\n            return this._viewportCount;\n        };\n\n        _proto.getFrustum = function getFrustum() {\n            return this._frustum;\n        };\n\n        _proto.updateMatrices = function updateMatrices(light) {\n            var shadowCamera = this.camera;\n            var shadowMatrix = this.matrix;\n\n            _lightPositionWorld.setFromMatrixPosition(light.matrixWorld);\n\n            shadowCamera.position.copy(_lightPositionWorld);\n\n            _lookTarget.setFromMatrixPosition(light.target.matrixWorld);\n\n            shadowCamera.lookAt(_lookTarget);\n            shadowCamera.updateMatrixWorld();\n\n            _projScreenMatrix.multiplyMatrices(shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse);\n\n            this._frustum.setFromProjectionMatrix(_projScreenMatrix);\n\n            shadowMatrix.set(0.5, 0.0, 0.0, 0.5, 0.0, 0.5, 0.0, 0.5, 0.0, 0.0, 0.5, 0.5, 0.0, 0.0, 0.0, 1.0);\n            shadowMatrix.multiply(shadowCamera.projectionMatrix);\n            shadowMatrix.multiply(shadowCamera.matrixWorldInverse);\n        };\n\n        _proto.getViewport = function getViewport(viewportIndex) {\n            return this._viewports[viewportIndex];\n        };\n\n        _proto.getFrameExtents = function getFrameExtents() {\n            return this._frameExtents;\n        };\n\n        _proto.copy = function copy(source) {\n            this.camera = source.camera.clone();\n            this.bias = source.bias;\n            this.radius = source.radius;\n            this.mapSize.copy(source.mapSize);\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.toJSON = function toJSON() {\n            var object = {};\n            if (this.bias !== 0) object.bias = this.bias;\n            if (this.normalBias !== 0) object.normalBias = this.normalBias;\n            if (this.radius !== 1) object.radius = this.radius;\n            if (this.mapSize.x !== 512 || this.mapSize.y !== 512) object.mapSize = this.mapSize.toArray();\n            object.camera = this.camera.toJSON(false).object;\n            delete object.camera.matrix;\n            return object;\n        };\n\n        return LightShadow;\n    }();\n\n    var SpotLightShadow = /*#__PURE__*/ function(_LightShadow) {\n        _inheritsLoose(SpotLightShadow, _LightShadow);\n\n        function SpotLightShadow() {\n            var _this;\n\n            _this = _LightShadow.call(this, new PerspectiveCamera(50, 1, 0.5, 500)) || this;\n            _this.focus = 1;\n            return _this;\n        }\n\n        var _proto = SpotLightShadow.prototype;\n\n        _proto.updateMatrices = function updateMatrices(light) {\n            var camera = this.camera;\n            var fov = MathUtils.RAD2DEG * 2 * light.angle * this.focus;\n            var aspect = this.mapSize.width / this.mapSize.height;\n            var far = light.distance || camera.far;\n\n            if (fov !== camera.fov || aspect !== camera.aspect || far !== camera.far) {\n                camera.fov = fov;\n                camera.aspect = aspect;\n                camera.far = far;\n                camera.updateProjectionMatrix();\n            }\n\n            _LightShadow.prototype.updateMatrices.call(this, light);\n        };\n\n        return SpotLightShadow;\n    }(LightShadow);\n\n    SpotLightShadow.prototype.isSpotLightShadow = true;\n\n    var SpotLight = /*#__PURE__*/ function(_Light) {\n        _inheritsLoose(SpotLight, _Light);\n\n        function SpotLight(color, intensity, distance, angle, penumbra, decay) {\n            var _this;\n\n            if (distance === void 0) {\n                distance = 0;\n            }\n\n            if (angle === void 0) {\n                angle = Math.PI / 3;\n            }\n\n            if (penumbra === void 0) {\n                penumbra = 0;\n            }\n\n            if (decay === void 0) {\n                decay = 1;\n            }\n\n            _this = _Light.call(this, color, intensity) || this;\n            _this.type = 'SpotLight';\n\n            _this.position.copy(Object3D.DefaultUp);\n\n            _this.updateMatrix();\n\n            _this.target = new Object3D();\n            _this.distance = distance;\n            _this.angle = angle;\n            _this.penumbra = penumbra;\n            _this.decay = decay; // for physically correct lights, should be 2.\n\n            _this.shadow = new SpotLightShadow();\n            return _this;\n        }\n\n        var _proto = SpotLight.prototype;\n\n        _proto.copy = function copy(source) {\n            _Light.prototype.copy.call(this, source);\n\n            this.distance = source.distance;\n            this.angle = source.angle;\n            this.penumbra = source.penumbra;\n            this.decay = source.decay;\n            this.target = source.target.clone();\n            this.shadow = source.shadow.clone();\n            return this;\n        };\n\n        _createClass(SpotLight, [{\n            key: \"power\",\n            get: function get() {\n                // intensity = power per solid angle.\n                // ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n                return this.intensity * Math.PI;\n            },\n            set: function set(power) {\n                // intensity = power per solid angle.\n                // ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n                this.intensity = power / Math.PI;\n            }\n        }]);\n\n        return SpotLight;\n    }(Light);\n\n    SpotLight.prototype.isSpotLight = true;\n\n    var _projScreenMatrix$1 = /*@__PURE__*/ new Matrix4();\n\n    var _lightPositionWorld$1 = /*@__PURE__*/ new Vector3();\n\n    var _lookTarget$1 = /*@__PURE__*/ new Vector3();\n\n    var PointLightShadow = /*#__PURE__*/ function(_LightShadow) {\n        _inheritsLoose(PointLightShadow, _LightShadow);\n\n        function PointLightShadow() {\n            var _this;\n\n            _this = _LightShadow.call(this, new PerspectiveCamera(90, 1, 0.5, 500)) || this;\n            _this._frameExtents = new Vector2(4, 2);\n            _this._viewportCount = 6;\n            _this._viewports = [ // These viewports map a cube-map onto a 2D texture with the\n                // following orientation:\n                //\n                //\txzXZ\n                //\t y Y\n                //\n                // X - Positive x direction\n                // x - Negative x direction\n                // Y - Positive y direction\n                // y - Negative y direction\n                // Z - Positive z direction\n                // z - Negative z direction\n                // positive X\n                new Vector4(2, 1, 1, 1), // negative X\n                new Vector4(0, 1, 1, 1), // positive Z\n                new Vector4(3, 1, 1, 1), // negative Z\n                new Vector4(1, 1, 1, 1), // positive Y\n                new Vector4(3, 0, 1, 1), // negative Y\n                new Vector4(1, 0, 1, 1)\n            ];\n            _this._cubeDirections = [new Vector3(1, 0, 0), new Vector3(-1, 0, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1), new Vector3(0, 1, 0), new Vector3(0, -1, 0)];\n            _this._cubeUps = [new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 1, 0), new Vector3(0, 0, 1), new Vector3(0, 0, -1)];\n            return _this;\n        }\n\n        var _proto = PointLightShadow.prototype;\n\n        _proto.updateMatrices = function updateMatrices(light, viewportIndex) {\n            if (viewportIndex === void 0) {\n                viewportIndex = 0;\n            }\n\n            var camera = this.camera;\n            var shadowMatrix = this.matrix;\n\n            _lightPositionWorld$1.setFromMatrixPosition(light.matrixWorld);\n\n            camera.position.copy(_lightPositionWorld$1);\n\n            _lookTarget$1.copy(camera.position);\n\n            _lookTarget$1.add(this._cubeDirections[viewportIndex]);\n\n            camera.up.copy(this._cubeUps[viewportIndex]);\n            camera.lookAt(_lookTarget$1);\n            camera.updateMatrixWorld();\n            shadowMatrix.makeTranslation(-_lightPositionWorld$1.x, -_lightPositionWorld$1.y, -_lightPositionWorld$1.z);\n\n            _projScreenMatrix$1.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);\n\n            this._frustum.setFromProjectionMatrix(_projScreenMatrix$1);\n        };\n\n        return PointLightShadow;\n    }(LightShadow);\n\n    PointLightShadow.prototype.isPointLightShadow = true;\n\n    var PointLight = /*#__PURE__*/ function(_Light) {\n        _inheritsLoose(PointLight, _Light);\n\n        function PointLight(color, intensity, distance, decay) {\n            var _this;\n\n            if (distance === void 0) {\n                distance = 0;\n            }\n\n            if (decay === void 0) {\n                decay = 1;\n            }\n\n            _this = _Light.call(this, color, intensity) || this;\n            _this.type = 'PointLight';\n            _this.distance = distance;\n            _this.decay = decay; // for physically correct lights, should be 2.\n\n            _this.shadow = new PointLightShadow();\n            return _this;\n        }\n\n        var _proto = PointLight.prototype;\n\n        _proto.copy = function copy(source) {\n            _Light.prototype.copy.call(this, source);\n\n            this.distance = source.distance;\n            this.decay = source.decay;\n            this.shadow = source.shadow.clone();\n            return this;\n        };\n\n        _createClass(PointLight, [{\n            key: \"power\",\n            get: function get() {\n                // intensity = power per solid angle.\n                // ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n                return this.intensity * 4 * Math.PI;\n            },\n            set: function set(power) {\n                // intensity = power per solid angle.\n                // ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n                this.intensity = power / (4 * Math.PI);\n            }\n        }]);\n\n        return PointLight;\n    }(Light);\n\n    PointLight.prototype.isPointLight = true;\n\n    var OrthographicCamera = /*#__PURE__*/ function(_Camera) {\n        _inheritsLoose(OrthographicCamera, _Camera);\n\n        function OrthographicCamera(left, right, top, bottom, near, far) {\n            var _this;\n\n            if (left === void 0) {\n                left = -1;\n            }\n\n            if (right === void 0) {\n                right = 1;\n            }\n\n            if (top === void 0) {\n                top = 1;\n            }\n\n            if (bottom === void 0) {\n                bottom = -1;\n            }\n\n            if (near === void 0) {\n                near = 0.1;\n            }\n\n            if (far === void 0) {\n                far = 2000;\n            }\n\n            _this = _Camera.call(this) || this;\n            _this.type = 'OrthographicCamera';\n            _this.zoom = 1;\n            _this.view = null;\n            _this.left = left;\n            _this.right = right;\n            _this.top = top;\n            _this.bottom = bottom;\n            _this.near = near;\n            _this.far = far;\n\n            _this.updateProjectionMatrix();\n\n            return _this;\n        }\n\n        var _proto = OrthographicCamera.prototype;\n\n        _proto.copy = function copy(source, recursive) {\n            _Camera.prototype.copy.call(this, source, recursive);\n\n            this.left = source.left;\n            this.right = source.right;\n            this.top = source.top;\n            this.bottom = source.bottom;\n            this.near = source.near;\n            this.far = source.far;\n            this.zoom = source.zoom;\n            this.view = source.view === null ? null : Object.assign({}, source.view);\n            return this;\n        };\n\n        _proto.setViewOffset = function setViewOffset(fullWidth, fullHeight, x, y, width, height) {\n            if (this.view === null) {\n                this.view = {\n                    enabled: true,\n                    fullWidth: 1,\n                    fullHeight: 1,\n                    offsetX: 0,\n                    offsetY: 0,\n                    width: 1,\n                    height: 1\n                };\n            }\n\n            this.view.enabled = true;\n            this.view.fullWidth = fullWidth;\n            this.view.fullHeight = fullHeight;\n            this.view.offsetX = x;\n            this.view.offsetY = y;\n            this.view.width = width;\n            this.view.height = height;\n            this.updateProjectionMatrix();\n        };\n\n        _proto.clearViewOffset = function clearViewOffset() {\n            if (this.view !== null) {\n                this.view.enabled = false;\n            }\n\n            this.updateProjectionMatrix();\n        };\n\n        _proto.updateProjectionMatrix = function updateProjectionMatrix() {\n            var dx = (this.right - this.left) / (2 * this.zoom);\n            var dy = (this.top - this.bottom) / (2 * this.zoom);\n            var cx = (this.right + this.left) / 2;\n            var cy = (this.top + this.bottom) / 2;\n            var left = cx - dx;\n            var right = cx + dx;\n            var top = cy + dy;\n            var bottom = cy - dy;\n\n            if (this.view !== null && this.view.enabled) {\n                var scaleW = (this.right - this.left) / this.view.fullWidth / this.zoom;\n                var scaleH = (this.top - this.bottom) / this.view.fullHeight / this.zoom;\n                left += scaleW * this.view.offsetX;\n                right = left + scaleW * this.view.width;\n                top -= scaleH * this.view.offsetY;\n                bottom = top - scaleH * this.view.height;\n            }\n\n            this.projectionMatrix.makeOrthographic(left, right, top, bottom, this.near, this.far);\n            this.projectionMatrixInverse.copy(this.projectionMatrix).invert();\n        };\n\n        _proto.toJSON = function toJSON(meta) {\n            var data = Object3D.prototype.toJSON.call(this, meta);\n            data.object.zoom = this.zoom;\n            data.object.left = this.left;\n            data.object.right = this.right;\n            data.object.top = this.top;\n            data.object.bottom = this.bottom;\n            data.object.near = this.near;\n            data.object.far = this.far;\n            if (this.view !== null) data.object.view = Object.assign({}, this.view);\n            return data;\n        };\n\n        return OrthographicCamera;\n    }(Camera);\n\n    OrthographicCamera.prototype.isOrthographicCamera = true;\n\n    var DirectionalLightShadow = /*#__PURE__*/ function(_LightShadow) {\n        _inheritsLoose(DirectionalLightShadow, _LightShadow);\n\n        function DirectionalLightShadow() {\n            return _LightShadow.call(this, new OrthographicCamera(-5, 5, 5, -5, 0.5, 500)) || this;\n        }\n\n        return DirectionalLightShadow;\n    }(LightShadow);\n\n    DirectionalLightShadow.prototype.isDirectionalLightShadow = true;\n\n    var DirectionalLight = /*#__PURE__*/ function(_Light) {\n        _inheritsLoose(DirectionalLight, _Light);\n\n        function DirectionalLight(color, intensity) {\n            var _this;\n\n            _this = _Light.call(this, color, intensity) || this;\n            _this.type = 'DirectionalLight';\n\n            _this.position.copy(Object3D.DefaultUp);\n\n            _this.updateMatrix();\n\n            _this.target = new Object3D();\n            _this.shadow = new DirectionalLightShadow();\n            return _this;\n        }\n\n        var _proto = DirectionalLight.prototype;\n\n        _proto.copy = function copy(source) {\n            _Light.prototype.copy.call(this, source);\n\n            this.target = source.target.clone();\n            this.shadow = source.shadow.clone();\n            return this;\n        };\n\n        return DirectionalLight;\n    }(Light);\n\n    DirectionalLight.prototype.isDirectionalLight = true;\n\n    var AmbientLight = /*#__PURE__*/ function(_Light) {\n        _inheritsLoose(AmbientLight, _Light);\n\n        function AmbientLight(color, intensity) {\n            var _this;\n\n            _this = _Light.call(this, color, intensity) || this;\n            _this.type = 'AmbientLight';\n            return _this;\n        }\n\n        return AmbientLight;\n    }(Light);\n\n    AmbientLight.prototype.isAmbientLight = true;\n\n    var RectAreaLight = /*#__PURE__*/ function(_Light) {\n        _inheritsLoose(RectAreaLight, _Light);\n\n        function RectAreaLight(color, intensity, width, height) {\n            var _this;\n\n            if (width === void 0) {\n                width = 10;\n            }\n\n            if (height === void 0) {\n                height = 10;\n            }\n\n            _this = _Light.call(this, color, intensity) || this;\n            _this.type = 'RectAreaLight';\n            _this.width = width;\n            _this.height = height;\n            return _this;\n        }\n\n        var _proto = RectAreaLight.prototype;\n\n        _proto.copy = function copy(source) {\n            _Light.prototype.copy.call(this, source);\n\n            this.width = source.width;\n            this.height = source.height;\n            return this;\n        };\n\n        _proto.toJSON = function toJSON(meta) {\n            var data = _Light.prototype.toJSON.call(this, meta);\n\n            data.object.width = this.width;\n            data.object.height = this.height;\n            return data;\n        };\n\n        return RectAreaLight;\n    }(Light);\n\n    RectAreaLight.prototype.isRectAreaLight = true;\n\n    /**\n     * Primary reference:\n     *\t https://graphics.stanford.edu/papers/envmap/envmap.pdf\n     *\n     * Secondary reference:\n     *\t https://www.ppsloan.org/publications/StupidSH36.pdf\n     */\n    // 3-band SH defined by 9 coefficients\n\n    var SphericalHarmonics3 = /*#__PURE__*/ function() {\n        function SphericalHarmonics3() {\n            this.coefficients = [];\n\n            for (var i = 0; i < 9; i++) {\n                this.coefficients.push(new Vector3());\n            }\n        }\n\n        var _proto = SphericalHarmonics3.prototype;\n\n        _proto.set = function set(coefficients) {\n            for (var i = 0; i < 9; i++) {\n                this.coefficients[i].copy(coefficients[i]);\n            }\n\n            return this;\n        };\n\n        _proto.zero = function zero() {\n                for (var i = 0; i < 9; i++) {\n                    this.coefficients[i].set(0, 0, 0);\n                }\n\n                return this;\n            } // get the radiance in the direction of the normal\n            // target is a Vector3\n        ;\n\n        _proto.getAt = function getAt(normal, target) {\n                // normal is assumed to be unit length\n                var x = normal.x,\n                    y = normal.y,\n                    z = normal.z;\n                var coeff = this.coefficients; // band 0\n\n                target.copy(coeff[0]).multiplyScalar(0.282095); // band 1\n\n                target.addScaledVector(coeff[1], 0.488603 * y);\n                target.addScaledVector(coeff[2], 0.488603 * z);\n                target.addScaledVector(coeff[3], 0.488603 * x); // band 2\n\n                target.addScaledVector(coeff[4], 1.092548 * (x * y));\n                target.addScaledVector(coeff[5], 1.092548 * (y * z));\n                target.addScaledVector(coeff[6], 0.315392 * (3.0 * z * z - 1.0));\n                target.addScaledVector(coeff[7], 1.092548 * (x * z));\n                target.addScaledVector(coeff[8], 0.546274 * (x * x - y * y));\n                return target;\n            } // get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n            // target is a Vector3\n            // https://graphics.stanford.edu/papers/envmap/envmap.pdf\n        ;\n\n        _proto.getIrradianceAt = function getIrradianceAt(normal, target) {\n            // normal is assumed to be unit length\n            var x = normal.x,\n                y = normal.y,\n                z = normal.z;\n            var coeff = this.coefficients; // band 0\n\n            target.copy(coeff[0]).multiplyScalar(0.886227); // π * 0.282095\n            // band 1\n\n            target.addScaledVector(coeff[1], 2.0 * 0.511664 * y); // ( 2 * π / 3 ) * 0.488603\n\n            target.addScaledVector(coeff[2], 2.0 * 0.511664 * z);\n            target.addScaledVector(coeff[3], 2.0 * 0.511664 * x); // band 2\n\n            target.addScaledVector(coeff[4], 2.0 * 0.429043 * x * y); // ( π / 4 ) * 1.092548\n\n            target.addScaledVector(coeff[5], 2.0 * 0.429043 * y * z);\n            target.addScaledVector(coeff[6], 0.743125 * z * z - 0.247708); // ( π / 4 ) * 0.315392 * 3\n\n            target.addScaledVector(coeff[7], 2.0 * 0.429043 * x * z);\n            target.addScaledVector(coeff[8], 0.429043 * (x * x - y * y)); // ( π / 4 ) * 0.546274\n\n            return target;\n        };\n\n        _proto.add = function add(sh) {\n            for (var i = 0; i < 9; i++) {\n                this.coefficients[i].add(sh.coefficients[i]);\n            }\n\n            return this;\n        };\n\n        _proto.addScaledSH = function addScaledSH(sh, s) {\n            for (var i = 0; i < 9; i++) {\n                this.coefficients[i].addScaledVector(sh.coefficients[i], s);\n            }\n\n            return this;\n        };\n\n        _proto.scale = function scale(s) {\n            for (var i = 0; i < 9; i++) {\n                this.coefficients[i].multiplyScalar(s);\n            }\n\n            return this;\n        };\n\n        _proto.lerp = function lerp(sh, alpha) {\n            for (var i = 0; i < 9; i++) {\n                this.coefficients[i].lerp(sh.coefficients[i], alpha);\n            }\n\n            return this;\n        };\n\n        _proto.equals = function equals(sh) {\n            for (var i = 0; i < 9; i++) {\n                if (!this.coefficients[i].equals(sh.coefficients[i])) {\n                    return false;\n                }\n            }\n\n            return true;\n        };\n\n        _proto.copy = function copy(sh) {\n            return this.set(sh.coefficients);\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.fromArray = function fromArray(array, offset) {\n            if (offset === void 0) {\n                offset = 0;\n            }\n\n            var coefficients = this.coefficients;\n\n            for (var i = 0; i < 9; i++) {\n                coefficients[i].fromArray(array, offset + i * 3);\n            }\n\n            return this;\n        };\n\n        _proto.toArray = function toArray(array, offset) {\n                if (array === void 0) {\n                    array = [];\n                }\n\n                if (offset === void 0) {\n                    offset = 0;\n                }\n\n                var coefficients = this.coefficients;\n\n                for (var i = 0; i < 9; i++) {\n                    coefficients[i].toArray(array, offset + i * 3);\n                }\n\n                return array;\n            } // evaluate the basis functions\n            // shBasis is an Array[ 9 ]\n        ;\n\n        SphericalHarmonics3.getBasisAt = function getBasisAt(normal, shBasis) {\n            // normal is assumed to be unit length\n            var x = normal.x,\n                y = normal.y,\n                z = normal.z; // band 0\n\n            shBasis[0] = 0.282095; // band 1\n\n            shBasis[1] = 0.488603 * y;\n            shBasis[2] = 0.488603 * z;\n            shBasis[3] = 0.488603 * x; // band 2\n\n            shBasis[4] = 1.092548 * x * y;\n            shBasis[5] = 1.092548 * y * z;\n            shBasis[6] = 0.315392 * (3 * z * z - 1);\n            shBasis[7] = 1.092548 * x * z;\n            shBasis[8] = 0.546274 * (x * x - y * y);\n        };\n\n        return SphericalHarmonics3;\n    }();\n\n    SphericalHarmonics3.prototype.isSphericalHarmonics3 = true;\n\n    var LightProbe = /*#__PURE__*/ function(_Light) {\n        _inheritsLoose(LightProbe, _Light);\n\n        function LightProbe(sh, intensity) {\n            var _this;\n\n            if (sh === void 0) {\n                sh = new SphericalHarmonics3();\n            }\n\n            if (intensity === void 0) {\n                intensity = 1;\n            }\n\n            _this = _Light.call(this, undefined, intensity) || this;\n            _this.sh = sh;\n            return _this;\n        }\n\n        var _proto = LightProbe.prototype;\n\n        _proto.copy = function copy(source) {\n            _Light.prototype.copy.call(this, source);\n\n            this.sh.copy(source.sh);\n            return this;\n        };\n\n        _proto.fromJSON = function fromJSON(json) {\n            this.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\n            this.sh.fromArray(json.sh);\n            return this;\n        };\n\n        _proto.toJSON = function toJSON(meta) {\n            var data = _Light.prototype.toJSON.call(this, meta);\n\n            data.object.sh = this.sh.toArray();\n            return data;\n        };\n\n        return LightProbe;\n    }(Light);\n\n    LightProbe.prototype.isLightProbe = true;\n\n    var MaterialLoader = /*#__PURE__*/ function(_Loader) {\n        _inheritsLoose(MaterialLoader, _Loader);\n\n        function MaterialLoader(manager) {\n            var _this;\n\n            _this = _Loader.call(this, manager) || this;\n            _this.textures = {};\n            return _this;\n        }\n\n        var _proto = MaterialLoader.prototype;\n\n        _proto.load = function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var loader = new FileLoader(scope.manager);\n            loader.setPath(scope.path);\n            loader.setRequestHeader(scope.requestHeader);\n            loader.setWithCredentials(scope.withCredentials);\n            loader.load(url, function(text) {\n                try {\n                    onLoad(scope.parse(JSON.parse(text)));\n                } catch (e) {\n                    if (onError) {\n                        onError(e);\n                    } else {\n                        console.error(e);\n                    }\n\n                    scope.manager.itemError(url);\n                }\n            }, onProgress, onError);\n        };\n\n        _proto.parse = function parse(json) {\n            var textures = this.textures;\n\n            function getTexture(name) {\n                if (textures[name] === undefined) {\n                    console.warn('THREE.MaterialLoader: Undefined texture', name);\n                }\n\n                return textures[name];\n            }\n\n            var material = new Materials[json.type]();\n            if (json.uuid !== undefined) material.uuid = json.uuid;\n            if (json.name !== undefined) material.name = json.name;\n            if (json.color !== undefined && material.color !== undefined) material.color.setHex(json.color);\n            if (json.roughness !== undefined) material.roughness = json.roughness;\n            if (json.metalness !== undefined) material.metalness = json.metalness;\n            if (json.sheen !== undefined) material.sheen = new Color().setHex(json.sheen);\n            if (json.emissive !== undefined && material.emissive !== undefined) material.emissive.setHex(json.emissive);\n            if (json.specular !== undefined && material.specular !== undefined) material.specular.setHex(json.specular);\n            if (json.shininess !== undefined) material.shininess = json.shininess;\n            if (json.clearcoat !== undefined) material.clearcoat = json.clearcoat;\n            if (json.clearcoatRoughness !== undefined) material.clearcoatRoughness = json.clearcoatRoughness;\n            if (json.fog !== undefined) material.fog = json.fog;\n            if (json.flatShading !== undefined) material.flatShading = json.flatShading;\n            if (json.blending !== undefined) material.blending = json.blending;\n            if (json.combine !== undefined) material.combine = json.combine;\n            if (json.side !== undefined) material.side = json.side;\n            if (json.opacity !== undefined) material.opacity = json.opacity;\n            if (json.transparent !== undefined) material.transparent = json.transparent;\n            if (json.alphaTest !== undefined) material.alphaTest = json.alphaTest;\n            if (json.depthTest !== undefined) material.depthTest = json.depthTest;\n            if (json.depthWrite !== undefined) material.depthWrite = json.depthWrite;\n            if (json.colorWrite !== undefined) material.colorWrite = json.colorWrite;\n            if (json.stencilWrite !== undefined) material.stencilWrite = json.stencilWrite;\n            if (json.stencilWriteMask !== undefined) material.stencilWriteMask = json.stencilWriteMask;\n            if (json.stencilFunc !== undefined) material.stencilFunc = json.stencilFunc;\n            if (json.stencilRef !== undefined) material.stencilRef = json.stencilRef;\n            if (json.stencilFuncMask !== undefined) material.stencilFuncMask = json.stencilFuncMask;\n            if (json.stencilFail !== undefined) material.stencilFail = json.stencilFail;\n            if (json.stencilZFail !== undefined) material.stencilZFail = json.stencilZFail;\n            if (json.stencilZPass !== undefined) material.stencilZPass = json.stencilZPass;\n            if (json.wireframe !== undefined) material.wireframe = json.wireframe;\n            if (json.wireframeLinewidth !== undefined) material.wireframeLinewidth = json.wireframeLinewidth;\n            if (json.wireframeLinecap !== undefined) material.wireframeLinecap = json.wireframeLinecap;\n            if (json.wireframeLinejoin !== undefined) material.wireframeLinejoin = json.wireframeLinejoin;\n            if (json.rotation !== undefined) material.rotation = json.rotation;\n            if (json.linewidth !== 1) material.linewidth = json.linewidth;\n            if (json.dashSize !== undefined) material.dashSize = json.dashSize;\n            if (json.gapSize !== undefined) material.gapSize = json.gapSize;\n            if (json.scale !== undefined) material.scale = json.scale;\n            if (json.polygonOffset !== undefined) material.polygonOffset = json.polygonOffset;\n            if (json.polygonOffsetFactor !== undefined) material.polygonOffsetFactor = json.polygonOffsetFactor;\n            if (json.polygonOffsetUnits !== undefined) material.polygonOffsetUnits = json.polygonOffsetUnits;\n            if (json.skinning !== undefined) material.skinning = json.skinning;\n            if (json.morphTargets !== undefined) material.morphTargets = json.morphTargets;\n            if (json.morphNormals !== undefined) material.morphNormals = json.morphNormals;\n            if (json.dithering !== undefined) material.dithering = json.dithering;\n            if (json.vertexTangents !== undefined) material.vertexTangents = json.vertexTangents;\n            if (json.visible !== undefined) material.visible = json.visible;\n            if (json.toneMapped !== undefined) material.toneMapped = json.toneMapped;\n            if (json.userData !== undefined) material.userData = json.userData;\n\n            if (json.vertexColors !== undefined) {\n                if (typeof json.vertexColors === 'number') {\n                    material.vertexColors = json.vertexColors > 0 ? true : false;\n                } else {\n                    material.vertexColors = json.vertexColors;\n                }\n            } // Shader Material\n\n\n            if (json.uniforms !== undefined) {\n                for (var name in json.uniforms) {\n                    var uniform = json.uniforms[name];\n                    material.uniforms[name] = {};\n\n                    switch (uniform.type) {\n                        case 't':\n                            material.uniforms[name].value = getTexture(uniform.value);\n                            break;\n\n                        case 'c':\n                            material.uniforms[name].value = new Color().setHex(uniform.value);\n                            break;\n\n                        case 'v2':\n                            material.uniforms[name].value = new Vector2().fromArray(uniform.value);\n                            break;\n\n                        case 'v3':\n                            material.uniforms[name].value = new Vector3().fromArray(uniform.value);\n                            break;\n\n                        case 'v4':\n                            material.uniforms[name].value = new Vector4().fromArray(uniform.value);\n                            break;\n\n                        case 'm3':\n                            material.uniforms[name].value = new Matrix3().fromArray(uniform.value);\n                            break;\n\n                        case 'm4':\n                            material.uniforms[name].value = new Matrix4().fromArray(uniform.value);\n                            break;\n\n                        default:\n                            material.uniforms[name].value = uniform.value;\n                    }\n                }\n            }\n\n            if (json.defines !== undefined) material.defines = json.defines;\n            if (json.vertexShader !== undefined) material.vertexShader = json.vertexShader;\n            if (json.fragmentShader !== undefined) material.fragmentShader = json.fragmentShader;\n\n            if (json.extensions !== undefined) {\n                for (var key in json.extensions) {\n                    material.extensions[key] = json.extensions[key];\n                }\n            } // Deprecated\n\n\n            if (json.shading !== undefined) material.flatShading = json.shading === 1; // THREE.FlatShading\n            // for PointsMaterial\n\n            if (json.size !== undefined) material.size = json.size;\n            if (json.sizeAttenuation !== undefined) material.sizeAttenuation = json.sizeAttenuation; // maps\n\n            if (json.map !== undefined) material.map = getTexture(json.map);\n            if (json.matcap !== undefined) material.matcap = getTexture(json.matcap);\n            if (json.alphaMap !== undefined) material.alphaMap = getTexture(json.alphaMap);\n            if (json.bumpMap !== undefined) material.bumpMap = getTexture(json.bumpMap);\n            if (json.bumpScale !== undefined) material.bumpScale = json.bumpScale;\n            if (json.normalMap !== undefined) material.normalMap = getTexture(json.normalMap);\n            if (json.normalMapType !== undefined) material.normalMapType = json.normalMapType;\n\n            if (json.normalScale !== undefined) {\n                var normalScale = json.normalScale;\n\n                if (Array.isArray(normalScale) === false) {\n                    // Blender exporter used to export a scalar. See #7459\n                    normalScale = [normalScale, normalScale];\n                }\n\n                material.normalScale = new Vector2().fromArray(normalScale);\n            }\n\n            if (json.displacementMap !== undefined) material.displacementMap = getTexture(json.displacementMap);\n            if (json.displacementScale !== undefined) material.displacementScale = json.displacementScale;\n            if (json.displacementBias !== undefined) material.displacementBias = json.displacementBias;\n            if (json.roughnessMap !== undefined) material.roughnessMap = getTexture(json.roughnessMap);\n            if (json.metalnessMap !== undefined) material.metalnessMap = getTexture(json.metalnessMap);\n            if (json.emissiveMap !== undefined) material.emissiveMap = getTexture(json.emissiveMap);\n            if (json.emissiveIntensity !== undefined) material.emissiveIntensity = json.emissiveIntensity;\n            if (json.specularMap !== undefined) material.specularMap = getTexture(json.specularMap);\n            if (json.envMap !== undefined) material.envMap = getTexture(json.envMap);\n            if (json.envMapIntensity !== undefined) material.envMapIntensity = json.envMapIntensity;\n            if (json.reflectivity !== undefined) material.reflectivity = json.reflectivity;\n            if (json.refractionRatio !== undefined) material.refractionRatio = json.refractionRatio;\n            if (json.lightMap !== undefined) material.lightMap = getTexture(json.lightMap);\n            if (json.lightMapIntensity !== undefined) material.lightMapIntensity = json.lightMapIntensity;\n            if (json.aoMap !== undefined) material.aoMap = getTexture(json.aoMap);\n            if (json.aoMapIntensity !== undefined) material.aoMapIntensity = json.aoMapIntensity;\n            if (json.gradientMap !== undefined) material.gradientMap = getTexture(json.gradientMap);\n            if (json.clearcoatMap !== undefined) material.clearcoatMap = getTexture(json.clearcoatMap);\n            if (json.clearcoatRoughnessMap !== undefined) material.clearcoatRoughnessMap = getTexture(json.clearcoatRoughnessMap);\n            if (json.clearcoatNormalMap !== undefined) material.clearcoatNormalMap = getTexture(json.clearcoatNormalMap);\n            if (json.clearcoatNormalScale !== undefined) material.clearcoatNormalScale = new Vector2().fromArray(json.clearcoatNormalScale);\n            if (json.transmission !== undefined) material.transmission = json.transmission;\n            if (json.transmissionMap !== undefined) material.transmissionMap = getTexture(json.transmissionMap);\n            return material;\n        };\n\n        _proto.setTextures = function setTextures(value) {\n            this.textures = value;\n            return this;\n        };\n\n        return MaterialLoader;\n    }(Loader);\n\n    var LoaderUtils = {\n        decodeText: function decodeText(array) {\n            if (typeof TextDecoder !== 'undefined') {\n                return new TextDecoder().decode(array);\n            } // Avoid the String.fromCharCode.apply(null, array) shortcut, which\n            // throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\n            var s = '';\n\n            for (var i = 0, il = array.length; i < il; i++) {\n                // Implicitly assumes little-endian.\n                s += String.fromCharCode(array[i]);\n            }\n\n            try {\n                // merges multi-byte utf-8 characters.\n                return decodeURIComponent(escape(s));\n            } catch (e) {\n                // see #16358\n                return s;\n            }\n        },\n        extractUrlBase: function extractUrlBase(url) {\n            var index = url.lastIndexOf('/');\n            if (index === -1) return './';\n            return url.substr(0, index + 1);\n        }\n    };\n\n    function InstancedBufferGeometry() {\n        BufferGeometry.call(this);\n        this.type = 'InstancedBufferGeometry';\n        this.instanceCount = Infinity;\n    }\n\n    InstancedBufferGeometry.prototype = Object.assign(Object.create(BufferGeometry.prototype), {\n        constructor: InstancedBufferGeometry,\n        isInstancedBufferGeometry: true,\n        copy: function copy(source) {\n            BufferGeometry.prototype.copy.call(this, source);\n            this.instanceCount = source.instanceCount;\n            return this;\n        },\n        clone: function clone() {\n            return new this.constructor().copy(this);\n        },\n        toJSON: function toJSON() {\n            var data = BufferGeometry.prototype.toJSON.call(this);\n            data.instanceCount = this.instanceCount;\n            data.isInstancedBufferGeometry = true;\n            return data;\n        }\n    });\n\n    function InstancedBufferAttribute(array, itemSize, normalized, meshPerAttribute) {\n        if (typeof normalized === 'number') {\n            meshPerAttribute = normalized;\n            normalized = false;\n            console.error('THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.');\n        }\n\n        BufferAttribute.call(this, array, itemSize, normalized);\n        this.meshPerAttribute = meshPerAttribute || 1;\n    }\n\n    InstancedBufferAttribute.prototype = Object.assign(Object.create(BufferAttribute.prototype), {\n        constructor: InstancedBufferAttribute,\n        isInstancedBufferAttribute: true,\n        copy: function copy(source) {\n            BufferAttribute.prototype.copy.call(this, source);\n            this.meshPerAttribute = source.meshPerAttribute;\n            return this;\n        },\n        toJSON: function toJSON() {\n            var data = BufferAttribute.prototype.toJSON.call(this);\n            data.meshPerAttribute = this.meshPerAttribute;\n            data.isInstancedBufferAttribute = true;\n            return data;\n        }\n    });\n\n    var BufferGeometryLoader = /*#__PURE__*/ function(_Loader) {\n        _inheritsLoose(BufferGeometryLoader, _Loader);\n\n        function BufferGeometryLoader(manager) {\n            return _Loader.call(this, manager) || this;\n        }\n\n        var _proto = BufferGeometryLoader.prototype;\n\n        _proto.load = function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var loader = new FileLoader(scope.manager);\n            loader.setPath(scope.path);\n            loader.setRequestHeader(scope.requestHeader);\n            loader.setWithCredentials(scope.withCredentials);\n            loader.load(url, function(text) {\n                try {\n                    onLoad(scope.parse(JSON.parse(text)));\n                } catch (e) {\n                    if (onError) {\n                        onError(e);\n                    } else {\n                        console.error(e);\n                    }\n\n                    scope.manager.itemError(url);\n                }\n            }, onProgress, onError);\n        };\n\n        _proto.parse = function parse(json) {\n            var interleavedBufferMap = {};\n            var arrayBufferMap = {};\n\n            function getInterleavedBuffer(json, uuid) {\n                if (interleavedBufferMap[uuid] !== undefined) return interleavedBufferMap[uuid];\n                var interleavedBuffers = json.interleavedBuffers;\n                var interleavedBuffer = interleavedBuffers[uuid];\n                var buffer = getArrayBuffer(json, interleavedBuffer.buffer);\n                var array = getTypedArray(interleavedBuffer.type, buffer);\n                var ib = new InterleavedBuffer(array, interleavedBuffer.stride);\n                ib.uuid = interleavedBuffer.uuid;\n                interleavedBufferMap[uuid] = ib;\n                return ib;\n            }\n\n            function getArrayBuffer(json, uuid) {\n                if (arrayBufferMap[uuid] !== undefined) return arrayBufferMap[uuid];\n                var arrayBuffers = json.arrayBuffers;\n                var arrayBuffer = arrayBuffers[uuid];\n                var ab = new Uint32Array(arrayBuffer).buffer;\n                arrayBufferMap[uuid] = ab;\n                return ab;\n            }\n\n            var geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n            var index = json.data.index;\n\n            if (index !== undefined) {\n                var typedArray = getTypedArray(index.type, index.array);\n                geometry.setIndex(new BufferAttribute(typedArray, 1));\n            }\n\n            var attributes = json.data.attributes;\n\n            for (var key in attributes) {\n                var attribute = attributes[key];\n                var bufferAttribute = void 0;\n\n                if (attribute.isInterleavedBufferAttribute) {\n                    var interleavedBuffer = getInterleavedBuffer(json.data, attribute.data);\n                    bufferAttribute = new InterleavedBufferAttribute(interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized);\n                } else {\n                    var _typedArray = getTypedArray(attribute.type, attribute.array);\n\n                    var bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n                    bufferAttribute = new bufferAttributeConstr(_typedArray, attribute.itemSize, attribute.normalized);\n                }\n\n                if (attribute.name !== undefined) bufferAttribute.name = attribute.name;\n                geometry.setAttribute(key, bufferAttribute);\n            }\n\n            var morphAttributes = json.data.morphAttributes;\n\n            if (morphAttributes) {\n                for (var _key in morphAttributes) {\n                    var attributeArray = morphAttributes[_key];\n                    var array = [];\n\n                    for (var i = 0, il = attributeArray.length; i < il; i++) {\n                        var _attribute = attributeArray[i];\n\n                        var _bufferAttribute = void 0;\n\n                        if (_attribute.isInterleavedBufferAttribute) {\n                            var _interleavedBuffer = getInterleavedBuffer(json.data, _attribute.data);\n\n                            _bufferAttribute = new InterleavedBufferAttribute(_interleavedBuffer, _attribute.itemSize, _attribute.offset, _attribute.normalized);\n                        } else {\n                            var _typedArray2 = getTypedArray(_attribute.type, _attribute.array);\n\n                            _bufferAttribute = new BufferAttribute(_typedArray2, _attribute.itemSize, _attribute.normalized);\n                        }\n\n                        if (_attribute.name !== undefined) _bufferAttribute.name = _attribute.name;\n                        array.push(_bufferAttribute);\n                    }\n\n                    geometry.morphAttributes[_key] = array;\n                }\n            }\n\n            var morphTargetsRelative = json.data.morphTargetsRelative;\n\n            if (morphTargetsRelative) {\n                geometry.morphTargetsRelative = true;\n            }\n\n            var groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n            if (groups !== undefined) {\n                for (var _i = 0, n = groups.length; _i !== n; ++_i) {\n                    var group = groups[_i];\n                    geometry.addGroup(group.start, group.count, group.materialIndex);\n                }\n            }\n\n            var boundingSphere = json.data.boundingSphere;\n\n            if (boundingSphere !== undefined) {\n                var center = new Vector3();\n\n                if (boundingSphere.center !== undefined) {\n                    center.fromArray(boundingSphere.center);\n                }\n\n                geometry.boundingSphere = new Sphere(center, boundingSphere.radius);\n            }\n\n            if (json.name) geometry.name = json.name;\n            if (json.userData) geometry.userData = json.userData;\n            return geometry;\n        };\n\n        return BufferGeometryLoader;\n    }(Loader);\n\n    var ObjectLoader = /*#__PURE__*/ function(_Loader) {\n        _inheritsLoose(ObjectLoader, _Loader);\n\n        function ObjectLoader(manager) {\n            return _Loader.call(this, manager) || this;\n        }\n\n        var _proto = ObjectLoader.prototype;\n\n        _proto.load = function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var path = this.path === '' ? LoaderUtils.extractUrlBase(url) : this.path;\n            this.resourcePath = this.resourcePath || path;\n            var loader = new FileLoader(this.manager);\n            loader.setPath(this.path);\n            loader.setRequestHeader(this.requestHeader);\n            loader.setWithCredentials(this.withCredentials);\n            loader.load(url, function(text) {\n                var json = null;\n\n                try {\n                    json = JSON.parse(text);\n                } catch (error) {\n                    if (onError !== undefined) onError(error);\n                    console.error('THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message);\n                    return;\n                }\n\n                var metadata = json.metadata;\n\n                if (metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry') {\n                    console.error('THREE.ObjectLoader: Can\\'t load ' + url);\n                    return;\n                }\n\n                scope.parse(json, onLoad);\n            }, onProgress, onError);\n        };\n\n        _proto.parse = function parse(json, onLoad) {\n            var animations = this.parseAnimations(json.animations);\n            var shapes = this.parseShapes(json.shapes);\n            var geometries = this.parseGeometries(json.geometries, shapes);\n            var images = this.parseImages(json.images, function() {\n                if (onLoad !== undefined) onLoad(object);\n            });\n            var textures = this.parseTextures(json.textures, images);\n            var materials = this.parseMaterials(json.materials, textures);\n            var object = this.parseObject(json.object, geometries, materials, animations);\n            var skeletons = this.parseSkeletons(json.skeletons, object);\n            this.bindSkeletons(object, skeletons); //\n\n            if (onLoad !== undefined) {\n                var hasImages = false;\n\n                for (var uuid in images) {\n                    if (images[uuid] instanceof HTMLImageElement) {\n                        hasImages = true;\n                        break;\n                    }\n                }\n\n                if (hasImages === false) onLoad(object);\n            }\n\n            return object;\n        };\n\n        _proto.parseShapes = function parseShapes(json) {\n            var shapes = {};\n\n            if (json !== undefined) {\n                for (var i = 0, l = json.length; i < l; i++) {\n                    var shape = new Shape().fromJSON(json[i]);\n                    shapes[shape.uuid] = shape;\n                }\n            }\n\n            return shapes;\n        };\n\n        _proto.parseSkeletons = function parseSkeletons(json, object) {\n            var skeletons = {};\n            var bones = {}; // generate bone lookup table\n\n            object.traverse(function(child) {\n                if (child.isBone) bones[child.uuid] = child;\n            }); // create skeletons\n\n            if (json !== undefined) {\n                for (var i = 0, l = json.length; i < l; i++) {\n                    var skeleton = new Skeleton().fromJSON(json[i], bones);\n                    skeletons[skeleton.uuid] = skeleton;\n                }\n            }\n\n            return skeletons;\n        };\n\n        _proto.parseGeometries = function parseGeometries(json, shapes) {\n            var geometries = {};\n            var geometryShapes;\n\n            if (json !== undefined) {\n                var bufferGeometryLoader = new BufferGeometryLoader();\n\n                for (var i = 0, l = json.length; i < l; i++) {\n                    var geometry = void 0;\n                    var data = json[i];\n\n                    switch (data.type) {\n                        case 'PlaneGeometry':\n                        case 'PlaneBufferGeometry':\n                            geometry = new Geometries[data.type](data.width, data.height, data.widthSegments, data.heightSegments);\n                            break;\n\n                        case 'BoxGeometry':\n                        case 'BoxBufferGeometry':\n                            geometry = new Geometries[data.type](data.width, data.height, data.depth, data.widthSegments, data.heightSegments, data.depthSegments);\n                            break;\n\n                        case 'CircleGeometry':\n                        case 'CircleBufferGeometry':\n                            geometry = new Geometries[data.type](data.radius, data.segments, data.thetaStart, data.thetaLength);\n                            break;\n\n                        case 'CylinderGeometry':\n                        case 'CylinderBufferGeometry':\n                            geometry = new Geometries[data.type](data.radiusTop, data.radiusBottom, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);\n                            break;\n\n                        case 'ConeGeometry':\n                        case 'ConeBufferGeometry':\n                            geometry = new Geometries[data.type](data.radius, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength);\n                            break;\n\n                        case 'SphereGeometry':\n                        case 'SphereBufferGeometry':\n                            geometry = new Geometries[data.type](data.radius, data.widthSegments, data.heightSegments, data.phiStart, data.phiLength, data.thetaStart, data.thetaLength);\n                            break;\n\n                        case 'DodecahedronGeometry':\n                        case 'DodecahedronBufferGeometry':\n                        case 'IcosahedronGeometry':\n                        case 'IcosahedronBufferGeometry':\n                        case 'OctahedronGeometry':\n                        case 'OctahedronBufferGeometry':\n                        case 'TetrahedronGeometry':\n                        case 'TetrahedronBufferGeometry':\n                            geometry = new Geometries[data.type](data.radius, data.detail);\n                            break;\n\n                        case 'RingGeometry':\n                        case 'RingBufferGeometry':\n                            geometry = new Geometries[data.type](data.innerRadius, data.outerRadius, data.thetaSegments, data.phiSegments, data.thetaStart, data.thetaLength);\n                            break;\n\n                        case 'TorusGeometry':\n                        case 'TorusBufferGeometry':\n                            geometry = new Geometries[data.type](data.radius, data.tube, data.radialSegments, data.tubularSegments, data.arc);\n                            break;\n\n                        case 'TorusKnotGeometry':\n                        case 'TorusKnotBufferGeometry':\n                            geometry = new Geometries[data.type](data.radius, data.tube, data.tubularSegments, data.radialSegments, data.p, data.q);\n                            break;\n\n                        case 'TubeGeometry':\n                        case 'TubeBufferGeometry':\n                            // This only works for built-in curves (e.g. CatmullRomCurve3).\n                            // User defined curves or instances of CurvePath will not be deserialized.\n                            geometry = new Geometries[data.type](new Curves[data.path.type]().fromJSON(data.path), data.tubularSegments, data.radius, data.radialSegments, data.closed);\n                            break;\n\n                        case 'LatheGeometry':\n                        case 'LatheBufferGeometry':\n                            geometry = new Geometries[data.type](data.points, data.segments, data.phiStart, data.phiLength);\n                            break;\n\n                        case 'PolyhedronGeometry':\n                        case 'PolyhedronBufferGeometry':\n                            geometry = new Geometries[data.type](data.vertices, data.indices, data.radius, data.details);\n                            break;\n\n                        case 'ShapeGeometry':\n                        case 'ShapeBufferGeometry':\n                            geometryShapes = [];\n\n                            for (var j = 0, jl = data.shapes.length; j < jl; j++) {\n                                var shape = shapes[data.shapes[j]];\n                                geometryShapes.push(shape);\n                            }\n\n                            geometry = new Geometries[data.type](geometryShapes, data.curveSegments);\n                            break;\n\n                        case 'ExtrudeGeometry':\n                        case 'ExtrudeBufferGeometry':\n                            geometryShapes = [];\n\n                            for (var _j = 0, _jl = data.shapes.length; _j < _jl; _j++) {\n                                var _shape = shapes[data.shapes[_j]];\n                                geometryShapes.push(_shape);\n                            }\n\n                            var extrudePath = data.options.extrudePath;\n\n                            if (extrudePath !== undefined) {\n                                data.options.extrudePath = new Curves[extrudePath.type]().fromJSON(extrudePath);\n                            }\n\n                            geometry = new Geometries[data.type](geometryShapes, data.options);\n                            break;\n\n                        case 'BufferGeometry':\n                        case 'InstancedBufferGeometry':\n                            geometry = bufferGeometryLoader.parse(data);\n                            break;\n\n                        case 'Geometry':\n                            console.error('THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.');\n                            break;\n\n                        default:\n                            console.warn('THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"');\n                            continue;\n                    }\n\n                    geometry.uuid = data.uuid;\n                    if (data.name !== undefined) geometry.name = data.name;\n                    if (geometry.isBufferGeometry === true && data.userData !== undefined) geometry.userData = data.userData;\n                    geometries[data.uuid] = geometry;\n                }\n            }\n\n            return geometries;\n        };\n\n        _proto.parseMaterials = function parseMaterials(json, textures) {\n            var cache = {}; // MultiMaterial\n\n            var materials = {};\n\n            if (json !== undefined) {\n                var loader = new MaterialLoader();\n                loader.setTextures(textures);\n\n                for (var i = 0, l = json.length; i < l; i++) {\n                    var data = json[i];\n\n                    if (data.type === 'MultiMaterial') {\n                        // Deprecated\n                        var array = [];\n\n                        for (var j = 0; j < data.materials.length; j++) {\n                            var material = data.materials[j];\n\n                            if (cache[material.uuid] === undefined) {\n                                cache[material.uuid] = loader.parse(material);\n                            }\n\n                            array.push(cache[material.uuid]);\n                        }\n\n                        materials[data.uuid] = array;\n                    } else {\n                        if (cache[data.uuid] === undefined) {\n                            cache[data.uuid] = loader.parse(data);\n                        }\n\n                        materials[data.uuid] = cache[data.uuid];\n                    }\n                }\n            }\n\n            return materials;\n        };\n\n        _proto.parseAnimations = function parseAnimations(json) {\n            var animations = {};\n\n            if (json !== undefined) {\n                for (var i = 0; i < json.length; i++) {\n                    var data = json[i];\n                    var clip = AnimationClip.parse(data);\n                    animations[clip.uuid] = clip;\n                }\n            }\n\n            return animations;\n        };\n\n        _proto.parseImages = function parseImages(json, onLoad) {\n            var scope = this;\n            var images = {};\n            var loader;\n\n            function loadImage(url) {\n                scope.manager.itemStart(url);\n                return loader.load(url, function() {\n                    scope.manager.itemEnd(url);\n                }, undefined, function() {\n                    scope.manager.itemError(url);\n                    scope.manager.itemEnd(url);\n                });\n            }\n\n            function deserializeImage(image) {\n                if (typeof image === 'string') {\n                    var url = image;\n                    var path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test(url) ? url : scope.resourcePath + url;\n                    return loadImage(path);\n                } else {\n                    if (image.data) {\n                        return {\n                            data: getTypedArray(image.type, image.data),\n                            width: image.width,\n                            height: image.height\n                        };\n                    } else {\n                        return null;\n                    }\n                }\n            }\n\n            if (json !== undefined && json.length > 0) {\n                var manager = new LoadingManager(onLoad);\n                loader = new ImageLoader(manager);\n                loader.setCrossOrigin(this.crossOrigin);\n\n                for (var i = 0, il = json.length; i < il; i++) {\n                    var image = json[i];\n                    var url = image.url;\n\n                    if (Array.isArray(url)) {\n                        // load array of images e.g CubeTexture\n                        images[image.uuid] = [];\n\n                        for (var j = 0, jl = url.length; j < jl; j++) {\n                            var currentUrl = url[j];\n                            var deserializedImage = deserializeImage(currentUrl);\n\n                            if (deserializedImage !== null) {\n                                if (deserializedImage instanceof HTMLImageElement) {\n                                    images[image.uuid].push(deserializedImage);\n                                } else {\n                                    // special case: handle array of data textures for cube textures\n                                    images[image.uuid].push(new DataTexture(deserializedImage.data, deserializedImage.width, deserializedImage.height));\n                                }\n                            }\n                        }\n                    } else {\n                        // load single image\n                        var _deserializedImage = deserializeImage(image.url);\n\n                        if (_deserializedImage !== null) {\n                            images[image.uuid] = _deserializedImage;\n                        }\n                    }\n                }\n            }\n\n            return images;\n        };\n\n        _proto.parseTextures = function parseTextures(json, images) {\n            function parseConstant(value, type) {\n                if (typeof value === 'number') return value;\n                console.warn('THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value);\n                return type[value];\n            }\n\n            var textures = {};\n\n            if (json !== undefined) {\n                for (var i = 0, l = json.length; i < l; i++) {\n                    var data = json[i];\n\n                    if (data.image === undefined) {\n                        console.warn('THREE.ObjectLoader: No \"image\" specified for', data.uuid);\n                    }\n\n                    if (images[data.image] === undefined) {\n                        console.warn('THREE.ObjectLoader: Undefined image', data.image);\n                    }\n\n                    var texture = void 0;\n                    var image = images[data.image];\n\n                    if (Array.isArray(image)) {\n                        texture = new CubeTexture(image);\n                        if (image.length === 6) texture.needsUpdate = true;\n                    } else {\n                        if (image && image.data) {\n                            texture = new DataTexture(image.data, image.width, image.height);\n                        } else {\n                            texture = new Texture(image);\n                        }\n\n                        if (image) texture.needsUpdate = true; // textures can have undefined image data\n                    }\n\n                    texture.uuid = data.uuid;\n                    if (data.name !== undefined) texture.name = data.name;\n                    if (data.mapping !== undefined) texture.mapping = parseConstant(data.mapping, TEXTURE_MAPPING);\n                    if (data.offset !== undefined) texture.offset.fromArray(data.offset);\n                    if (data.repeat !== undefined) texture.repeat.fromArray(data.repeat);\n                    if (data.center !== undefined) texture.center.fromArray(data.center);\n                    if (data.rotation !== undefined) texture.rotation = data.rotation;\n\n                    if (data.wrap !== undefined) {\n                        texture.wrapS = parseConstant(data.wrap[0], TEXTURE_WRAPPING);\n                        texture.wrapT = parseConstant(data.wrap[1], TEXTURE_WRAPPING);\n                    }\n\n                    if (data.format !== undefined) texture.format = data.format;\n                    if (data.type !== undefined) texture.type = data.type;\n                    if (data.encoding !== undefined) texture.encoding = data.encoding;\n                    if (data.minFilter !== undefined) texture.minFilter = parseConstant(data.minFilter, TEXTURE_FILTER);\n                    if (data.magFilter !== undefined) texture.magFilter = parseConstant(data.magFilter, TEXTURE_FILTER);\n                    if (data.anisotropy !== undefined) texture.anisotropy = data.anisotropy;\n                    if (data.flipY !== undefined) texture.flipY = data.flipY;\n                    if (data.premultiplyAlpha !== undefined) texture.premultiplyAlpha = data.premultiplyAlpha;\n                    if (data.unpackAlignment !== undefined) texture.unpackAlignment = data.unpackAlignment;\n                    textures[data.uuid] = texture;\n                }\n            }\n\n            return textures;\n        };\n\n        _proto.parseObject = function parseObject(data, geometries, materials, animations) {\n            var object;\n\n            function getGeometry(name) {\n                if (geometries[name] === undefined) {\n                    console.warn('THREE.ObjectLoader: Undefined geometry', name);\n                }\n\n                return geometries[name];\n            }\n\n            function getMaterial(name) {\n                if (name === undefined) return undefined;\n\n                if (Array.isArray(name)) {\n                    var array = [];\n\n                    for (var i = 0, l = name.length; i < l; i++) {\n                        var uuid = name[i];\n\n                        if (materials[uuid] === undefined) {\n                            console.warn('THREE.ObjectLoader: Undefined material', uuid);\n                        }\n\n                        array.push(materials[uuid]);\n                    }\n\n                    return array;\n                }\n\n                if (materials[name] === undefined) {\n                    console.warn('THREE.ObjectLoader: Undefined material', name);\n                }\n\n                return materials[name];\n            }\n\n            var geometry, material;\n\n            switch (data.type) {\n                case 'Scene':\n                    object = new Scene();\n\n                    if (data.background !== undefined) {\n                        if (Number.isInteger(data.background)) {\n                            object.background = new Color(data.background);\n                        }\n                    }\n\n                    if (data.fog !== undefined) {\n                        if (data.fog.type === 'Fog') {\n                            object.fog = new Fog(data.fog.color, data.fog.near, data.fog.far);\n                        } else if (data.fog.type === 'FogExp2') {\n                            object.fog = new FogExp2(data.fog.color, data.fog.density);\n                        }\n                    }\n\n                    break;\n\n                case 'PerspectiveCamera':\n                    object = new PerspectiveCamera(data.fov, data.aspect, data.near, data.far);\n                    if (data.focus !== undefined) object.focus = data.focus;\n                    if (data.zoom !== undefined) object.zoom = data.zoom;\n                    if (data.filmGauge !== undefined) object.filmGauge = data.filmGauge;\n                    if (data.filmOffset !== undefined) object.filmOffset = data.filmOffset;\n                    if (data.view !== undefined) object.view = Object.assign({}, data.view);\n                    break;\n\n                case 'OrthographicCamera':\n                    object = new OrthographicCamera(data.left, data.right, data.top, data.bottom, data.near, data.far);\n                    if (data.zoom !== undefined) object.zoom = data.zoom;\n                    if (data.view !== undefined) object.view = Object.assign({}, data.view);\n                    break;\n\n                case 'AmbientLight':\n                    object = new AmbientLight(data.color, data.intensity);\n                    break;\n\n                case 'DirectionalLight':\n                    object = new DirectionalLight(data.color, data.intensity);\n                    break;\n\n                case 'PointLight':\n                    object = new PointLight(data.color, data.intensity, data.distance, data.decay);\n                    break;\n\n                case 'RectAreaLight':\n                    object = new RectAreaLight(data.color, data.intensity, data.width, data.height);\n                    break;\n\n                case 'SpotLight':\n                    object = new SpotLight(data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay);\n                    break;\n\n                case 'HemisphereLight':\n                    object = new HemisphereLight(data.color, data.groundColor, data.intensity);\n                    break;\n\n                case 'LightProbe':\n                    object = new LightProbe().fromJSON(data);\n                    break;\n\n                case 'SkinnedMesh':\n                    geometry = getGeometry(data.geometry);\n                    material = getMaterial(data.material);\n                    object = new SkinnedMesh(geometry, material);\n                    if (data.bindMode !== undefined) object.bindMode = data.bindMode;\n                    if (data.bindMatrix !== undefined) object.bindMatrix.fromArray(data.bindMatrix);\n                    if (data.skeleton !== undefined) object.skeleton = data.skeleton;\n                    break;\n\n                case 'Mesh':\n                    geometry = getGeometry(data.geometry);\n                    material = getMaterial(data.material);\n                    object = new Mesh(geometry, material);\n                    break;\n\n                case 'InstancedMesh':\n                    geometry = getGeometry(data.geometry);\n                    material = getMaterial(data.material);\n                    var count = data.count;\n                    var instanceMatrix = data.instanceMatrix;\n                    object = new InstancedMesh(geometry, material, count);\n                    object.instanceMatrix = new BufferAttribute(new Float32Array(instanceMatrix.array), 16);\n                    break;\n\n                case 'LOD':\n                    object = new LOD();\n                    break;\n\n                case 'Line':\n                    object = new Line(getGeometry(data.geometry), getMaterial(data.material));\n                    break;\n\n                case 'LineLoop':\n                    object = new LineLoop(getGeometry(data.geometry), getMaterial(data.material));\n                    break;\n\n                case 'LineSegments':\n                    object = new LineSegments(getGeometry(data.geometry), getMaterial(data.material));\n                    break;\n\n                case 'PointCloud':\n                case 'Points':\n                    object = new Points(getGeometry(data.geometry), getMaterial(data.material));\n                    break;\n\n                case 'Sprite':\n                    object = new Sprite(getMaterial(data.material));\n                    break;\n\n                case 'Group':\n                    object = new Group();\n                    break;\n\n                case 'Bone':\n                    object = new Bone();\n                    break;\n\n                default:\n                    object = new Object3D();\n            }\n\n            object.uuid = data.uuid;\n            if (data.name !== undefined) object.name = data.name;\n\n            if (data.matrix !== undefined) {\n                object.matrix.fromArray(data.matrix);\n                if (data.matrixAutoUpdate !== undefined) object.matrixAutoUpdate = data.matrixAutoUpdate;\n                if (object.matrixAutoUpdate) object.matrix.decompose(object.position, object.quaternion, object.scale);\n            } else {\n                if (data.position !== undefined) object.position.fromArray(data.position);\n                if (data.rotation !== undefined) object.rotation.fromArray(data.rotation);\n                if (data.quaternion !== undefined) object.quaternion.fromArray(data.quaternion);\n                if (data.scale !== undefined) object.scale.fromArray(data.scale);\n            }\n\n            if (data.castShadow !== undefined) object.castShadow = data.castShadow;\n            if (data.receiveShadow !== undefined) object.receiveShadow = data.receiveShadow;\n\n            if (data.shadow) {\n                if (data.shadow.bias !== undefined) object.shadow.bias = data.shadow.bias;\n                if (data.shadow.normalBias !== undefined) object.shadow.normalBias = data.shadow.normalBias;\n                if (data.shadow.radius !== undefined) object.shadow.radius = data.shadow.radius;\n                if (data.shadow.mapSize !== undefined) object.shadow.mapSize.fromArray(data.shadow.mapSize);\n                if (data.shadow.camera !== undefined) object.shadow.camera = this.parseObject(data.shadow.camera);\n            }\n\n            if (data.visible !== undefined) object.visible = data.visible;\n            if (data.frustumCulled !== undefined) object.frustumCulled = data.frustumCulled;\n            if (data.renderOrder !== undefined) object.renderOrder = data.renderOrder;\n            if (data.userData !== undefined) object.userData = data.userData;\n            if (data.layers !== undefined) object.layers.mask = data.layers;\n\n            if (data.children !== undefined) {\n                var children = data.children;\n\n                for (var i = 0; i < children.length; i++) {\n                    object.add(this.parseObject(children[i], geometries, materials, animations));\n                }\n            }\n\n            if (data.animations !== undefined) {\n                var objectAnimations = data.animations;\n\n                for (var _i = 0; _i < objectAnimations.length; _i++) {\n                    var uuid = objectAnimations[_i];\n                    object.animations.push(animations[uuid]);\n                }\n            }\n\n            if (data.type === 'LOD') {\n                if (data.autoUpdate !== undefined) object.autoUpdate = data.autoUpdate;\n                var levels = data.levels;\n\n                for (var l = 0; l < levels.length; l++) {\n                    var level = levels[l];\n                    var child = object.getObjectByProperty('uuid', level.object);\n\n                    if (child !== undefined) {\n                        object.addLevel(child, level.distance);\n                    }\n                }\n            }\n\n            return object;\n        };\n\n        _proto.bindSkeletons = function bindSkeletons(object, skeletons) {\n                if (Object.keys(skeletons).length === 0) return;\n                object.traverse(function(child) {\n                    if (child.isSkinnedMesh === true && child.skeleton !== undefined) {\n                        var skeleton = skeletons[child.skeleton];\n\n                        if (skeleton === undefined) {\n                            console.warn('THREE.ObjectLoader: No skeleton found with UUID:', child.skeleton);\n                        } else {\n                            child.bind(skeleton, child.bindMatrix);\n                        }\n                    }\n                });\n            }\n            /* DEPRECATED */\n        ;\n\n        _proto.setTexturePath = function setTexturePath(value) {\n            console.warn('THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().');\n            return this.setResourcePath(value);\n        };\n\n        return ObjectLoader;\n    }(Loader);\n\n    var TEXTURE_MAPPING = {\n        UVMapping: UVMapping,\n        CubeReflectionMapping: CubeReflectionMapping,\n        CubeRefractionMapping: CubeRefractionMapping,\n        EquirectangularReflectionMapping: EquirectangularReflectionMapping,\n        EquirectangularRefractionMapping: EquirectangularRefractionMapping,\n        CubeUVReflectionMapping: CubeUVReflectionMapping,\n        CubeUVRefractionMapping: CubeUVRefractionMapping\n    };\n    var TEXTURE_WRAPPING = {\n        RepeatWrapping: RepeatWrapping,\n        ClampToEdgeWrapping: ClampToEdgeWrapping,\n        MirroredRepeatWrapping: MirroredRepeatWrapping\n    };\n    var TEXTURE_FILTER = {\n        NearestFilter: NearestFilter,\n        NearestMipmapNearestFilter: NearestMipmapNearestFilter,\n        NearestMipmapLinearFilter: NearestMipmapLinearFilter,\n        LinearFilter: LinearFilter,\n        LinearMipmapNearestFilter: LinearMipmapNearestFilter,\n        LinearMipmapLinearFilter: LinearMipmapLinearFilter\n    };\n\n    function ImageBitmapLoader(manager) {\n        if (typeof createImageBitmap === 'undefined') {\n            console.warn('THREE.ImageBitmapLoader: createImageBitmap() not supported.');\n        }\n\n        if (typeof fetch === 'undefined') {\n            console.warn('THREE.ImageBitmapLoader: fetch() not supported.');\n        }\n\n        Loader.call(this, manager);\n        this.options = {\n            premultiplyAlpha: 'none'\n        };\n    }\n\n    ImageBitmapLoader.prototype = Object.assign(Object.create(Loader.prototype), {\n        constructor: ImageBitmapLoader,\n        isImageBitmapLoader: true,\n        setOptions: function setOptions(options) {\n            this.options = options;\n            return this;\n        },\n        load: function load(url, onLoad, onProgress, onError) {\n            if (url === undefined) url = '';\n            if (this.path !== undefined) url = this.path + url;\n            url = this.manager.resolveURL(url);\n            var scope = this;\n            var cached = Cache.get(url);\n\n            if (cached !== undefined) {\n                scope.manager.itemStart(url);\n                setTimeout(function() {\n                    if (onLoad) onLoad(cached);\n                    scope.manager.itemEnd(url);\n                }, 0);\n                return cached;\n            }\n\n            var fetchOptions = {};\n            fetchOptions.credentials = this.crossOrigin === 'anonymous' ? 'same-origin' : 'include';\n            fetchOptions.headers = this.requestHeader;\n            fetch(url, fetchOptions).then(function(res) {\n                return res.blob();\n            }).then(function(blob) {\n                return createImageBitmap(blob, Object.assign(scope.options, {\n                    colorSpaceConversion: 'none'\n                }));\n            }).then(function(imageBitmap) {\n                Cache.add(url, imageBitmap);\n                if (onLoad) onLoad(imageBitmap);\n                scope.manager.itemEnd(url);\n            }).catch(function(e) {\n                if (onError) onError(e);\n                scope.manager.itemError(url);\n                scope.manager.itemEnd(url);\n            });\n            scope.manager.itemStart(url);\n        }\n    });\n\n    var ShapePath = /*#__PURE__*/ function() {\n        function ShapePath() {\n            this.type = 'ShapePath';\n            this.color = new Color();\n            this.subPaths = [];\n            this.currentPath = null;\n        }\n\n        var _proto = ShapePath.prototype;\n\n        _proto.moveTo = function moveTo(x, y) {\n            this.currentPath = new Path();\n            this.subPaths.push(this.currentPath);\n            this.currentPath.moveTo(x, y);\n            return this;\n        };\n\n        _proto.lineTo = function lineTo(x, y) {\n            this.currentPath.lineTo(x, y);\n            return this;\n        };\n\n        _proto.quadraticCurveTo = function quadraticCurveTo(aCPx, aCPy, aX, aY) {\n            this.currentPath.quadraticCurveTo(aCPx, aCPy, aX, aY);\n            return this;\n        };\n\n        _proto.bezierCurveTo = function bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY) {\n            this.currentPath.bezierCurveTo(aCP1x, aCP1y, aCP2x, aCP2y, aX, aY);\n            return this;\n        };\n\n        _proto.splineThru = function splineThru(pts) {\n            this.currentPath.splineThru(pts);\n            return this;\n        };\n\n        _proto.toShapes = function toShapes(isCCW, noHoles) {\n            function toShapesNoHoles(inSubpaths) {\n                var shapes = [];\n\n                for (var i = 0, l = inSubpaths.length; i < l; i++) {\n                    var _tmpPath = inSubpaths[i];\n\n                    var _tmpShape = new Shape();\n\n                    _tmpShape.curves = _tmpPath.curves;\n                    shapes.push(_tmpShape);\n                }\n\n                return shapes;\n            }\n\n            function isPointInsidePolygon(inPt, inPolygon) {\n                var polyLen = inPolygon.length; // inPt on polygon contour => immediate success\t\tor\n                // toggling of inside/outside at every single! intersection point of an edge\n                //\twith the horizontal line through inPt, left of inPt\n                //\tnot counting lowerY endpoints of edges and whole edges on that line\n\n                var inside = false;\n\n                for (var p = polyLen - 1, q = 0; q < polyLen; p = q++) {\n                    var edgeLowPt = inPolygon[p];\n                    var edgeHighPt = inPolygon[q];\n                    var edgeDx = edgeHighPt.x - edgeLowPt.x;\n                    var edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n                    if (Math.abs(edgeDy) > Number.EPSILON) {\n                        // not parallel\n                        if (edgeDy < 0) {\n                            edgeLowPt = inPolygon[q];\n                            edgeDx = -edgeDx;\n                            edgeHighPt = inPolygon[p];\n                            edgeDy = -edgeDy;\n                        }\n\n                        if (inPt.y < edgeLowPt.y || inPt.y > edgeHighPt.y) continue;\n\n                        if (inPt.y === edgeLowPt.y) {\n                            if (inPt.x === edgeLowPt.x) return true; // inPt is on contour ?\n                            // continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n                        } else {\n                            var perpEdge = edgeDy * (inPt.x - edgeLowPt.x) - edgeDx * (inPt.y - edgeLowPt.y);\n                            if (perpEdge === 0) return true; // inPt is on contour ?\n\n                            if (perpEdge < 0) continue;\n                            inside = !inside; // true intersection left of inPt\n                        }\n                    } else {\n                        // parallel or collinear\n                        if (inPt.y !== edgeLowPt.y) continue; // parallel\n                        // edge lies on the same horizontal line as inPt\n\n                        if (edgeHighPt.x <= inPt.x && inPt.x <= edgeLowPt.x || edgeLowPt.x <= inPt.x && inPt.x <= edgeHighPt.x) return true; // inPt: Point on contour !\n                        // continue;\n                    }\n                }\n\n                return inside;\n            }\n\n            var isClockWise = ShapeUtils.isClockWise;\n            var subPaths = this.subPaths;\n            if (subPaths.length === 0) return [];\n            if (noHoles === true) return toShapesNoHoles(subPaths);\n            var solid, tmpPath, tmpShape;\n            var shapes = [];\n\n            if (subPaths.length === 1) {\n                tmpPath = subPaths[0];\n                tmpShape = new Shape();\n                tmpShape.curves = tmpPath.curves;\n                shapes.push(tmpShape);\n                return shapes;\n            }\n\n            var holesFirst = !isClockWise(subPaths[0].getPoints());\n            holesFirst = isCCW ? !holesFirst : holesFirst; // console.log(\"Holes first\", holesFirst);\n\n            var betterShapeHoles = [];\n            var newShapes = [];\n            var newShapeHoles = [];\n            var mainIdx = 0;\n            var tmpPoints;\n            newShapes[mainIdx] = undefined;\n            newShapeHoles[mainIdx] = [];\n\n            for (var i = 0, l = subPaths.length; i < l; i++) {\n                tmpPath = subPaths[i];\n                tmpPoints = tmpPath.getPoints();\n                solid = isClockWise(tmpPoints);\n                solid = isCCW ? !solid : solid;\n\n                if (solid) {\n                    if (!holesFirst && newShapes[mainIdx]) mainIdx++;\n                    newShapes[mainIdx] = {\n                        s: new Shape(),\n                        p: tmpPoints\n                    };\n                    newShapes[mainIdx].s.curves = tmpPath.curves;\n                    if (holesFirst) mainIdx++;\n                    newShapeHoles[mainIdx] = []; //console.log('cw', i);\n                } else {\n                    newShapeHoles[mainIdx].push({\n                        h: tmpPath,\n                        p: tmpPoints[0]\n                    }); //console.log('ccw', i);\n                }\n            } // only Holes? -> probably all Shapes with wrong orientation\n\n\n            if (!newShapes[0]) return toShapesNoHoles(subPaths);\n\n            if (newShapes.length > 1) {\n                var ambiguous = false;\n                var toChange = [];\n\n                for (var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx++) {\n                    betterShapeHoles[sIdx] = [];\n                }\n\n                for (var _sIdx = 0, _sLen = newShapes.length; _sIdx < _sLen; _sIdx++) {\n                    var sho = newShapeHoles[_sIdx];\n\n                    for (var hIdx = 0; hIdx < sho.length; hIdx++) {\n                        var ho = sho[hIdx];\n                        var hole_unassigned = true;\n\n                        for (var s2Idx = 0; s2Idx < newShapes.length; s2Idx++) {\n                            if (isPointInsidePolygon(ho.p, newShapes[s2Idx].p)) {\n                                if (_sIdx !== s2Idx) toChange.push({\n                                    froms: _sIdx,\n                                    tos: s2Idx,\n                                    hole: hIdx\n                                });\n\n                                if (hole_unassigned) {\n                                    hole_unassigned = false;\n                                    betterShapeHoles[s2Idx].push(ho);\n                                } else {\n                                    ambiguous = true;\n                                }\n                            }\n                        }\n\n                        if (hole_unassigned) {\n                            betterShapeHoles[_sIdx].push(ho);\n                        }\n                    }\n                } // console.log(\"ambiguous: \", ambiguous);\n\n\n                if (toChange.length > 0) {\n                    // console.log(\"to change: \", toChange);\n                    if (!ambiguous) newShapeHoles = betterShapeHoles;\n                }\n            }\n\n            var tmpHoles;\n\n            for (var _i = 0, il = newShapes.length; _i < il; _i++) {\n                tmpShape = newShapes[_i].s;\n                shapes.push(tmpShape);\n                tmpHoles = newShapeHoles[_i];\n\n                for (var j = 0, jl = tmpHoles.length; j < jl; j++) {\n                    tmpShape.holes.push(tmpHoles[j].h);\n                }\n            } //console.log(\"shape\", shapes);\n\n\n            return shapes;\n        };\n\n        return ShapePath;\n    }();\n\n    var Font = /*#__PURE__*/ function() {\n        function Font(data) {\n            this.type = 'Font';\n            this.data = data;\n        }\n\n        var _proto = Font.prototype;\n\n        _proto.generateShapes = function generateShapes(text, size) {\n            if (size === void 0) {\n                size = 100;\n            }\n\n            var shapes = [];\n            var paths = createPaths(text, size, this.data);\n\n            for (var p = 0, pl = paths.length; p < pl; p++) {\n                Array.prototype.push.apply(shapes, paths[p].toShapes());\n            }\n\n            return shapes;\n        };\n\n        return Font;\n    }();\n\n    function createPaths(text, size, data) {\n        var chars = Array.from(text);\n        var scale = size / data.resolution;\n        var line_height = (data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness) * scale;\n        var paths = [];\n        var offsetX = 0,\n            offsetY = 0;\n\n        for (var i = 0; i < chars.length; i++) {\n            var char = chars[i];\n\n            if (char === '\\n') {\n                offsetX = 0;\n                offsetY -= line_height;\n            } else {\n                var ret = createPath(char, scale, offsetX, offsetY, data);\n                offsetX += ret.offsetX;\n                paths.push(ret.path);\n            }\n        }\n\n        return paths;\n    }\n\n    function createPath(char, scale, offsetX, offsetY, data) {\n        var glyph = data.glyphs[char] || data.glyphs['?'];\n\n        if (!glyph) {\n            console.error('THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.');\n            return;\n        }\n\n        var path = new ShapePath();\n        var x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n        if (glyph.o) {\n            var outline = glyph._cachedOutline || (glyph._cachedOutline = glyph.o.split(' '));\n\n            for (var i = 0, l = outline.length; i < l;) {\n                var action = outline[i++];\n\n                switch (action) {\n                    case 'm':\n                        // moveTo\n                        x = outline[i++] * scale + offsetX;\n                        y = outline[i++] * scale + offsetY;\n                        path.moveTo(x, y);\n                        break;\n\n                    case 'l':\n                        // lineTo\n                        x = outline[i++] * scale + offsetX;\n                        y = outline[i++] * scale + offsetY;\n                        path.lineTo(x, y);\n                        break;\n\n                    case 'q':\n                        // quadraticCurveTo\n                        cpx = outline[i++] * scale + offsetX;\n                        cpy = outline[i++] * scale + offsetY;\n                        cpx1 = outline[i++] * scale + offsetX;\n                        cpy1 = outline[i++] * scale + offsetY;\n                        path.quadraticCurveTo(cpx1, cpy1, cpx, cpy);\n                        break;\n\n                    case 'b':\n                        // bezierCurveTo\n                        cpx = outline[i++] * scale + offsetX;\n                        cpy = outline[i++] * scale + offsetY;\n                        cpx1 = outline[i++] * scale + offsetX;\n                        cpy1 = outline[i++] * scale + offsetY;\n                        cpx2 = outline[i++] * scale + offsetX;\n                        cpy2 = outline[i++] * scale + offsetY;\n                        path.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, cpx, cpy);\n                        break;\n                }\n            }\n        }\n\n        return {\n            offsetX: glyph.ha * scale,\n            path: path\n        };\n    }\n\n    Font.prototype.isFont = true;\n\n    var FontLoader = /*#__PURE__*/ function(_Loader) {\n        _inheritsLoose(FontLoader, _Loader);\n\n        function FontLoader(manager) {\n            return _Loader.call(this, manager) || this;\n        }\n\n        var _proto = FontLoader.prototype;\n\n        _proto.load = function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var loader = new FileLoader(this.manager);\n            loader.setPath(this.path);\n            loader.setRequestHeader(this.requestHeader);\n            loader.setWithCredentials(scope.withCredentials);\n            loader.load(url, function(text) {\n                var json;\n\n                try {\n                    json = JSON.parse(text);\n                } catch (e) {\n                    console.warn('THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.');\n                    json = JSON.parse(text.substring(65, text.length - 2));\n                }\n\n                var font = scope.parse(json);\n                if (onLoad) onLoad(font);\n            }, onProgress, onError);\n        };\n\n        _proto.parse = function parse(json) {\n            return new Font(json);\n        };\n\n        return FontLoader;\n    }(Loader);\n\n    var _context;\n\n    var AudioContext = {\n        getContext: function getContext() {\n            if (_context === undefined) {\n                _context = new(window.AudioContext || window.webkitAudioContext)();\n            }\n\n            return _context;\n        },\n        setContext: function setContext(value) {\n            _context = value;\n        }\n    };\n\n    var AudioLoader = /*#__PURE__*/ function(_Loader) {\n        _inheritsLoose(AudioLoader, _Loader);\n\n        function AudioLoader(manager) {\n            return _Loader.call(this, manager) || this;\n        }\n\n        var _proto = AudioLoader.prototype;\n\n        _proto.load = function load(url, onLoad, onProgress, onError) {\n            var scope = this;\n            var loader = new FileLoader(this.manager);\n            loader.setResponseType('arraybuffer');\n            loader.setPath(this.path);\n            loader.setRequestHeader(this.requestHeader);\n            loader.setWithCredentials(this.withCredentials);\n            loader.load(url, function(buffer) {\n                try {\n                    // Create a copy of the buffer. The `decodeAudioData` method\n                    // detaches the buffer when complete, preventing reuse.\n                    var bufferCopy = buffer.slice(0);\n                    var context = AudioContext.getContext();\n                    context.decodeAudioData(bufferCopy, function(audioBuffer) {\n                        onLoad(audioBuffer);\n                    });\n                } catch (e) {\n                    if (onError) {\n                        onError(e);\n                    } else {\n                        console.error(e);\n                    }\n\n                    scope.manager.itemError(url);\n                }\n            }, onProgress, onError);\n        };\n\n        return AudioLoader;\n    }(Loader);\n\n    var HemisphereLightProbe = /*#__PURE__*/ function(_LightProbe) {\n        _inheritsLoose(HemisphereLightProbe, _LightProbe);\n\n        function HemisphereLightProbe(skyColor, groundColor, intensity) {\n            var _this;\n\n            if (intensity === void 0) {\n                intensity = 1;\n            }\n\n            _this = _LightProbe.call(this, undefined, intensity) || this;\n            var color1 = new Color().set(skyColor);\n            var color2 = new Color().set(groundColor);\n            var sky = new Vector3(color1.r, color1.g, color1.b);\n            var ground = new Vector3(color2.r, color2.g, color2.b); // without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\n            var c0 = Math.sqrt(Math.PI);\n            var c1 = c0 * Math.sqrt(0.75);\n\n            _this.sh.coefficients[0].copy(sky).add(ground).multiplyScalar(c0);\n\n            _this.sh.coefficients[1].copy(sky).sub(ground).multiplyScalar(c1);\n\n            return _this;\n        }\n\n        return HemisphereLightProbe;\n    }(LightProbe);\n\n    HemisphereLightProbe.prototype.isHemisphereLightProbe = true;\n\n    var AmbientLightProbe = /*#__PURE__*/ function(_LightProbe) {\n        _inheritsLoose(AmbientLightProbe, _LightProbe);\n\n        function AmbientLightProbe(color, intensity) {\n            var _this;\n\n            if (intensity === void 0) {\n                intensity = 1;\n            }\n\n            _this = _LightProbe.call(this, undefined, intensity) || this;\n            var color1 = new Color().set(color); // without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\n            _this.sh.coefficients[0].set(color1.r, color1.g, color1.b).multiplyScalar(2 * Math.sqrt(Math.PI));\n\n            return _this;\n        }\n\n        return AmbientLightProbe;\n    }(LightProbe);\n\n    AmbientLightProbe.prototype.isAmbientLightProbe = true;\n\n    var _eyeRight = new Matrix4();\n\n    var _eyeLeft = new Matrix4();\n\n    var StereoCamera = /*#__PURE__*/ function() {\n        function StereoCamera() {\n            this.type = 'StereoCamera';\n            this.aspect = 1;\n            this.eyeSep = 0.064;\n            this.cameraL = new PerspectiveCamera();\n            this.cameraL.layers.enable(1);\n            this.cameraL.matrixAutoUpdate = false;\n            this.cameraR = new PerspectiveCamera();\n            this.cameraR.layers.enable(2);\n            this.cameraR.matrixAutoUpdate = false;\n            this._cache = {\n                focus: null,\n                fov: null,\n                aspect: null,\n                near: null,\n                far: null,\n                zoom: null,\n                eyeSep: null\n            };\n        }\n\n        var _proto = StereoCamera.prototype;\n\n        _proto.update = function update(camera) {\n            var cache = this._cache;\n            var needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov || cache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near || cache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n            if (needsUpdate) {\n                cache.focus = camera.focus;\n                cache.fov = camera.fov;\n                cache.aspect = camera.aspect * this.aspect;\n                cache.near = camera.near;\n                cache.far = camera.far;\n                cache.zoom = camera.zoom;\n                cache.eyeSep = this.eyeSep; // Off-axis stereoscopic effect based on\n                // http://paulbourke.net/stereographics/stereorender/\n\n                var projectionMatrix = camera.projectionMatrix.clone();\n                var eyeSepHalf = cache.eyeSep / 2;\n                var eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n                var ymax = cache.near * Math.tan(MathUtils.DEG2RAD * cache.fov * 0.5) / cache.zoom;\n                var xmin, xmax; // translate xOffset\n\n                _eyeLeft.elements[12] = -eyeSepHalf;\n                _eyeRight.elements[12] = eyeSepHalf; // for left eye\n\n                xmin = -ymax * cache.aspect + eyeSepOnProjection;\n                xmax = ymax * cache.aspect + eyeSepOnProjection;\n                projectionMatrix.elements[0] = 2 * cache.near / (xmax - xmin);\n                projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n                this.cameraL.projectionMatrix.copy(projectionMatrix); // for right eye\n\n                xmin = -ymax * cache.aspect - eyeSepOnProjection;\n                xmax = ymax * cache.aspect - eyeSepOnProjection;\n                projectionMatrix.elements[0] = 2 * cache.near / (xmax - xmin);\n                projectionMatrix.elements[8] = (xmax + xmin) / (xmax - xmin);\n                this.cameraR.projectionMatrix.copy(projectionMatrix);\n            }\n\n            this.cameraL.matrixWorld.copy(camera.matrixWorld).multiply(_eyeLeft);\n            this.cameraR.matrixWorld.copy(camera.matrixWorld).multiply(_eyeRight);\n        };\n\n        return StereoCamera;\n    }();\n\n    var Clock = /*#__PURE__*/ function() {\n        function Clock(autoStart) {\n            this.autoStart = autoStart !== undefined ? autoStart : true;\n            this.startTime = 0;\n            this.oldTime = 0;\n            this.elapsedTime = 0;\n            this.running = false;\n        }\n\n        var _proto = Clock.prototype;\n\n        _proto.start = function start() {\n            this.startTime = now();\n            this.oldTime = this.startTime;\n            this.elapsedTime = 0;\n            this.running = true;\n        };\n\n        _proto.stop = function stop() {\n            this.getElapsedTime();\n            this.running = false;\n            this.autoStart = false;\n        };\n\n        _proto.getElapsedTime = function getElapsedTime() {\n            this.getDelta();\n            return this.elapsedTime;\n        };\n\n        _proto.getDelta = function getDelta() {\n            var diff = 0;\n\n            if (this.autoStart && !this.running) {\n                this.start();\n                return 0;\n            }\n\n            if (this.running) {\n                var newTime = now();\n                diff = (newTime - this.oldTime) / 1000;\n                this.oldTime = newTime;\n                this.elapsedTime += diff;\n            }\n\n            return diff;\n        };\n\n        return Clock;\n    }();\n\n    function now() {\n        return (typeof performance === 'undefined' ? Date : performance).now(); // see #10732\n    }\n\n    var _position$2 = /*@__PURE__*/ new Vector3();\n\n    var _quaternion$3 = /*@__PURE__*/ new Quaternion();\n\n    var _scale$1 = /*@__PURE__*/ new Vector3();\n\n    var _orientation = /*@__PURE__*/ new Vector3();\n\n    var AudioListener = /*#__PURE__*/ function(_Object3D) {\n        _inheritsLoose(AudioListener, _Object3D);\n\n        function AudioListener() {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this.type = 'AudioListener';\n            _this.context = AudioContext.getContext();\n            _this.gain = _this.context.createGain();\n\n            _this.gain.connect(_this.context.destination);\n\n            _this.filter = null;\n            _this.timeDelta = 0; // private\n\n            _this._clock = new Clock();\n            return _this;\n        }\n\n        var _proto = AudioListener.prototype;\n\n        _proto.getInput = function getInput() {\n            return this.gain;\n        };\n\n        _proto.removeFilter = function removeFilter() {\n            if (this.filter !== null) {\n                this.gain.disconnect(this.filter);\n                this.filter.disconnect(this.context.destination);\n                this.gain.connect(this.context.destination);\n                this.filter = null;\n            }\n\n            return this;\n        };\n\n        _proto.getFilter = function getFilter() {\n            return this.filter;\n        };\n\n        _proto.setFilter = function setFilter(value) {\n            if (this.filter !== null) {\n                this.gain.disconnect(this.filter);\n                this.filter.disconnect(this.context.destination);\n            } else {\n                this.gain.disconnect(this.context.destination);\n            }\n\n            this.filter = value;\n            this.gain.connect(this.filter);\n            this.filter.connect(this.context.destination);\n            return this;\n        };\n\n        _proto.getMasterVolume = function getMasterVolume() {\n            return this.gain.gain.value;\n        };\n\n        _proto.setMasterVolume = function setMasterVolume(value) {\n            this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n            return this;\n        };\n\n        _proto.updateMatrixWorld = function updateMatrixWorld(force) {\n            _Object3D.prototype.updateMatrixWorld.call(this, force);\n\n            var listener = this.context.listener;\n            var up = this.up;\n            this.timeDelta = this._clock.getDelta();\n            this.matrixWorld.decompose(_position$2, _quaternion$3, _scale$1);\n\n            _orientation.set(0, 0, -1).applyQuaternion(_quaternion$3);\n\n            if (listener.positionX) {\n                // code path for Chrome (see #14393)\n                var endTime = this.context.currentTime + this.timeDelta;\n                listener.positionX.linearRampToValueAtTime(_position$2.x, endTime);\n                listener.positionY.linearRampToValueAtTime(_position$2.y, endTime);\n                listener.positionZ.linearRampToValueAtTime(_position$2.z, endTime);\n                listener.forwardX.linearRampToValueAtTime(_orientation.x, endTime);\n                listener.forwardY.linearRampToValueAtTime(_orientation.y, endTime);\n                listener.forwardZ.linearRampToValueAtTime(_orientation.z, endTime);\n                listener.upX.linearRampToValueAtTime(up.x, endTime);\n                listener.upY.linearRampToValueAtTime(up.y, endTime);\n                listener.upZ.linearRampToValueAtTime(up.z, endTime);\n            } else {\n                listener.setPosition(_position$2.x, _position$2.y, _position$2.z);\n                listener.setOrientation(_orientation.x, _orientation.y, _orientation.z, up.x, up.y, up.z);\n            }\n        };\n\n        return AudioListener;\n    }(Object3D);\n\n    var Audio = /*#__PURE__*/ function(_Object3D) {\n        _inheritsLoose(Audio, _Object3D);\n\n        function Audio(listener) {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this.type = 'Audio';\n            _this.listener = listener;\n            _this.context = listener.context;\n            _this.gain = _this.context.createGain();\n\n            _this.gain.connect(listener.getInput());\n\n            _this.autoplay = false;\n            _this.buffer = null;\n            _this.detune = 0;\n            _this.loop = false;\n            _this.loopStart = 0;\n            _this.loopEnd = 0;\n            _this.offset = 0;\n            _this.duration = undefined;\n            _this.playbackRate = 1;\n            _this.isPlaying = false;\n            _this.hasPlaybackControl = true;\n            _this.source = null;\n            _this.sourceType = 'empty';\n            _this._startedAt = 0;\n            _this._progress = 0;\n            _this._connected = false;\n            _this.filters = [];\n            return _this;\n        }\n\n        var _proto = Audio.prototype;\n\n        _proto.getOutput = function getOutput() {\n            return this.gain;\n        };\n\n        _proto.setNodeSource = function setNodeSource(audioNode) {\n            this.hasPlaybackControl = false;\n            this.sourceType = 'audioNode';\n            this.source = audioNode;\n            this.connect();\n            return this;\n        };\n\n        _proto.setMediaElementSource = function setMediaElementSource(mediaElement) {\n            this.hasPlaybackControl = false;\n            this.sourceType = 'mediaNode';\n            this.source = this.context.createMediaElementSource(mediaElement);\n            this.connect();\n            return this;\n        };\n\n        _proto.setMediaStreamSource = function setMediaStreamSource(mediaStream) {\n            this.hasPlaybackControl = false;\n            this.sourceType = 'mediaStreamNode';\n            this.source = this.context.createMediaStreamSource(mediaStream);\n            this.connect();\n            return this;\n        };\n\n        _proto.setBuffer = function setBuffer(audioBuffer) {\n            this.buffer = audioBuffer;\n            this.sourceType = 'buffer';\n            if (this.autoplay) this.play();\n            return this;\n        };\n\n        _proto.play = function play(delay) {\n            if (delay === void 0) {\n                delay = 0;\n            }\n\n            if (this.isPlaying === true) {\n                console.warn('THREE.Audio: Audio is already playing.');\n                return;\n            }\n\n            if (this.hasPlaybackControl === false) {\n                console.warn('THREE.Audio: this Audio has no playback control.');\n                return;\n            }\n\n            this._startedAt = this.context.currentTime + delay;\n            var source = this.context.createBufferSource();\n            source.buffer = this.buffer;\n            source.loop = this.loop;\n            source.loopStart = this.loopStart;\n            source.loopEnd = this.loopEnd;\n            source.onended = this.onEnded.bind(this);\n            source.start(this._startedAt, this._progress + this.offset, this.duration);\n            this.isPlaying = true;\n            this.source = source;\n            this.setDetune(this.detune);\n            this.setPlaybackRate(this.playbackRate);\n            return this.connect();\n        };\n\n        _proto.pause = function pause() {\n            if (this.hasPlaybackControl === false) {\n                console.warn('THREE.Audio: this Audio has no playback control.');\n                return;\n            }\n\n            if (this.isPlaying === true) {\n                // update current progress\n                this._progress += Math.max(this.context.currentTime - this._startedAt, 0) * this.playbackRate;\n\n                if (this.loop === true) {\n                    // ensure _progress does not exceed duration with looped audios\n                    this._progress = this._progress % (this.duration || this.buffer.duration);\n                }\n\n                this.source.stop();\n                this.source.onended = null;\n                this.isPlaying = false;\n            }\n\n            return this;\n        };\n\n        _proto.stop = function stop() {\n            if (this.hasPlaybackControl === false) {\n                console.warn('THREE.Audio: this Audio has no playback control.');\n                return;\n            }\n\n            this._progress = 0;\n            this.source.stop();\n            this.source.onended = null;\n            this.isPlaying = false;\n            return this;\n        };\n\n        _proto.connect = function connect() {\n            if (this.filters.length > 0) {\n                this.source.connect(this.filters[0]);\n\n                for (var i = 1, l = this.filters.length; i < l; i++) {\n                    this.filters[i - 1].connect(this.filters[i]);\n                }\n\n                this.filters[this.filters.length - 1].connect(this.getOutput());\n            } else {\n                this.source.connect(this.getOutput());\n            }\n\n            this._connected = true;\n            return this;\n        };\n\n        _proto.disconnect = function disconnect() {\n            if (this.filters.length > 0) {\n                this.source.disconnect(this.filters[0]);\n\n                for (var i = 1, l = this.filters.length; i < l; i++) {\n                    this.filters[i - 1].disconnect(this.filters[i]);\n                }\n\n                this.filters[this.filters.length - 1].disconnect(this.getOutput());\n            } else {\n                this.source.disconnect(this.getOutput());\n            }\n\n            this._connected = false;\n            return this;\n        };\n\n        _proto.getFilters = function getFilters() {\n            return this.filters;\n        };\n\n        _proto.setFilters = function setFilters(value) {\n            if (!value) value = [];\n\n            if (this._connected === true) {\n                this.disconnect();\n                this.filters = value.slice();\n                this.connect();\n            } else {\n                this.filters = value.slice();\n            }\n\n            return this;\n        };\n\n        _proto.setDetune = function setDetune(value) {\n            this.detune = value;\n            if (this.source.detune === undefined) return; // only set detune when available\n\n            if (this.isPlaying === true) {\n                this.source.detune.setTargetAtTime(this.detune, this.context.currentTime, 0.01);\n            }\n\n            return this;\n        };\n\n        _proto.getDetune = function getDetune() {\n            return this.detune;\n        };\n\n        _proto.getFilter = function getFilter() {\n            return this.getFilters()[0];\n        };\n\n        _proto.setFilter = function setFilter(filter) {\n            return this.setFilters(filter ? [filter] : []);\n        };\n\n        _proto.setPlaybackRate = function setPlaybackRate(value) {\n            if (this.hasPlaybackControl === false) {\n                console.warn('THREE.Audio: this Audio has no playback control.');\n                return;\n            }\n\n            this.playbackRate = value;\n\n            if (this.isPlaying === true) {\n                this.source.playbackRate.setTargetAtTime(this.playbackRate, this.context.currentTime, 0.01);\n            }\n\n            return this;\n        };\n\n        _proto.getPlaybackRate = function getPlaybackRate() {\n            return this.playbackRate;\n        };\n\n        _proto.onEnded = function onEnded() {\n            this.isPlaying = false;\n        };\n\n        _proto.getLoop = function getLoop() {\n            if (this.hasPlaybackControl === false) {\n                console.warn('THREE.Audio: this Audio has no playback control.');\n                return false;\n            }\n\n            return this.loop;\n        };\n\n        _proto.setLoop = function setLoop(value) {\n            if (this.hasPlaybackControl === false) {\n                console.warn('THREE.Audio: this Audio has no playback control.');\n                return;\n            }\n\n            this.loop = value;\n\n            if (this.isPlaying === true) {\n                this.source.loop = this.loop;\n            }\n\n            return this;\n        };\n\n        _proto.setLoopStart = function setLoopStart(value) {\n            this.loopStart = value;\n            return this;\n        };\n\n        _proto.setLoopEnd = function setLoopEnd(value) {\n            this.loopEnd = value;\n            return this;\n        };\n\n        _proto.getVolume = function getVolume() {\n            return this.gain.gain.value;\n        };\n\n        _proto.setVolume = function setVolume(value) {\n            this.gain.gain.setTargetAtTime(value, this.context.currentTime, 0.01);\n            return this;\n        };\n\n        return Audio;\n    }(Object3D);\n\n    var _position$3 = /*@__PURE__*/ new Vector3();\n\n    var _quaternion$4 = /*@__PURE__*/ new Quaternion();\n\n    var _scale$2 = /*@__PURE__*/ new Vector3();\n\n    var _orientation$1 = /*@__PURE__*/ new Vector3();\n\n    var PositionalAudio = /*#__PURE__*/ function(_Audio) {\n        _inheritsLoose(PositionalAudio, _Audio);\n\n        function PositionalAudio(listener) {\n            var _this;\n\n            _this = _Audio.call(this, listener) || this;\n            _this.panner = _this.context.createPanner();\n            _this.panner.panningModel = 'HRTF';\n\n            _this.panner.connect(_this.gain);\n\n            return _this;\n        }\n\n        var _proto = PositionalAudio.prototype;\n\n        _proto.getOutput = function getOutput() {\n            return this.panner;\n        };\n\n        _proto.getRefDistance = function getRefDistance() {\n            return this.panner.refDistance;\n        };\n\n        _proto.setRefDistance = function setRefDistance(value) {\n            this.panner.refDistance = value;\n            return this;\n        };\n\n        _proto.getRolloffFactor = function getRolloffFactor() {\n            return this.panner.rolloffFactor;\n        };\n\n        _proto.setRolloffFactor = function setRolloffFactor(value) {\n            this.panner.rolloffFactor = value;\n            return this;\n        };\n\n        _proto.getDistanceModel = function getDistanceModel() {\n            return this.panner.distanceModel;\n        };\n\n        _proto.setDistanceModel = function setDistanceModel(value) {\n            this.panner.distanceModel = value;\n            return this;\n        };\n\n        _proto.getMaxDistance = function getMaxDistance() {\n            return this.panner.maxDistance;\n        };\n\n        _proto.setMaxDistance = function setMaxDistance(value) {\n            this.panner.maxDistance = value;\n            return this;\n        };\n\n        _proto.setDirectionalCone = function setDirectionalCone(coneInnerAngle, coneOuterAngle, coneOuterGain) {\n            this.panner.coneInnerAngle = coneInnerAngle;\n            this.panner.coneOuterAngle = coneOuterAngle;\n            this.panner.coneOuterGain = coneOuterGain;\n            return this;\n        };\n\n        _proto.updateMatrixWorld = function updateMatrixWorld(force) {\n            _Audio.prototype.updateMatrixWorld.call(this, force);\n\n            if (this.hasPlaybackControl === true && this.isPlaying === false) return;\n            this.matrixWorld.decompose(_position$3, _quaternion$4, _scale$2);\n\n            _orientation$1.set(0, 0, 1).applyQuaternion(_quaternion$4);\n\n            var panner = this.panner;\n\n            if (panner.positionX) {\n                // code path for Chrome and Firefox (see #14393)\n                var endTime = this.context.currentTime + this.listener.timeDelta;\n                panner.positionX.linearRampToValueAtTime(_position$3.x, endTime);\n                panner.positionY.linearRampToValueAtTime(_position$3.y, endTime);\n                panner.positionZ.linearRampToValueAtTime(_position$3.z, endTime);\n                panner.orientationX.linearRampToValueAtTime(_orientation$1.x, endTime);\n                panner.orientationY.linearRampToValueAtTime(_orientation$1.y, endTime);\n                panner.orientationZ.linearRampToValueAtTime(_orientation$1.z, endTime);\n            } else {\n                panner.setPosition(_position$3.x, _position$3.y, _position$3.z);\n                panner.setOrientation(_orientation$1.x, _orientation$1.y, _orientation$1.z);\n            }\n        };\n\n        return PositionalAudio;\n    }(Audio);\n\n    var AudioAnalyser = /*#__PURE__*/ function() {\n        function AudioAnalyser(audio, fftSize) {\n            if (fftSize === void 0) {\n                fftSize = 2048;\n            }\n\n            this.analyser = audio.context.createAnalyser();\n            this.analyser.fftSize = fftSize;\n            this.data = new Uint8Array(this.analyser.frequencyBinCount);\n            audio.getOutput().connect(this.analyser);\n        }\n\n        var _proto = AudioAnalyser.prototype;\n\n        _proto.getFrequencyData = function getFrequencyData() {\n            this.analyser.getByteFrequencyData(this.data);\n            return this.data;\n        };\n\n        _proto.getAverageFrequency = function getAverageFrequency() {\n            var value = 0;\n            var data = this.getFrequencyData();\n\n            for (var i = 0; i < data.length; i++) {\n                value += data[i];\n            }\n\n            return value / data.length;\n        };\n\n        return AudioAnalyser;\n    }();\n\n    var PropertyMixer = /*#__PURE__*/ function() {\n        function PropertyMixer(binding, typeName, valueSize) {\n            this.binding = binding;\n            this.valueSize = valueSize;\n            var mixFunction, mixFunctionAdditive, setIdentity; // buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n            //\n            // interpolators can use .buffer as their .result\n            // the data then goes to 'incoming'\n            //\n            // 'accu0' and 'accu1' are used frame-interleaved for\n            // the cumulative result and are compared to detect\n            // changes\n            //\n            // 'orig' stores the original state of the property\n            //\n            // 'add' is used for additive cumulative results\n            //\n            // 'work' is optional and is only present for quaternion types. It is used\n            // to store intermediate quaternion multiplication results\n\n            switch (typeName) {\n                case 'quaternion':\n                    mixFunction = this._slerp;\n                    mixFunctionAdditive = this._slerpAdditive;\n                    setIdentity = this._setAdditiveIdentityQuaternion;\n                    this.buffer = new Float64Array(valueSize * 6);\n                    this._workIndex = 5;\n                    break;\n\n                case 'string':\n                case 'bool':\n                    mixFunction = this._select; // Use the regular mix function and for additive on these types,\n                    // additive is not relevant for non-numeric types\n\n                    mixFunctionAdditive = this._select;\n                    setIdentity = this._setAdditiveIdentityOther;\n                    this.buffer = new Array(valueSize * 5);\n                    break;\n\n                default:\n                    mixFunction = this._lerp;\n                    mixFunctionAdditive = this._lerpAdditive;\n                    setIdentity = this._setAdditiveIdentityNumeric;\n                    this.buffer = new Float64Array(valueSize * 5);\n            }\n\n            this._mixBufferRegion = mixFunction;\n            this._mixBufferRegionAdditive = mixFunctionAdditive;\n            this._setIdentity = setIdentity;\n            this._origIndex = 3;\n            this._addIndex = 4;\n            this.cumulativeWeight = 0;\n            this.cumulativeWeightAdditive = 0;\n            this.useCount = 0;\n            this.referenceCount = 0;\n        } // accumulate data in the 'incoming' region into 'accu<i>'\n\n\n        var _proto = PropertyMixer.prototype;\n\n        _proto.accumulate = function accumulate(accuIndex, weight) {\n                // note: happily accumulating nothing when weight = 0, the caller knows\n                // the weight and shouldn't have made the call in the first place\n                var buffer = this.buffer,\n                    stride = this.valueSize,\n                    offset = accuIndex * stride + stride;\n                var currentWeight = this.cumulativeWeight;\n\n                if (currentWeight === 0) {\n                    // accuN := incoming * weight\n                    for (var i = 0; i !== stride; ++i) {\n                        buffer[offset + i] = buffer[i];\n                    }\n\n                    currentWeight = weight;\n                } else {\n                    // accuN := accuN + incoming * weight\n                    currentWeight += weight;\n                    var mix = weight / currentWeight;\n\n                    this._mixBufferRegion(buffer, offset, 0, mix, stride);\n                }\n\n                this.cumulativeWeight = currentWeight;\n            } // accumulate data in the 'incoming' region into 'add'\n        ;\n\n        _proto.accumulateAdditive = function accumulateAdditive(weight) {\n                var buffer = this.buffer,\n                    stride = this.valueSize,\n                    offset = stride * this._addIndex;\n\n                if (this.cumulativeWeightAdditive === 0) {\n                    // add = identity\n                    this._setIdentity();\n                } // add := add + incoming * weight\n\n\n                this._mixBufferRegionAdditive(buffer, offset, 0, weight, stride);\n\n                this.cumulativeWeightAdditive += weight;\n            } // apply the state of 'accu<i>' to the binding when accus differ\n        ;\n\n        _proto.apply = function apply(accuIndex) {\n                var stride = this.valueSize,\n                    buffer = this.buffer,\n                    offset = accuIndex * stride + stride,\n                    weight = this.cumulativeWeight,\n                    weightAdditive = this.cumulativeWeightAdditive,\n                    binding = this.binding;\n                this.cumulativeWeight = 0;\n                this.cumulativeWeightAdditive = 0;\n\n                if (weight < 1) {\n                    // accuN := accuN + original * ( 1 - cumulativeWeight )\n                    var originalValueOffset = stride * this._origIndex;\n\n                    this._mixBufferRegion(buffer, offset, originalValueOffset, 1 - weight, stride);\n                }\n\n                if (weightAdditive > 0) {\n                    // accuN := accuN + additive accuN\n                    this._mixBufferRegionAdditive(buffer, offset, this._addIndex * stride, 1, stride);\n                }\n\n                for (var i = stride, e = stride + stride; i !== e; ++i) {\n                    if (buffer[i] !== buffer[i + stride]) {\n                        // value has changed -> update scene graph\n                        binding.setValue(buffer, offset);\n                        break;\n                    }\n                }\n            } // remember the state of the bound property and copy it to both accus\n        ;\n\n        _proto.saveOriginalState = function saveOriginalState() {\n                var binding = this.binding;\n                var buffer = this.buffer,\n                    stride = this.valueSize,\n                    originalValueOffset = stride * this._origIndex;\n                binding.getValue(buffer, originalValueOffset); // accu[0..1] := orig -- initially detect changes against the original\n\n                for (var i = stride, e = originalValueOffset; i !== e; ++i) {\n                    buffer[i] = buffer[originalValueOffset + i % stride];\n                } // Add to identity for additive\n\n\n                this._setIdentity();\n\n                this.cumulativeWeight = 0;\n                this.cumulativeWeightAdditive = 0;\n            } // apply the state previously taken via 'saveOriginalState' to the binding\n        ;\n\n        _proto.restoreOriginalState = function restoreOriginalState() {\n            var originalValueOffset = this.valueSize * 3;\n            this.binding.setValue(this.buffer, originalValueOffset);\n        };\n\n        _proto._setAdditiveIdentityNumeric = function _setAdditiveIdentityNumeric() {\n            var startIndex = this._addIndex * this.valueSize;\n            var endIndex = startIndex + this.valueSize;\n\n            for (var i = startIndex; i < endIndex; i++) {\n                this.buffer[i] = 0;\n            }\n        };\n\n        _proto._setAdditiveIdentityQuaternion = function _setAdditiveIdentityQuaternion() {\n            this._setAdditiveIdentityNumeric();\n\n            this.buffer[this._addIndex * this.valueSize + 3] = 1;\n        };\n\n        _proto._setAdditiveIdentityOther = function _setAdditiveIdentityOther() {\n                var startIndex = this._origIndex * this.valueSize;\n                var targetIndex = this._addIndex * this.valueSize;\n\n                for (var i = 0; i < this.valueSize; i++) {\n                    this.buffer[targetIndex + i] = this.buffer[startIndex + i];\n                }\n            } // mix functions\n        ;\n\n        _proto._select = function _select(buffer, dstOffset, srcOffset, t, stride) {\n            if (t >= 0.5) {\n                for (var i = 0; i !== stride; ++i) {\n                    buffer[dstOffset + i] = buffer[srcOffset + i];\n                }\n            }\n        };\n\n        _proto._slerp = function _slerp(buffer, dstOffset, srcOffset, t) {\n            Quaternion.slerpFlat(buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t);\n        };\n\n        _proto._slerpAdditive = function _slerpAdditive(buffer, dstOffset, srcOffset, t, stride) {\n            var workOffset = this._workIndex * stride; // Store result in intermediate buffer offset\n\n            Quaternion.multiplyQuaternionsFlat(buffer, workOffset, buffer, dstOffset, buffer, srcOffset); // Slerp to the intermediate result\n\n            Quaternion.slerpFlat(buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t);\n        };\n\n        _proto._lerp = function _lerp(buffer, dstOffset, srcOffset, t, stride) {\n            var s = 1 - t;\n\n            for (var i = 0; i !== stride; ++i) {\n                var j = dstOffset + i;\n                buffer[j] = buffer[j] * s + buffer[srcOffset + i] * t;\n            }\n        };\n\n        _proto._lerpAdditive = function _lerpAdditive(buffer, dstOffset, srcOffset, t, stride) {\n            for (var i = 0; i !== stride; ++i) {\n                var j = dstOffset + i;\n                buffer[j] = buffer[j] + buffer[srcOffset + i] * t;\n            }\n        };\n\n        return PropertyMixer;\n    }();\n\n    // Characters [].:/ are reserved for track binding syntax.\n    var _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\n\n    var _reservedRe = new RegExp('[' + _RESERVED_CHARS_RE + ']', 'g'); // Attempts to allow node names from any language. ES5's `\\w` regexp matches\n    // only latin characters, and the unicode \\p{L} is not yet supported. So\n    // instead, we exclude reserved characters and match everything else.\n\n\n    var _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\n\n    var _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace('\\\\.', '') + ']'; // Parent directories, delimited by '/' or ':'. Currently unused, but must\n    // be matched to parse the rest of the track name.\n\n\n    var _directoryRe = /((?:WC+[\\/:])*)/.source.replace('WC', _wordChar); // Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\n\n\n    var _nodeRe = /(WCOD+)?/.source.replace('WCOD', _wordCharOrDot); // Object on target node, and accessor. May not contain reserved\n    // characters. Accessor may contain any character except closing bracket.\n\n\n    var _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace('WC', _wordChar); // Property and accessor. May not contain reserved characters. Accessor may\n    // contain any non-bracket characters.\n\n\n    var _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace('WC', _wordChar);\n\n    var _trackRe = new RegExp('' + '^' + _directoryRe + _nodeRe + _objectRe + _propertyRe + '$');\n\n    var _supportedObjectNames = ['material', 'materials', 'bones'];\n\n    function Composite(targetGroup, path, optionalParsedPath) {\n        var parsedPath = optionalParsedPath || PropertyBinding.parseTrackName(path);\n        this._targetGroup = targetGroup;\n        this._bindings = targetGroup.subscribe_(path, parsedPath);\n    }\n\n    Object.assign(Composite.prototype, {\n        getValue: function getValue(array, offset) {\n            this.bind(); // bind all binding\n\n            var firstValidIndex = this._targetGroup.nCachedObjects_,\n                binding = this._bindings[firstValidIndex]; // and only call .getValue on the first\n\n            if (binding !== undefined) binding.getValue(array, offset);\n        },\n        setValue: function setValue(array, offset) {\n            var bindings = this._bindings;\n\n            for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n                bindings[i].setValue(array, offset);\n            }\n        },\n        bind: function bind() {\n            var bindings = this._bindings;\n\n            for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n                bindings[i].bind();\n            }\n        },\n        unbind: function unbind() {\n            var bindings = this._bindings;\n\n            for (var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++i) {\n                bindings[i].unbind();\n            }\n        }\n    });\n\n    function PropertyBinding(rootNode, path, parsedPath) {\n        this.path = path;\n        this.parsedPath = parsedPath || PropertyBinding.parseTrackName(path);\n        this.node = PropertyBinding.findNode(rootNode, this.parsedPath.nodeName) || rootNode;\n        this.rootNode = rootNode;\n    }\n\n    Object.assign(PropertyBinding, {\n        Composite: Composite,\n        create: function create(root, path, parsedPath) {\n            if (!(root && root.isAnimationObjectGroup)) {\n                return new PropertyBinding(root, path, parsedPath);\n            } else {\n                return new PropertyBinding.Composite(root, path, parsedPath);\n            }\n        },\n\n        /**\n         * Replaces spaces with underscores and removes unsupported characters from\n         * node names, to ensure compatibility with parseTrackName().\n         *\n         * @param {string} name Node name to be sanitized.\n         * @return {string}\n         */\n        sanitizeNodeName: function sanitizeNodeName(name) {\n            return name.replace(/\\s/g, '_').replace(_reservedRe, '');\n        },\n        parseTrackName: function parseTrackName(trackName) {\n            var matches = _trackRe.exec(trackName);\n\n            if (!matches) {\n                throw new Error('PropertyBinding: Cannot parse trackName: ' + trackName);\n            }\n\n            var results = {\n                // directoryName: matches[ 1 ], // (tschw) currently unused\n                nodeName: matches[2],\n                objectName: matches[3],\n                objectIndex: matches[4],\n                propertyName: matches[5],\n                // required\n                propertyIndex: matches[6]\n            };\n            var lastDot = results.nodeName && results.nodeName.lastIndexOf('.');\n\n            if (lastDot !== undefined && lastDot !== -1) {\n                var objectName = results.nodeName.substring(lastDot + 1); // Object names must be checked against an allowlist. Otherwise, there\n                // is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n                // 'bar' could be the objectName, or part of a nodeName (which can\n                // include '.' characters).\n\n                if (_supportedObjectNames.indexOf(objectName) !== -1) {\n                    results.nodeName = results.nodeName.substring(0, lastDot);\n                    results.objectName = objectName;\n                }\n            }\n\n            if (results.propertyName === null || results.propertyName.length === 0) {\n                throw new Error('PropertyBinding: can not parse propertyName from trackName: ' + trackName);\n            }\n\n            return results;\n        },\n        findNode: function findNode(root, nodeName) {\n            if (!nodeName || nodeName === '' || nodeName === '.' || nodeName === -1 || nodeName === root.name || nodeName === root.uuid) {\n                return root;\n            } // search into skeleton bones.\n\n\n            if (root.skeleton) {\n                var bone = root.skeleton.getBoneByName(nodeName);\n\n                if (bone !== undefined) {\n                    return bone;\n                }\n            } // search into node subtree.\n\n\n            if (root.children) {\n                var searchNodeSubtree = function searchNodeSubtree(children) {\n                    for (var i = 0; i < children.length; i++) {\n                        var childNode = children[i];\n\n                        if (childNode.name === nodeName || childNode.uuid === nodeName) {\n                            return childNode;\n                        }\n\n                        var result = searchNodeSubtree(childNode.children);\n                        if (result) return result;\n                    }\n\n                    return null;\n                };\n\n                var subTreeNode = searchNodeSubtree(root.children);\n\n                if (subTreeNode) {\n                    return subTreeNode;\n                }\n            }\n\n            return null;\n        }\n    });\n    Object.assign(PropertyBinding.prototype, {\n        // prototype, continued\n        // these are used to \"bind\" a nonexistent property\n        _getValue_unavailable: function _getValue_unavailable() {},\n        _setValue_unavailable: function _setValue_unavailable() {},\n        BindingType: {\n            Direct: 0,\n            EntireArray: 1,\n            ArrayElement: 2,\n            HasFromToArray: 3\n        },\n        Versioning: {\n            None: 0,\n            NeedsUpdate: 1,\n            MatrixWorldNeedsUpdate: 2\n        },\n        GetterByBindingType: [function getValue_direct(buffer, offset) {\n            buffer[offset] = this.node[this.propertyName];\n        }, function getValue_array(buffer, offset) {\n            var source = this.resolvedProperty;\n\n            for (var i = 0, n = source.length; i !== n; ++i) {\n                buffer[offset++] = source[i];\n            }\n        }, function getValue_arrayElement(buffer, offset) {\n            buffer[offset] = this.resolvedProperty[this.propertyIndex];\n        }, function getValue_toArray(buffer, offset) {\n            this.resolvedProperty.toArray(buffer, offset);\n        }],\n        SetterByBindingTypeAndVersioning: [\n            [ // Direct\n                function setValue_direct(buffer, offset) {\n                    this.targetObject[this.propertyName] = buffer[offset];\n                },\n                function setValue_direct_setNeedsUpdate(buffer, offset) {\n                    this.targetObject[this.propertyName] = buffer[offset];\n                    this.targetObject.needsUpdate = true;\n                },\n                function setValue_direct_setMatrixWorldNeedsUpdate(buffer, offset) {\n                    this.targetObject[this.propertyName] = buffer[offset];\n                    this.targetObject.matrixWorldNeedsUpdate = true;\n                }\n            ],\n            [ // EntireArray\n                function setValue_array(buffer, offset) {\n                    var dest = this.resolvedProperty;\n\n                    for (var i = 0, n = dest.length; i !== n; ++i) {\n                        dest[i] = buffer[offset++];\n                    }\n                },\n                function setValue_array_setNeedsUpdate(buffer, offset) {\n                    var dest = this.resolvedProperty;\n\n                    for (var i = 0, n = dest.length; i !== n; ++i) {\n                        dest[i] = buffer[offset++];\n                    }\n\n                    this.targetObject.needsUpdate = true;\n                },\n                function setValue_array_setMatrixWorldNeedsUpdate(buffer, offset) {\n                    var dest = this.resolvedProperty;\n\n                    for (var i = 0, n = dest.length; i !== n; ++i) {\n                        dest[i] = buffer[offset++];\n                    }\n\n                    this.targetObject.matrixWorldNeedsUpdate = true;\n                }\n            ],\n            [ // ArrayElement\n                function setValue_arrayElement(buffer, offset) {\n                    this.resolvedProperty[this.propertyIndex] = buffer[offset];\n                },\n                function setValue_arrayElement_setNeedsUpdate(buffer, offset) {\n                    this.resolvedProperty[this.propertyIndex] = buffer[offset];\n                    this.targetObject.needsUpdate = true;\n                },\n                function setValue_arrayElement_setMatrixWorldNeedsUpdate(buffer, offset) {\n                    this.resolvedProperty[this.propertyIndex] = buffer[offset];\n                    this.targetObject.matrixWorldNeedsUpdate = true;\n                }\n            ],\n            [ // HasToFromArray\n                function setValue_fromArray(buffer, offset) {\n                    this.resolvedProperty.fromArray(buffer, offset);\n                },\n                function setValue_fromArray_setNeedsUpdate(buffer, offset) {\n                    this.resolvedProperty.fromArray(buffer, offset);\n                    this.targetObject.needsUpdate = true;\n                },\n                function setValue_fromArray_setMatrixWorldNeedsUpdate(buffer, offset) {\n                    this.resolvedProperty.fromArray(buffer, offset);\n                    this.targetObject.matrixWorldNeedsUpdate = true;\n                }\n            ]\n        ],\n        getValue: function getValue_unbound(targetArray, offset) {\n            this.bind();\n            this.getValue(targetArray, offset); // Note: This class uses a State pattern on a per-method basis:\n            // 'bind' sets 'this.getValue' / 'setValue' and shadows the\n            // prototype version of these methods with one that represents\n            // the bound state. When the property is not found, the methods\n            // become no-ops.\n        },\n        setValue: function getValue_unbound(sourceArray, offset) {\n            this.bind();\n            this.setValue(sourceArray, offset);\n        },\n        // create getter / setter pair for a property in the scene graph\n        bind: function bind() {\n            var targetObject = this.node;\n            var parsedPath = this.parsedPath;\n            var objectName = parsedPath.objectName;\n            var propertyName = parsedPath.propertyName;\n            var propertyIndex = parsedPath.propertyIndex;\n\n            if (!targetObject) {\n                targetObject = PropertyBinding.findNode(this.rootNode, parsedPath.nodeName) || this.rootNode;\n                this.node = targetObject;\n            } // set fail state so we can just 'return' on error\n\n\n            this.getValue = this._getValue_unavailable;\n            this.setValue = this._setValue_unavailable; // ensure there is a value node\n\n            if (!targetObject) {\n                console.error('THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.');\n                return;\n            }\n\n            if (objectName) {\n                var objectIndex = parsedPath.objectIndex; // special cases were we need to reach deeper into the hierarchy to get the face materials....\n\n                switch (objectName) {\n                    case 'materials':\n                        if (!targetObject.material) {\n                            console.error('THREE.PropertyBinding: Can not bind to material as node does not have a material.', this);\n                            return;\n                        }\n\n                        if (!targetObject.material.materials) {\n                            console.error('THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this);\n                            return;\n                        }\n\n                        targetObject = targetObject.material.materials;\n                        break;\n\n                    case 'bones':\n                        if (!targetObject.skeleton) {\n                            console.error('THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this);\n                            return;\n                        } // potential future optimization: skip this if propertyIndex is already an integer\n                        // and convert the integer string to a true integer.\n\n\n                        targetObject = targetObject.skeleton.bones; // support resolving morphTarget names into indices.\n\n                        for (var i = 0; i < targetObject.length; i++) {\n                            if (targetObject[i].name === objectIndex) {\n                                objectIndex = i;\n                                break;\n                            }\n                        }\n\n                        break;\n\n                    default:\n                        if (targetObject[objectName] === undefined) {\n                            console.error('THREE.PropertyBinding: Can not bind to objectName of node undefined.', this);\n                            return;\n                        }\n\n                        targetObject = targetObject[objectName];\n                }\n\n                if (objectIndex !== undefined) {\n                    if (targetObject[objectIndex] === undefined) {\n                        console.error('THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject);\n                        return;\n                    }\n\n                    targetObject = targetObject[objectIndex];\n                }\n            } // resolve property\n\n\n            var nodeProperty = targetObject[propertyName];\n\n            if (nodeProperty === undefined) {\n                var nodeName = parsedPath.nodeName;\n                console.error('THREE.PropertyBinding: Trying to update property for track: ' + nodeName + '.' + propertyName + ' but it wasn\\'t found.', targetObject);\n                return;\n            } // determine versioning scheme\n\n\n            var versioning = this.Versioning.None;\n            this.targetObject = targetObject;\n\n            if (targetObject.needsUpdate !== undefined) {\n                // material\n                versioning = this.Versioning.NeedsUpdate;\n            } else if (targetObject.matrixWorldNeedsUpdate !== undefined) {\n                // node transform\n                versioning = this.Versioning.MatrixWorldNeedsUpdate;\n            } // determine how the property gets bound\n\n\n            var bindingType = this.BindingType.Direct;\n\n            if (propertyIndex !== undefined) {\n                // access a sub element of the property array (only primitives are supported right now)\n                if (propertyName === 'morphTargetInfluences') {\n                    // potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n                    // support resolving morphTarget names into indices.\n                    if (!targetObject.geometry) {\n                        console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this);\n                        return;\n                    }\n\n                    if (targetObject.geometry.isBufferGeometry) {\n                        if (!targetObject.geometry.morphAttributes) {\n                            console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this);\n                            return;\n                        }\n\n                        if (targetObject.morphTargetDictionary[propertyIndex] !== undefined) {\n                            propertyIndex = targetObject.morphTargetDictionary[propertyIndex];\n                        }\n                    } else {\n                        console.error('THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.', this);\n                        return;\n                    }\n                }\n\n                bindingType = this.BindingType.ArrayElement;\n                this.resolvedProperty = nodeProperty;\n                this.propertyIndex = propertyIndex;\n            } else if (nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined) {\n                // must use copy for Object3D.Euler/Quaternion\n                bindingType = this.BindingType.HasFromToArray;\n                this.resolvedProperty = nodeProperty;\n            } else if (Array.isArray(nodeProperty)) {\n                bindingType = this.BindingType.EntireArray;\n                this.resolvedProperty = nodeProperty;\n            } else {\n                this.propertyName = propertyName;\n            } // select getter / setter\n\n\n            this.getValue = this.GetterByBindingType[bindingType];\n            this.setValue = this.SetterByBindingTypeAndVersioning[bindingType][versioning];\n        },\n        unbind: function unbind() {\n            this.node = null; // back to the prototype version of getValue / setValue\n            // note: avoiding to mutate the shape of 'this' via 'delete'\n\n            this.getValue = this._getValue_unbound;\n            this.setValue = this._setValue_unbound;\n        }\n    }); // DECLARE ALIAS AFTER assign prototype\n\n    Object.assign(PropertyBinding.prototype, {\n        // initial state of these methods that calls 'bind'\n        _getValue_unbound: PropertyBinding.prototype.getValue,\n        _setValue_unbound: PropertyBinding.prototype.setValue\n    });\n\n    /**\n     *\n     * A group of objects that receives a shared animation state.\n     *\n     * Usage:\n     *\n     *\t- Add objects you would otherwise pass as 'root' to the\n     *\t\tconstructor or the .clipAction method of AnimationMixer.\n     *\n     *\t- Instead pass this object as 'root'.\n     *\n     *\t- You can also add and remove objects later when the mixer\n     *\t\tis running.\n     *\n     * Note:\n     *\n     *\t\tObjects of this class appear as one object to the mixer,\n     *\t\tso cache control of the individual objects must be done\n     *\t\ton the group.\n     *\n     * Limitation:\n     *\n     *\t- The animated properties must be compatible among the\n     *\t\tall objects in the group.\n     *\n     *\t- A single property can either be controlled through a\n     *\t\ttarget group or directly, but not both.\n     */\n\n    var AnimationObjectGroup = /*#__PURE__*/ function() {\n        function AnimationObjectGroup() {\n            this.uuid = MathUtils.generateUUID(); // cached objects followed by the active ones\n\n            this._objects = Array.prototype.slice.call(arguments);\n            this.nCachedObjects_ = 0; // threshold\n            // note: read by PropertyBinding.Composite\n\n            var indices = {};\n            this._indicesByUUID = indices; // for bookkeeping\n\n            for (var i = 0, n = arguments.length; i !== n; ++i) {\n                indices[arguments[i].uuid] = i;\n            }\n\n            this._paths = []; // inside: string\n\n            this._parsedPaths = []; // inside: { we don't care, here }\n\n            this._bindings = []; // inside: Array< PropertyBinding >\n\n            this._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n            var scope = this;\n            this.stats = {\n                objects: {\n                    get total() {\n                        return scope._objects.length;\n                    },\n\n                    get inUse() {\n                        return this.total - scope.nCachedObjects_;\n                    }\n\n                },\n\n                get bindingsPerObject() {\n                    return scope._bindings.length;\n                }\n\n            };\n        }\n\n        var _proto = AnimationObjectGroup.prototype;\n\n        _proto.add = function add() {\n            var objects = this._objects,\n                indicesByUUID = this._indicesByUUID,\n                paths = this._paths,\n                parsedPaths = this._parsedPaths,\n                bindings = this._bindings,\n                nBindings = bindings.length;\n            var knownObject = undefined,\n                nObjects = objects.length,\n                nCachedObjects = this.nCachedObjects_;\n\n            for (var i = 0, n = arguments.length; i !== n; ++i) {\n                var object = arguments[i],\n                    uuid = object.uuid;\n                var index = indicesByUUID[uuid];\n\n                if (index === undefined) {\n                    // unknown object -> add it to the ACTIVE region\n                    index = nObjects++;\n                    indicesByUUID[uuid] = index;\n                    objects.push(object); // accounting is done, now do the same for all bindings\n\n                    for (var j = 0, m = nBindings; j !== m; ++j) {\n                        bindings[j].push(new PropertyBinding(object, paths[j], parsedPaths[j]));\n                    }\n                } else if (index < nCachedObjects) {\n                    knownObject = objects[index]; // move existing object to the ACTIVE region\n\n                    var firstActiveIndex = --nCachedObjects,\n                        lastCachedObject = objects[firstActiveIndex];\n                    indicesByUUID[lastCachedObject.uuid] = index;\n                    objects[index] = lastCachedObject;\n                    indicesByUUID[uuid] = firstActiveIndex;\n                    objects[firstActiveIndex] = object; // accounting is done, now do the same for all bindings\n\n                    for (var _j = 0, _m = nBindings; _j !== _m; ++_j) {\n                        var bindingsForPath = bindings[_j],\n                            lastCached = bindingsForPath[firstActiveIndex];\n                        var binding = bindingsForPath[index];\n                        bindingsForPath[index] = lastCached;\n\n                        if (binding === undefined) {\n                            // since we do not bother to create new bindings\n                            // for objects that are cached, the binding may\n                            // or may not exist\n                            binding = new PropertyBinding(object, paths[_j], parsedPaths[_j]);\n                        }\n\n                        bindingsForPath[firstActiveIndex] = binding;\n                    }\n                } else if (objects[index] !== knownObject) {\n                    console.error('THREE.AnimationObjectGroup: Different objects with the same UUID ' + 'detected. Clean the caches or recreate your infrastructure when reloading scenes.');\n                } // else the object is already where we want it to be\n\n            } // for arguments\n\n\n            this.nCachedObjects_ = nCachedObjects;\n        };\n\n        _proto.remove = function remove() {\n                var objects = this._objects,\n                    indicesByUUID = this._indicesByUUID,\n                    bindings = this._bindings,\n                    nBindings = bindings.length;\n                var nCachedObjects = this.nCachedObjects_;\n\n                for (var i = 0, n = arguments.length; i !== n; ++i) {\n                    var object = arguments[i],\n                        uuid = object.uuid,\n                        index = indicesByUUID[uuid];\n\n                    if (index !== undefined && index >= nCachedObjects) {\n                        // move existing object into the CACHED region\n                        var lastCachedIndex = nCachedObjects++,\n                            firstActiveObject = objects[lastCachedIndex];\n                        indicesByUUID[firstActiveObject.uuid] = index;\n                        objects[index] = firstActiveObject;\n                        indicesByUUID[uuid] = lastCachedIndex;\n                        objects[lastCachedIndex] = object; // accounting is done, now do the same for all bindings\n\n                        for (var j = 0, m = nBindings; j !== m; ++j) {\n                            var bindingsForPath = bindings[j],\n                                firstActive = bindingsForPath[lastCachedIndex],\n                                binding = bindingsForPath[index];\n                            bindingsForPath[index] = firstActive;\n                            bindingsForPath[lastCachedIndex] = binding;\n                        }\n                    }\n                } // for arguments\n\n\n                this.nCachedObjects_ = nCachedObjects;\n            } // remove & forget\n        ;\n\n        _proto.uncache = function uncache() {\n                var objects = this._objects,\n                    indicesByUUID = this._indicesByUUID,\n                    bindings = this._bindings,\n                    nBindings = bindings.length;\n                var nCachedObjects = this.nCachedObjects_,\n                    nObjects = objects.length;\n\n                for (var i = 0, n = arguments.length; i !== n; ++i) {\n                    var object = arguments[i],\n                        uuid = object.uuid,\n                        index = indicesByUUID[uuid];\n\n                    if (index !== undefined) {\n                        delete indicesByUUID[uuid];\n\n                        if (index < nCachedObjects) {\n                            // object is cached, shrink the CACHED region\n                            var firstActiveIndex = --nCachedObjects,\n                                lastCachedObject = objects[firstActiveIndex],\n                                lastIndex = --nObjects,\n                                lastObject = objects[lastIndex]; // last cached object takes this object's place\n\n                            indicesByUUID[lastCachedObject.uuid] = index;\n                            objects[index] = lastCachedObject; // last object goes to the activated slot and pop\n\n                            indicesByUUID[lastObject.uuid] = firstActiveIndex;\n                            objects[firstActiveIndex] = lastObject;\n                            objects.pop(); // accounting is done, now do the same for all bindings\n\n                            for (var j = 0, m = nBindings; j !== m; ++j) {\n                                var bindingsForPath = bindings[j],\n                                    lastCached = bindingsForPath[firstActiveIndex],\n                                    last = bindingsForPath[lastIndex];\n                                bindingsForPath[index] = lastCached;\n                                bindingsForPath[firstActiveIndex] = last;\n                                bindingsForPath.pop();\n                            }\n                        } else {\n                            // object is active, just swap with the last and pop\n                            var _lastIndex = --nObjects,\n                                _lastObject = objects[_lastIndex];\n\n                            if (_lastIndex > 0) {\n                                indicesByUUID[_lastObject.uuid] = index;\n                            }\n\n                            objects[index] = _lastObject;\n                            objects.pop(); // accounting is done, now do the same for all bindings\n\n                            for (var _j2 = 0, _m2 = nBindings; _j2 !== _m2; ++_j2) {\n                                var _bindingsForPath = bindings[_j2];\n                                _bindingsForPath[index] = _bindingsForPath[_lastIndex];\n\n                                _bindingsForPath.pop();\n                            }\n                        } // cached or active\n\n                    } // if object is known\n\n                } // for arguments\n\n\n                this.nCachedObjects_ = nCachedObjects;\n            } // Internal interface used by befriended PropertyBinding.Composite:\n        ;\n\n        _proto.subscribe_ = function subscribe_(path, parsedPath) {\n            // returns an array of bindings for the given path that is changed\n            // according to the contained objects in the group\n            var indicesByPath = this._bindingsIndicesByPath;\n            var index = indicesByPath[path];\n            var bindings = this._bindings;\n            if (index !== undefined) return bindings[index];\n            var paths = this._paths,\n                parsedPaths = this._parsedPaths,\n                objects = this._objects,\n                nObjects = objects.length,\n                nCachedObjects = this.nCachedObjects_,\n                bindingsForPath = new Array(nObjects);\n            index = bindings.length;\n            indicesByPath[path] = index;\n            paths.push(path);\n            parsedPaths.push(parsedPath);\n            bindings.push(bindingsForPath);\n\n            for (var i = nCachedObjects, n = objects.length; i !== n; ++i) {\n                var object = objects[i];\n                bindingsForPath[i] = new PropertyBinding(object, path, parsedPath);\n            }\n\n            return bindingsForPath;\n        };\n\n        _proto.unsubscribe_ = function unsubscribe_(path) {\n            // tells the group to forget about a property path and no longer\n            // update the array previously obtained with 'subscribe_'\n            var indicesByPath = this._bindingsIndicesByPath,\n                index = indicesByPath[path];\n\n            if (index !== undefined) {\n                var paths = this._paths,\n                    parsedPaths = this._parsedPaths,\n                    bindings = this._bindings,\n                    lastBindingsIndex = bindings.length - 1,\n                    lastBindings = bindings[lastBindingsIndex],\n                    lastBindingsPath = path[lastBindingsIndex];\n                indicesByPath[lastBindingsPath] = index;\n                bindings[index] = lastBindings;\n                bindings.pop();\n                parsedPaths[index] = parsedPaths[lastBindingsIndex];\n                parsedPaths.pop();\n                paths[index] = paths[lastBindingsIndex];\n                paths.pop();\n            }\n        };\n\n        return AnimationObjectGroup;\n    }();\n\n    AnimationObjectGroup.prototype.isAnimationObjectGroup = true;\n\n    var AnimationAction = /*#__PURE__*/ function() {\n        function AnimationAction(mixer, clip, localRoot, blendMode) {\n            if (localRoot === void 0) {\n                localRoot = null;\n            }\n\n            if (blendMode === void 0) {\n                blendMode = clip.blendMode;\n            }\n\n            this._mixer = mixer;\n            this._clip = clip;\n            this._localRoot = localRoot;\n            this.blendMode = blendMode;\n            var tracks = clip.tracks,\n                nTracks = tracks.length,\n                interpolants = new Array(nTracks);\n            var interpolantSettings = {\n                endingStart: ZeroCurvatureEnding,\n                endingEnd: ZeroCurvatureEnding\n            };\n\n            for (var i = 0; i !== nTracks; ++i) {\n                var interpolant = tracks[i].createInterpolant(null);\n                interpolants[i] = interpolant;\n                interpolant.settings = interpolantSettings;\n            }\n\n            this._interpolantSettings = interpolantSettings;\n            this._interpolants = interpolants; // bound by the mixer\n            // inside: PropertyMixer (managed by the mixer)\n\n            this._propertyBindings = new Array(nTracks);\n            this._cacheIndex = null; // for the memory manager\n\n            this._byClipCacheIndex = null; // for the memory manager\n\n            this._timeScaleInterpolant = null;\n            this._weightInterpolant = null;\n            this.loop = LoopRepeat;\n            this._loopCount = -1; // global mixer time when the action is to be started\n            // it's set back to 'null' upon start of the action\n\n            this._startTime = null; // scaled local time of the action\n            // gets clamped or wrapped to 0..clip.duration according to loop\n\n            this.time = 0;\n            this.timeScale = 1;\n            this._effectiveTimeScale = 1;\n            this.weight = 1;\n            this._effectiveWeight = 1;\n            this.repetitions = Infinity; // no. of repetitions when looping\n\n            this.paused = false; // true -> zero effective time scale\n\n            this.enabled = true; // false -> zero effective weight\n\n            this.clampWhenFinished = false; // keep feeding the last frame?\n\n            this.zeroSlopeAtStart = true; // for smooth interpolation w/o separate\n\n            this.zeroSlopeAtEnd = true; // clips for start, loop and end\n        } // State & Scheduling\n\n\n        var _proto = AnimationAction.prototype;\n\n        _proto.play = function play() {\n            this._mixer._activateAction(this);\n\n            return this;\n        };\n\n        _proto.stop = function stop() {\n            this._mixer._deactivateAction(this);\n\n            return this.reset();\n        };\n\n        _proto.reset = function reset() {\n            this.paused = false;\n            this.enabled = true;\n            this.time = 0; // restart clip\n\n            this._loopCount = -1; // forget previous loops\n\n            this._startTime = null; // forget scheduling\n\n            return this.stopFading().stopWarping();\n        };\n\n        _proto.isRunning = function isRunning() {\n                return this.enabled && !this.paused && this.timeScale !== 0 && this._startTime === null && this._mixer._isActiveAction(this);\n            } // return true when play has been called\n        ;\n\n        _proto.isScheduled = function isScheduled() {\n            return this._mixer._isActiveAction(this);\n        };\n\n        _proto.startAt = function startAt(time) {\n            this._startTime = time;\n            return this;\n        };\n\n        _proto.setLoop = function setLoop(mode, repetitions) {\n                this.loop = mode;\n                this.repetitions = repetitions;\n                return this;\n            } // Weight\n            // set the weight stopping any scheduled fading\n            // although .enabled = false yields an effective weight of zero, this\n            // method does *not* change .enabled, because it would be confusing\n        ;\n\n        _proto.setEffectiveWeight = function setEffectiveWeight(weight) {\n                this.weight = weight; // note: same logic as when updated at runtime\n\n                this._effectiveWeight = this.enabled ? weight : 0;\n                return this.stopFading();\n            } // return the weight considering fading and .enabled\n        ;\n\n        _proto.getEffectiveWeight = function getEffectiveWeight() {\n            return this._effectiveWeight;\n        };\n\n        _proto.fadeIn = function fadeIn(duration) {\n            return this._scheduleFading(duration, 0, 1);\n        };\n\n        _proto.fadeOut = function fadeOut(duration) {\n            return this._scheduleFading(duration, 1, 0);\n        };\n\n        _proto.crossFadeFrom = function crossFadeFrom(fadeOutAction, duration, warp) {\n            fadeOutAction.fadeOut(duration);\n            this.fadeIn(duration);\n\n            if (warp) {\n                var fadeInDuration = this._clip.duration,\n                    fadeOutDuration = fadeOutAction._clip.duration,\n                    startEndRatio = fadeOutDuration / fadeInDuration,\n                    endStartRatio = fadeInDuration / fadeOutDuration;\n                fadeOutAction.warp(1.0, startEndRatio, duration);\n                this.warp(endStartRatio, 1.0, duration);\n            }\n\n            return this;\n        };\n\n        _proto.crossFadeTo = function crossFadeTo(fadeInAction, duration, warp) {\n            return fadeInAction.crossFadeFrom(this, duration, warp);\n        };\n\n        _proto.stopFading = function stopFading() {\n                var weightInterpolant = this._weightInterpolant;\n\n                if (weightInterpolant !== null) {\n                    this._weightInterpolant = null;\n\n                    this._mixer._takeBackControlInterpolant(weightInterpolant);\n                }\n\n                return this;\n            } // Time Scale Control\n            // set the time scale stopping any scheduled warping\n            // although .paused = true yields an effective time scale of zero, this\n            // method does *not* change .paused, because it would be confusing\n        ;\n\n        _proto.setEffectiveTimeScale = function setEffectiveTimeScale(timeScale) {\n                this.timeScale = timeScale;\n                this._effectiveTimeScale = this.paused ? 0 : timeScale;\n                return this.stopWarping();\n            } // return the time scale considering warping and .paused\n        ;\n\n        _proto.getEffectiveTimeScale = function getEffectiveTimeScale() {\n            return this._effectiveTimeScale;\n        };\n\n        _proto.setDuration = function setDuration(duration) {\n            this.timeScale = this._clip.duration / duration;\n            return this.stopWarping();\n        };\n\n        _proto.syncWith = function syncWith(action) {\n            this.time = action.time;\n            this.timeScale = action.timeScale;\n            return this.stopWarping();\n        };\n\n        _proto.halt = function halt(duration) {\n            return this.warp(this._effectiveTimeScale, 0, duration);\n        };\n\n        _proto.warp = function warp(startTimeScale, endTimeScale, duration) {\n            var mixer = this._mixer,\n                now = mixer.time,\n                timeScale = this.timeScale;\n            var interpolant = this._timeScaleInterpolant;\n\n            if (interpolant === null) {\n                interpolant = mixer._lendControlInterpolant();\n                this._timeScaleInterpolant = interpolant;\n            }\n\n            var times = interpolant.parameterPositions,\n                values = interpolant.sampleValues;\n            times[0] = now;\n            times[1] = now + duration;\n            values[0] = startTimeScale / timeScale;\n            values[1] = endTimeScale / timeScale;\n            return this;\n        };\n\n        _proto.stopWarping = function stopWarping() {\n                var timeScaleInterpolant = this._timeScaleInterpolant;\n\n                if (timeScaleInterpolant !== null) {\n                    this._timeScaleInterpolant = null;\n\n                    this._mixer._takeBackControlInterpolant(timeScaleInterpolant);\n                }\n\n                return this;\n            } // Object Accessors\n        ;\n\n        _proto.getMixer = function getMixer() {\n            return this._mixer;\n        };\n\n        _proto.getClip = function getClip() {\n            return this._clip;\n        };\n\n        _proto.getRoot = function getRoot() {\n                return this._localRoot || this._mixer._root;\n            } // Interna\n        ;\n\n        _proto._update = function _update(time, deltaTime, timeDirection, accuIndex) {\n            // called by the mixer\n            if (!this.enabled) {\n                // call ._updateWeight() to update ._effectiveWeight\n                this._updateWeight(time);\n\n                return;\n            }\n\n            var startTime = this._startTime;\n\n            if (startTime !== null) {\n                // check for scheduled start of action\n                var timeRunning = (time - startTime) * timeDirection;\n\n                if (timeRunning < 0 || timeDirection === 0) {\n                    return; // yet to come / don't decide when delta = 0\n                } // start\n\n\n                this._startTime = null; // unschedule\n\n                deltaTime = timeDirection * timeRunning;\n            } // apply time scale and advance time\n\n\n            deltaTime *= this._updateTimeScale(time);\n\n            var clipTime = this._updateTime(deltaTime); // note: _updateTime may disable the action resulting in\n            // an effective weight of 0\n\n\n            var weight = this._updateWeight(time);\n\n            if (weight > 0) {\n                var _interpolants = this._interpolants;\n                var propertyMixers = this._propertyBindings;\n\n                switch (this.blendMode) {\n                    case AdditiveAnimationBlendMode:\n                        for (var j = 0, m = _interpolants.length; j !== m; ++j) {\n                            _interpolants[j].evaluate(clipTime);\n\n                            propertyMixers[j].accumulateAdditive(weight);\n                        }\n\n                        break;\n\n                    case NormalAnimationBlendMode:\n                    default:\n                        for (var _j = 0, _m = _interpolants.length; _j !== _m; ++_j) {\n                            _interpolants[_j].evaluate(clipTime);\n\n                            propertyMixers[_j].accumulate(accuIndex, weight);\n                        }\n\n                }\n            }\n        };\n\n        _proto._updateWeight = function _updateWeight(time) {\n            var weight = 0;\n\n            if (this.enabled) {\n                weight = this.weight;\n                var interpolant = this._weightInterpolant;\n\n                if (interpolant !== null) {\n                    var interpolantValue = interpolant.evaluate(time)[0];\n                    weight *= interpolantValue;\n\n                    if (time > interpolant.parameterPositions[1]) {\n                        this.stopFading();\n\n                        if (interpolantValue === 0) {\n                            // faded out, disable\n                            this.enabled = false;\n                        }\n                    }\n                }\n            }\n\n            this._effectiveWeight = weight;\n            return weight;\n        };\n\n        _proto._updateTimeScale = function _updateTimeScale(time) {\n            var timeScale = 0;\n\n            if (!this.paused) {\n                timeScale = this.timeScale;\n                var interpolant = this._timeScaleInterpolant;\n\n                if (interpolant !== null) {\n                    var interpolantValue = interpolant.evaluate(time)[0];\n                    timeScale *= interpolantValue;\n\n                    if (time > interpolant.parameterPositions[1]) {\n                        this.stopWarping();\n\n                        if (timeScale === 0) {\n                            // motion has halted, pause\n                            this.paused = true;\n                        } else {\n                            // warp done - apply final time scale\n                            this.timeScale = timeScale;\n                        }\n                    }\n                }\n            }\n\n            this._effectiveTimeScale = timeScale;\n            return timeScale;\n        };\n\n        _proto._updateTime = function _updateTime(deltaTime) {\n            var duration = this._clip.duration;\n            var loop = this.loop;\n            var time = this.time + deltaTime;\n            var loopCount = this._loopCount;\n            var pingPong = loop === LoopPingPong;\n\n            if (deltaTime === 0) {\n                if (loopCount === -1) return time;\n                return pingPong && (loopCount & 1) === 1 ? duration - time : time;\n            }\n\n            if (loop === LoopOnce) {\n                if (loopCount === -1) {\n                    // just started\n                    this._loopCount = 0;\n\n                    this._setEndings(true, true, false);\n                }\n\n                handle_stop: {\n                    if (time >= duration) {\n                        time = duration;\n                    } else if (time < 0) {\n                        time = 0;\n                    } else {\n                        this.time = time;\n                        break handle_stop;\n                    }\n\n                    if (this.clampWhenFinished) this.paused = true;\n                    else this.enabled = false;\n                    this.time = time;\n\n                    this._mixer.dispatchEvent({\n                        type: 'finished',\n                        action: this,\n                        direction: deltaTime < 0 ? -1 : 1\n                    });\n                }\n            } else {\n                // repetitive Repeat or PingPong\n                if (loopCount === -1) {\n                    // just started\n                    if (deltaTime >= 0) {\n                        loopCount = 0;\n\n                        this._setEndings(true, this.repetitions === 0, pingPong);\n                    } else {\n                        // when looping in reverse direction, the initial\n                        // transition through zero counts as a repetition,\n                        // so leave loopCount at -1\n                        this._setEndings(this.repetitions === 0, true, pingPong);\n                    }\n                }\n\n                if (time >= duration || time < 0) {\n                    // wrap around\n                    var loopDelta = Math.floor(time / duration); // signed\n\n                    time -= duration * loopDelta;\n                    loopCount += Math.abs(loopDelta);\n                    var pending = this.repetitions - loopCount;\n\n                    if (pending <= 0) {\n                        // have to stop (switch state, clamp time, fire event)\n                        if (this.clampWhenFinished) this.paused = true;\n                        else this.enabled = false;\n                        time = deltaTime > 0 ? duration : 0;\n                        this.time = time;\n\n                        this._mixer.dispatchEvent({\n                            type: 'finished',\n                            action: this,\n                            direction: deltaTime > 0 ? 1 : -1\n                        });\n                    } else {\n                        // keep running\n                        if (pending === 1) {\n                            // entering the last round\n                            var atStart = deltaTime < 0;\n\n                            this._setEndings(atStart, !atStart, pingPong);\n                        } else {\n                            this._setEndings(false, false, pingPong);\n                        }\n\n                        this._loopCount = loopCount;\n                        this.time = time;\n\n                        this._mixer.dispatchEvent({\n                            type: 'loop',\n                            action: this,\n                            loopDelta: loopDelta\n                        });\n                    }\n                } else {\n                    this.time = time;\n                }\n\n                if (pingPong && (loopCount & 1) === 1) {\n                    // invert time for the \"pong round\"\n                    return duration - time;\n                }\n            }\n\n            return time;\n        };\n\n        _proto._setEndings = function _setEndings(atStart, atEnd, pingPong) {\n            var settings = this._interpolantSettings;\n\n            if (pingPong) {\n                settings.endingStart = ZeroSlopeEnding;\n                settings.endingEnd = ZeroSlopeEnding;\n            } else {\n                // assuming for LoopOnce atStart == atEnd == true\n                if (atStart) {\n                    settings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n                } else {\n                    settings.endingStart = WrapAroundEnding;\n                }\n\n                if (atEnd) {\n                    settings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n                } else {\n                    settings.endingEnd = WrapAroundEnding;\n                }\n            }\n        };\n\n        _proto._scheduleFading = function _scheduleFading(duration, weightNow, weightThen) {\n            var mixer = this._mixer,\n                now = mixer.time;\n            var interpolant = this._weightInterpolant;\n\n            if (interpolant === null) {\n                interpolant = mixer._lendControlInterpolant();\n                this._weightInterpolant = interpolant;\n            }\n\n            var times = interpolant.parameterPositions,\n                values = interpolant.sampleValues;\n            times[0] = now;\n            values[0] = weightNow;\n            times[1] = now + duration;\n            values[1] = weightThen;\n            return this;\n        };\n\n        return AnimationAction;\n    }();\n\n    var AnimationMixer = /*#__PURE__*/ function(_EventDispatcher) {\n        _inheritsLoose(AnimationMixer, _EventDispatcher);\n\n        function AnimationMixer(root) {\n            var _this;\n\n            _this = _EventDispatcher.call(this) || this;\n            _this._root = root;\n\n            _this._initMemoryManager();\n\n            _this._accuIndex = 0;\n            _this.time = 0;\n            _this.timeScale = 1.0;\n            return _this;\n        }\n\n        var _proto = AnimationMixer.prototype;\n\n        _proto._bindAction = function _bindAction(action, prototypeAction) {\n            var root = action._localRoot || this._root,\n                tracks = action._clip.tracks,\n                nTracks = tracks.length,\n                bindings = action._propertyBindings,\n                interpolants = action._interpolants,\n                rootUuid = root.uuid,\n                bindingsByRoot = this._bindingsByRootAndName;\n            var bindingsByName = bindingsByRoot[rootUuid];\n\n            if (bindingsByName === undefined) {\n                bindingsByName = {};\n                bindingsByRoot[rootUuid] = bindingsByName;\n            }\n\n            for (var i = 0; i !== nTracks; ++i) {\n                var track = tracks[i],\n                    trackName = track.name;\n                var binding = bindingsByName[trackName];\n\n                if (binding !== undefined) {\n                    bindings[i] = binding;\n                } else {\n                    binding = bindings[i];\n\n                    if (binding !== undefined) {\n                        // existing binding, make sure the cache knows\n                        if (binding._cacheIndex === null) {\n                            ++binding.referenceCount;\n\n                            this._addInactiveBinding(binding, rootUuid, trackName);\n                        }\n\n                        continue;\n                    }\n\n                    var path = prototypeAction && prototypeAction._propertyBindings[i].binding.parsedPath;\n                    binding = new PropertyMixer(PropertyBinding.create(root, trackName, path), track.ValueTypeName, track.getValueSize());\n                    ++binding.referenceCount;\n\n                    this._addInactiveBinding(binding, rootUuid, trackName);\n\n                    bindings[i] = binding;\n                }\n\n                interpolants[i].resultBuffer = binding.buffer;\n            }\n        };\n\n        _proto._activateAction = function _activateAction(action) {\n            if (!this._isActiveAction(action)) {\n                if (action._cacheIndex === null) {\n                    // this action has been forgotten by the cache, but the user\n                    // appears to be still using it -> rebind\n                    var rootUuid = (action._localRoot || this._root).uuid,\n                        clipUuid = action._clip.uuid,\n                        actionsForClip = this._actionsByClip[clipUuid];\n\n                    this._bindAction(action, actionsForClip && actionsForClip.knownActions[0]);\n\n                    this._addInactiveAction(action, clipUuid, rootUuid);\n                }\n\n                var bindings = action._propertyBindings; // increment reference counts / sort out state\n\n                for (var i = 0, n = bindings.length; i !== n; ++i) {\n                    var binding = bindings[i];\n\n                    if (binding.useCount++ === 0) {\n                        this._lendBinding(binding);\n\n                        binding.saveOriginalState();\n                    }\n                }\n\n                this._lendAction(action);\n            }\n        };\n\n        _proto._deactivateAction = function _deactivateAction(action) {\n                if (this._isActiveAction(action)) {\n                    var bindings = action._propertyBindings; // decrement reference counts / sort out state\n\n                    for (var i = 0, n = bindings.length; i !== n; ++i) {\n                        var binding = bindings[i];\n\n                        if (--binding.useCount === 0) {\n                            binding.restoreOriginalState();\n\n                            this._takeBackBinding(binding);\n                        }\n                    }\n\n                    this._takeBackAction(action);\n                }\n            } // Memory manager\n        ;\n\n        _proto._initMemoryManager = function _initMemoryManager() {\n                this._actions = []; // 'nActiveActions' followed by inactive ones\n\n                this._nActiveActions = 0;\n                this._actionsByClip = {}; // inside:\n                // {\n                // \tknownActions: Array< AnimationAction > - used as prototypes\n                // \tactionByRoot: AnimationAction - lookup\n                // }\n\n                this._bindings = []; // 'nActiveBindings' followed by inactive ones\n\n                this._nActiveBindings = 0;\n                this._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n                this._controlInterpolants = []; // same game as above\n\n                this._nActiveControlInterpolants = 0;\n                var scope = this;\n                this.stats = {\n                    actions: {\n                        get total() {\n                            return scope._actions.length;\n                        },\n\n                        get inUse() {\n                            return scope._nActiveActions;\n                        }\n\n                    },\n                    bindings: {\n                        get total() {\n                            return scope._bindings.length;\n                        },\n\n                        get inUse() {\n                            return scope._nActiveBindings;\n                        }\n\n                    },\n                    controlInterpolants: {\n                        get total() {\n                            return scope._controlInterpolants.length;\n                        },\n\n                        get inUse() {\n                            return scope._nActiveControlInterpolants;\n                        }\n\n                    }\n                };\n            } // Memory management for AnimationAction objects\n        ;\n\n        _proto._isActiveAction = function _isActiveAction(action) {\n            var index = action._cacheIndex;\n            return index !== null && index < this._nActiveActions;\n        };\n\n        _proto._addInactiveAction = function _addInactiveAction(action, clipUuid, rootUuid) {\n            var actions = this._actions,\n                actionsByClip = this._actionsByClip;\n            var actionsForClip = actionsByClip[clipUuid];\n\n            if (actionsForClip === undefined) {\n                actionsForClip = {\n                    knownActions: [action],\n                    actionByRoot: {}\n                };\n                action._byClipCacheIndex = 0;\n                actionsByClip[clipUuid] = actionsForClip;\n            } else {\n                var knownActions = actionsForClip.knownActions;\n                action._byClipCacheIndex = knownActions.length;\n                knownActions.push(action);\n            }\n\n            action._cacheIndex = actions.length;\n            actions.push(action);\n            actionsForClip.actionByRoot[rootUuid] = action;\n        };\n\n        _proto._removeInactiveAction = function _removeInactiveAction(action) {\n            var actions = this._actions,\n                lastInactiveAction = actions[actions.length - 1],\n                cacheIndex = action._cacheIndex;\n            lastInactiveAction._cacheIndex = cacheIndex;\n            actions[cacheIndex] = lastInactiveAction;\n            actions.pop();\n            action._cacheIndex = null;\n            var clipUuid = action._clip.uuid,\n                actionsByClip = this._actionsByClip,\n                actionsForClip = actionsByClip[clipUuid],\n                knownActionsForClip = actionsForClip.knownActions,\n                lastKnownAction = knownActionsForClip[knownActionsForClip.length - 1],\n                byClipCacheIndex = action._byClipCacheIndex;\n            lastKnownAction._byClipCacheIndex = byClipCacheIndex;\n            knownActionsForClip[byClipCacheIndex] = lastKnownAction;\n            knownActionsForClip.pop();\n            action._byClipCacheIndex = null;\n            var actionByRoot = actionsForClip.actionByRoot,\n                rootUuid = (action._localRoot || this._root).uuid;\n            delete actionByRoot[rootUuid];\n\n            if (knownActionsForClip.length === 0) {\n                delete actionsByClip[clipUuid];\n            }\n\n            this._removeInactiveBindingsForAction(action);\n        };\n\n        _proto._removeInactiveBindingsForAction = function _removeInactiveBindingsForAction(action) {\n            var bindings = action._propertyBindings;\n\n            for (var i = 0, n = bindings.length; i !== n; ++i) {\n                var binding = bindings[i];\n\n                if (--binding.referenceCount === 0) {\n                    this._removeInactiveBinding(binding);\n                }\n            }\n        };\n\n        _proto._lendAction = function _lendAction(action) {\n            // [ active actions |\tinactive actions\t]\n            // [\tactive actions >| inactive actions ]\n            //\t\t\t\t\t\t\t\t s\t\t\t\ta\n            //\t\t\t\t\t\t\t\t\t<-swap->\n            //\t\t\t\t\t\t\t\t a\t\t\t\ts\n            var actions = this._actions,\n                prevIndex = action._cacheIndex,\n                lastActiveIndex = this._nActiveActions++,\n                firstInactiveAction = actions[lastActiveIndex];\n            action._cacheIndex = lastActiveIndex;\n            actions[lastActiveIndex] = action;\n            firstInactiveAction._cacheIndex = prevIndex;\n            actions[prevIndex] = firstInactiveAction;\n        };\n\n        _proto._takeBackAction = function _takeBackAction(action) {\n                // [\tactive actions\t| inactive actions ]\n                // [ active actions |< inactive actions\t]\n                //\t\t\t\ta\t\t\t\ts\n                //\t\t\t\t <-swap->\n                //\t\t\t\ts\t\t\t\ta\n                var actions = this._actions,\n                    prevIndex = action._cacheIndex,\n                    firstInactiveIndex = --this._nActiveActions,\n                    lastActiveAction = actions[firstInactiveIndex];\n                action._cacheIndex = firstInactiveIndex;\n                actions[firstInactiveIndex] = action;\n                lastActiveAction._cacheIndex = prevIndex;\n                actions[prevIndex] = lastActiveAction;\n            } // Memory management for PropertyMixer objects\n        ;\n\n        _proto._addInactiveBinding = function _addInactiveBinding(binding, rootUuid, trackName) {\n            var bindingsByRoot = this._bindingsByRootAndName,\n                bindings = this._bindings;\n            var bindingByName = bindingsByRoot[rootUuid];\n\n            if (bindingByName === undefined) {\n                bindingByName = {};\n                bindingsByRoot[rootUuid] = bindingByName;\n            }\n\n            bindingByName[trackName] = binding;\n            binding._cacheIndex = bindings.length;\n            bindings.push(binding);\n        };\n\n        _proto._removeInactiveBinding = function _removeInactiveBinding(binding) {\n            var bindings = this._bindings,\n                propBinding = binding.binding,\n                rootUuid = propBinding.rootNode.uuid,\n                trackName = propBinding.path,\n                bindingsByRoot = this._bindingsByRootAndName,\n                bindingByName = bindingsByRoot[rootUuid],\n                lastInactiveBinding = bindings[bindings.length - 1],\n                cacheIndex = binding._cacheIndex;\n            lastInactiveBinding._cacheIndex = cacheIndex;\n            bindings[cacheIndex] = lastInactiveBinding;\n            bindings.pop();\n            delete bindingByName[trackName];\n\n            if (Object.keys(bindingByName).length === 0) {\n                delete bindingsByRoot[rootUuid];\n            }\n        };\n\n        _proto._lendBinding = function _lendBinding(binding) {\n            var bindings = this._bindings,\n                prevIndex = binding._cacheIndex,\n                lastActiveIndex = this._nActiveBindings++,\n                firstInactiveBinding = bindings[lastActiveIndex];\n            binding._cacheIndex = lastActiveIndex;\n            bindings[lastActiveIndex] = binding;\n            firstInactiveBinding._cacheIndex = prevIndex;\n            bindings[prevIndex] = firstInactiveBinding;\n        };\n\n        _proto._takeBackBinding = function _takeBackBinding(binding) {\n                var bindings = this._bindings,\n                    prevIndex = binding._cacheIndex,\n                    firstInactiveIndex = --this._nActiveBindings,\n                    lastActiveBinding = bindings[firstInactiveIndex];\n                binding._cacheIndex = firstInactiveIndex;\n                bindings[firstInactiveIndex] = binding;\n                lastActiveBinding._cacheIndex = prevIndex;\n                bindings[prevIndex] = lastActiveBinding;\n            } // Memory management of Interpolants for weight and time scale\n        ;\n\n        _proto._lendControlInterpolant = function _lendControlInterpolant() {\n            var interpolants = this._controlInterpolants,\n                lastActiveIndex = this._nActiveControlInterpolants++;\n            var interpolant = interpolants[lastActiveIndex];\n\n            if (interpolant === undefined) {\n                interpolant = new LinearInterpolant(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer);\n                interpolant.__cacheIndex = lastActiveIndex;\n                interpolants[lastActiveIndex] = interpolant;\n            }\n\n            return interpolant;\n        };\n\n        _proto._takeBackControlInterpolant = function _takeBackControlInterpolant(interpolant) {\n                var interpolants = this._controlInterpolants,\n                    prevIndex = interpolant.__cacheIndex,\n                    firstInactiveIndex = --this._nActiveControlInterpolants,\n                    lastActiveInterpolant = interpolants[firstInactiveIndex];\n                interpolant.__cacheIndex = firstInactiveIndex;\n                interpolants[firstInactiveIndex] = interpolant;\n                lastActiveInterpolant.__cacheIndex = prevIndex;\n                interpolants[prevIndex] = lastActiveInterpolant;\n            } // return an action for a clip optionally using a custom root target\n            // object (this method allocates a lot of dynamic memory in case a\n            // previously unknown clip/root combination is specified)\n        ;\n\n        _proto.clipAction = function clipAction(clip, optionalRoot, blendMode) {\n                var root = optionalRoot || this._root,\n                    rootUuid = root.uuid;\n                var clipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip;\n                var clipUuid = clipObject !== null ? clipObject.uuid : clip;\n                var actionsForClip = this._actionsByClip[clipUuid];\n                var prototypeAction = null;\n\n                if (blendMode === undefined) {\n                    if (clipObject !== null) {\n                        blendMode = clipObject.blendMode;\n                    } else {\n                        blendMode = NormalAnimationBlendMode;\n                    }\n                }\n\n                if (actionsForClip !== undefined) {\n                    var existingAction = actionsForClip.actionByRoot[rootUuid];\n\n                    if (existingAction !== undefined && existingAction.blendMode === blendMode) {\n                        return existingAction;\n                    } // we know the clip, so we don't have to parse all\n                    // the bindings again but can just copy\n\n\n                    prototypeAction = actionsForClip.knownActions[0]; // also, take the clip from the prototype action\n\n                    if (clipObject === null) clipObject = prototypeAction._clip;\n                } // clip must be known when specified via string\n\n\n                if (clipObject === null) return null; // allocate all resources required to run it\n\n                var newAction = new AnimationAction(this, clipObject, optionalRoot, blendMode);\n\n                this._bindAction(newAction, prototypeAction); // and make the action known to the memory manager\n\n\n                this._addInactiveAction(newAction, clipUuid, rootUuid);\n\n                return newAction;\n            } // get an existing action\n        ;\n\n        _proto.existingAction = function existingAction(clip, optionalRoot) {\n                var root = optionalRoot || this._root,\n                    rootUuid = root.uuid,\n                    clipObject = typeof clip === 'string' ? AnimationClip.findByName(root, clip) : clip,\n                    clipUuid = clipObject ? clipObject.uuid : clip,\n                    actionsForClip = this._actionsByClip[clipUuid];\n\n                if (actionsForClip !== undefined) {\n                    return actionsForClip.actionByRoot[rootUuid] || null;\n                }\n\n                return null;\n            } // deactivates all previously scheduled actions\n        ;\n\n        _proto.stopAllAction = function stopAllAction() {\n                var actions = this._actions,\n                    nActions = this._nActiveActions;\n\n                for (var i = nActions - 1; i >= 0; --i) {\n                    actions[i].stop();\n                }\n\n                return this;\n            } // advance the time and update apply the animation\n        ;\n\n        _proto.update = function update(deltaTime) {\n                deltaTime *= this.timeScale;\n                var actions = this._actions,\n                    nActions = this._nActiveActions,\n                    time = this.time += deltaTime,\n                    timeDirection = Math.sign(deltaTime),\n                    accuIndex = this._accuIndex ^= 1; // run active actions\n\n                for (var i = 0; i !== nActions; ++i) {\n                    var action = actions[i];\n\n                    action._update(time, deltaTime, timeDirection, accuIndex);\n                } // update scene graph\n\n\n                var bindings = this._bindings,\n                    nBindings = this._nActiveBindings;\n\n                for (var _i = 0; _i !== nBindings; ++_i) {\n                    bindings[_i].apply(accuIndex);\n                }\n\n                return this;\n            } // Allows you to seek to a specific time in an animation.\n        ;\n\n        _proto.setTime = function setTime(timeInSeconds) {\n                this.time = 0; // Zero out time attribute for AnimationMixer object;\n\n                for (var i = 0; i < this._actions.length; i++) {\n                    this._actions[i].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n                }\n\n                return this.update(timeInSeconds); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n            } // return this mixer's root target object\n        ;\n\n        _proto.getRoot = function getRoot() {\n                return this._root;\n            } // free all resources specific to a particular clip\n        ;\n\n        _proto.uncacheClip = function uncacheClip(clip) {\n                var actions = this._actions,\n                    clipUuid = clip.uuid,\n                    actionsByClip = this._actionsByClip,\n                    actionsForClip = actionsByClip[clipUuid];\n\n                if (actionsForClip !== undefined) {\n                    // note: just calling _removeInactiveAction would mess up the\n                    // iteration state and also require updating the state we can\n                    // just throw away\n                    var actionsToRemove = actionsForClip.knownActions;\n\n                    for (var i = 0, n = actionsToRemove.length; i !== n; ++i) {\n                        var action = actionsToRemove[i];\n\n                        this._deactivateAction(action);\n\n                        var cacheIndex = action._cacheIndex,\n                            lastInactiveAction = actions[actions.length - 1];\n                        action._cacheIndex = null;\n                        action._byClipCacheIndex = null;\n                        lastInactiveAction._cacheIndex = cacheIndex;\n                        actions[cacheIndex] = lastInactiveAction;\n                        actions.pop();\n\n                        this._removeInactiveBindingsForAction(action);\n                    }\n\n                    delete actionsByClip[clipUuid];\n                }\n            } // free all resources specific to a particular root target object\n        ;\n\n        _proto.uncacheRoot = function uncacheRoot(root) {\n                var rootUuid = root.uuid,\n                    actionsByClip = this._actionsByClip;\n\n                for (var clipUuid in actionsByClip) {\n                    var actionByRoot = actionsByClip[clipUuid].actionByRoot,\n                        action = actionByRoot[rootUuid];\n\n                    if (action !== undefined) {\n                        this._deactivateAction(action);\n\n                        this._removeInactiveAction(action);\n                    }\n                }\n\n                var bindingsByRoot = this._bindingsByRootAndName,\n                    bindingByName = bindingsByRoot[rootUuid];\n\n                if (bindingByName !== undefined) {\n                    for (var trackName in bindingByName) {\n                        var binding = bindingByName[trackName];\n                        binding.restoreOriginalState();\n\n                        this._removeInactiveBinding(binding);\n                    }\n                }\n            } // remove a targeted clip from the cache\n        ;\n\n        _proto.uncacheAction = function uncacheAction(clip, optionalRoot) {\n            var action = this.existingAction(clip, optionalRoot);\n\n            if (action !== null) {\n                this._deactivateAction(action);\n\n                this._removeInactiveAction(action);\n            }\n        };\n\n        return AnimationMixer;\n    }(EventDispatcher);\n\n    AnimationMixer.prototype._controlInterpolantsResultBuffer = new Float32Array(1);\n\n    var Uniform = /*#__PURE__*/ function() {\n        function Uniform(value) {\n            if (typeof value === 'string') {\n                console.warn('THREE.Uniform: Type parameter is no longer needed.');\n                value = arguments[1];\n            }\n\n            this.value = value;\n        }\n\n        var _proto = Uniform.prototype;\n\n        _proto.clone = function clone() {\n            return new Uniform(this.value.clone === undefined ? this.value : this.value.clone());\n        };\n\n        return Uniform;\n    }();\n\n    function InstancedInterleavedBuffer(array, stride, meshPerAttribute) {\n        InterleavedBuffer.call(this, array, stride);\n        this.meshPerAttribute = meshPerAttribute || 1;\n    }\n\n    InstancedInterleavedBuffer.prototype = Object.assign(Object.create(InterleavedBuffer.prototype), {\n        constructor: InstancedInterleavedBuffer,\n        isInstancedInterleavedBuffer: true,\n        copy: function copy(source) {\n            InterleavedBuffer.prototype.copy.call(this, source);\n            this.meshPerAttribute = source.meshPerAttribute;\n            return this;\n        },\n        clone: function clone(data) {\n            var ib = InterleavedBuffer.prototype.clone.call(this, data);\n            ib.meshPerAttribute = this.meshPerAttribute;\n            return ib;\n        },\n        toJSON: function toJSON(data) {\n            var json = InterleavedBuffer.prototype.toJSON.call(this, data);\n            json.isInstancedInterleavedBuffer = true;\n            json.meshPerAttribute = this.meshPerAttribute;\n            return json;\n        }\n    });\n\n    function GLBufferAttribute(buffer, type, itemSize, elementSize, count) {\n        this.buffer = buffer;\n        this.type = type;\n        this.itemSize = itemSize;\n        this.elementSize = elementSize;\n        this.count = count;\n        this.version = 0;\n    }\n\n    Object.defineProperty(GLBufferAttribute.prototype, 'needsUpdate', {\n        set: function set(value) {\n            if (value === true) this.version++;\n        }\n    });\n    Object.assign(GLBufferAttribute.prototype, {\n        isGLBufferAttribute: true,\n        setBuffer: function setBuffer(buffer) {\n            this.buffer = buffer;\n            return this;\n        },\n        setType: function setType(type, elementSize) {\n            this.type = type;\n            this.elementSize = elementSize;\n            return this;\n        },\n        setItemSize: function setItemSize(itemSize) {\n            this.itemSize = itemSize;\n            return this;\n        },\n        setCount: function setCount(count) {\n            this.count = count;\n            return this;\n        }\n    });\n\n    function Raycaster(origin, direction, near, far) {\n        if (near === void 0) {\n            near = 0;\n        }\n\n        if (far === void 0) {\n            far = Infinity;\n        }\n\n        this.ray = new Ray(origin, direction); // direction is assumed to be normalized (for accurate distance calculations)\n\n        this.near = near;\n        this.far = far;\n        this.camera = null;\n        this.layers = new Layers();\n        this.params = {\n            Mesh: {},\n            Line: {\n                threshold: 1\n            },\n            LOD: {},\n            Points: {\n                threshold: 1\n            },\n            Sprite: {}\n        };\n        Object.defineProperties(this.params, {\n            PointCloud: {\n                get: function get() {\n                    console.warn('THREE.Raycaster: params.PointCloud has been renamed to params.Points.');\n                    return this.Points;\n                }\n            }\n        });\n    }\n\n    function ascSort(a, b) {\n        return a.distance - b.distance;\n    }\n\n    function _intersectObject(object, raycaster, intersects, recursive) {\n        if (object.layers.test(raycaster.layers)) {\n            object.raycast(raycaster, intersects);\n        }\n\n        if (recursive === true) {\n            var children = object.children;\n\n            for (var i = 0, l = children.length; i < l; i++) {\n                _intersectObject(children[i], raycaster, intersects, true);\n            }\n        }\n    }\n\n    Object.assign(Raycaster.prototype, {\n        set: function set(origin, direction) {\n            // direction is assumed to be normalized (for accurate distance calculations)\n            this.ray.set(origin, direction);\n        },\n        setFromCamera: function setFromCamera(coords, camera) {\n            if (camera && camera.isPerspectiveCamera) {\n                this.ray.origin.setFromMatrixPosition(camera.matrixWorld);\n                this.ray.direction.set(coords.x, coords.y, 0.5).unproject(camera).sub(this.ray.origin).normalize();\n                this.camera = camera;\n            } else if (camera && camera.isOrthographicCamera) {\n                this.ray.origin.set(coords.x, coords.y, (camera.near + camera.far) / (camera.near - camera.far)).unproject(camera); // set origin in plane of camera\n\n                this.ray.direction.set(0, 0, -1).transformDirection(camera.matrixWorld);\n                this.camera = camera;\n            } else {\n                console.error('THREE.Raycaster: Unsupported camera type: ' + camera.type);\n            }\n        },\n        intersectObject: function intersectObject(object, recursive, intersects) {\n            if (recursive === void 0) {\n                recursive = false;\n            }\n\n            if (intersects === void 0) {\n                intersects = [];\n            }\n\n            _intersectObject(object, this, intersects, recursive);\n\n            intersects.sort(ascSort);\n            return intersects;\n        },\n        intersectObjects: function intersectObjects(objects, recursive, intersects) {\n            if (recursive === void 0) {\n                recursive = false;\n            }\n\n            if (intersects === void 0) {\n                intersects = [];\n            }\n\n            for (var i = 0, l = objects.length; i < l; i++) {\n                _intersectObject(objects[i], this, intersects, recursive);\n            }\n\n            intersects.sort(ascSort);\n            return intersects;\n        }\n    });\n\n    /**\n     * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n     *\n     * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n     * The azimuthal angle (theta) is measured from the positive z-axis.\n     */\n\n    var Spherical = /*#__PURE__*/ function() {\n        function Spherical(radius, phi, theta) {\n            if (radius === void 0) {\n                radius = 1;\n            }\n\n            if (phi === void 0) {\n                phi = 0;\n            }\n\n            if (theta === void 0) {\n                theta = 0;\n            }\n\n            this.radius = radius;\n            this.phi = phi; // polar angle\n\n            this.theta = theta; // azimuthal angle\n\n            return this;\n        }\n\n        var _proto = Spherical.prototype;\n\n        _proto.set = function set(radius, phi, theta) {\n            this.radius = radius;\n            this.phi = phi;\n            this.theta = theta;\n            return this;\n        };\n\n        _proto.copy = function copy(other) {\n                this.radius = other.radius;\n                this.phi = other.phi;\n                this.theta = other.theta;\n                return this;\n            } // restrict phi to be betwee EPS and PI-EPS\n        ;\n\n        _proto.makeSafe = function makeSafe() {\n            var EPS = 0.000001;\n            this.phi = Math.max(EPS, Math.min(Math.PI - EPS, this.phi));\n            return this;\n        };\n\n        _proto.setFromVector3 = function setFromVector3(v) {\n            return this.setFromCartesianCoords(v.x, v.y, v.z);\n        };\n\n        _proto.setFromCartesianCoords = function setFromCartesianCoords(x, y, z) {\n            this.radius = Math.sqrt(x * x + y * y + z * z);\n\n            if (this.radius === 0) {\n                this.theta = 0;\n                this.phi = 0;\n            } else {\n                this.theta = Math.atan2(x, z);\n                this.phi = Math.acos(MathUtils.clamp(y / this.radius, -1, 1));\n            }\n\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        return Spherical;\n    }();\n\n    /**\n     * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n     */\n    var Cylindrical = /*#__PURE__*/ function() {\n        function Cylindrical(radius, theta, y) {\n            if (radius === void 0) {\n                radius = 1;\n            }\n\n            if (theta === void 0) {\n                theta = 0;\n            }\n\n            if (y === void 0) {\n                y = 0;\n            }\n\n            this.radius = radius; // distance from the origin to a point in the x-z plane\n\n            this.theta = theta; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\n            this.y = y; // height above the x-z plane\n\n            return this;\n        }\n\n        var _proto = Cylindrical.prototype;\n\n        _proto.set = function set(radius, theta, y) {\n            this.radius = radius;\n            this.theta = theta;\n            this.y = y;\n            return this;\n        };\n\n        _proto.copy = function copy(other) {\n            this.radius = other.radius;\n            this.theta = other.theta;\n            this.y = other.y;\n            return this;\n        };\n\n        _proto.setFromVector3 = function setFromVector3(v) {\n            return this.setFromCartesianCoords(v.x, v.y, v.z);\n        };\n\n        _proto.setFromCartesianCoords = function setFromCartesianCoords(x, y, z) {\n            this.radius = Math.sqrt(x * x + z * z);\n            this.theta = Math.atan2(x, z);\n            this.y = y;\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        return Cylindrical;\n    }();\n\n    var _vector$8 = /*@__PURE__*/ new Vector2();\n\n    var Box2 = /*#__PURE__*/ function() {\n        function Box2(min, max) {\n            if (min === void 0) {\n                min = new Vector2(+Infinity, +Infinity);\n            }\n\n            if (max === void 0) {\n                max = new Vector2(-Infinity, -Infinity);\n            }\n\n            this.min = min;\n            this.max = max;\n        }\n\n        var _proto = Box2.prototype;\n\n        _proto.set = function set(min, max) {\n            this.min.copy(min);\n            this.max.copy(max);\n            return this;\n        };\n\n        _proto.setFromPoints = function setFromPoints(points) {\n            this.makeEmpty();\n\n            for (var i = 0, il = points.length; i < il; i++) {\n                this.expandByPoint(points[i]);\n            }\n\n            return this;\n        };\n\n        _proto.setFromCenterAndSize = function setFromCenterAndSize(center, size) {\n            var halfSize = _vector$8.copy(size).multiplyScalar(0.5);\n\n            this.min.copy(center).sub(halfSize);\n            this.max.copy(center).add(halfSize);\n            return this;\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        _proto.copy = function copy(box) {\n            this.min.copy(box.min);\n            this.max.copy(box.max);\n            return this;\n        };\n\n        _proto.makeEmpty = function makeEmpty() {\n            this.min.x = this.min.y = +Infinity;\n            this.max.x = this.max.y = -Infinity;\n            return this;\n        };\n\n        _proto.isEmpty = function isEmpty() {\n            // this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n            return this.max.x < this.min.x || this.max.y < this.min.y;\n        };\n\n        _proto.getCenter = function getCenter(target) {\n            if (target === undefined) {\n                console.warn('THREE.Box2: .getCenter() target is now required');\n                target = new Vector2();\n            }\n\n            return this.isEmpty() ? target.set(0, 0) : target.addVectors(this.min, this.max).multiplyScalar(0.5);\n        };\n\n        _proto.getSize = function getSize(target) {\n            if (target === undefined) {\n                console.warn('THREE.Box2: .getSize() target is now required');\n                target = new Vector2();\n            }\n\n            return this.isEmpty() ? target.set(0, 0) : target.subVectors(this.max, this.min);\n        };\n\n        _proto.expandByPoint = function expandByPoint(point) {\n            this.min.min(point);\n            this.max.max(point);\n            return this;\n        };\n\n        _proto.expandByVector = function expandByVector(vector) {\n            this.min.sub(vector);\n            this.max.add(vector);\n            return this;\n        };\n\n        _proto.expandByScalar = function expandByScalar(scalar) {\n            this.min.addScalar(-scalar);\n            this.max.addScalar(scalar);\n            return this;\n        };\n\n        _proto.containsPoint = function containsPoint(point) {\n            return point.x < this.min.x || point.x > this.max.x || point.y < this.min.y || point.y > this.max.y ? false : true;\n        };\n\n        _proto.containsBox = function containsBox(box) {\n            return this.min.x <= box.min.x && box.max.x <= this.max.x && this.min.y <= box.min.y && box.max.y <= this.max.y;\n        };\n\n        _proto.getParameter = function getParameter(point, target) {\n            // This can potentially have a divide by zero if the box\n            // has a size dimension of 0.\n            if (target === undefined) {\n                console.warn('THREE.Box2: .getParameter() target is now required');\n                target = new Vector2();\n            }\n\n            return target.set((point.x - this.min.x) / (this.max.x - this.min.x), (point.y - this.min.y) / (this.max.y - this.min.y));\n        };\n\n        _proto.intersectsBox = function intersectsBox(box) {\n            // using 4 splitting planes to rule out intersections\n            return box.max.x < this.min.x || box.min.x > this.max.x || box.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n        };\n\n        _proto.clampPoint = function clampPoint(point, target) {\n            if (target === undefined) {\n                console.warn('THREE.Box2: .clampPoint() target is now required');\n                target = new Vector2();\n            }\n\n            return target.copy(point).clamp(this.min, this.max);\n        };\n\n        _proto.distanceToPoint = function distanceToPoint(point) {\n            var clampedPoint = _vector$8.copy(point).clamp(this.min, this.max);\n\n            return clampedPoint.sub(point).length();\n        };\n\n        _proto.intersect = function intersect(box) {\n            this.min.max(box.min);\n            this.max.min(box.max);\n            return this;\n        };\n\n        _proto.union = function union(box) {\n            this.min.min(box.min);\n            this.max.max(box.max);\n            return this;\n        };\n\n        _proto.translate = function translate(offset) {\n            this.min.add(offset);\n            this.max.add(offset);\n            return this;\n        };\n\n        _proto.equals = function equals(box) {\n            return box.min.equals(this.min) && box.max.equals(this.max);\n        };\n\n        return Box2;\n    }();\n\n    Box2.prototype.isBox2 = true;\n\n    var _startP = /*@__PURE__*/ new Vector3();\n\n    var _startEnd = /*@__PURE__*/ new Vector3();\n\n    var Line3 = /*#__PURE__*/ function() {\n        function Line3(start, end) {\n            if (start === void 0) {\n                start = new Vector3();\n            }\n\n            if (end === void 0) {\n                end = new Vector3();\n            }\n\n            this.start = start;\n            this.end = end;\n        }\n\n        var _proto = Line3.prototype;\n\n        _proto.set = function set(start, end) {\n            this.start.copy(start);\n            this.end.copy(end);\n            return this;\n        };\n\n        _proto.copy = function copy(line) {\n            this.start.copy(line.start);\n            this.end.copy(line.end);\n            return this;\n        };\n\n        _proto.getCenter = function getCenter(target) {\n            if (target === undefined) {\n                console.warn('THREE.Line3: .getCenter() target is now required');\n                target = new Vector3();\n            }\n\n            return target.addVectors(this.start, this.end).multiplyScalar(0.5);\n        };\n\n        _proto.delta = function delta(target) {\n            if (target === undefined) {\n                console.warn('THREE.Line3: .delta() target is now required');\n                target = new Vector3();\n            }\n\n            return target.subVectors(this.end, this.start);\n        };\n\n        _proto.distanceSq = function distanceSq() {\n            return this.start.distanceToSquared(this.end);\n        };\n\n        _proto.distance = function distance() {\n            return this.start.distanceTo(this.end);\n        };\n\n        _proto.at = function at(t, target) {\n            if (target === undefined) {\n                console.warn('THREE.Line3: .at() target is now required');\n                target = new Vector3();\n            }\n\n            return this.delta(target).multiplyScalar(t).add(this.start);\n        };\n\n        _proto.closestPointToPointParameter = function closestPointToPointParameter(point, clampToLine) {\n            _startP.subVectors(point, this.start);\n\n            _startEnd.subVectors(this.end, this.start);\n\n            var startEnd2 = _startEnd.dot(_startEnd);\n\n            var startEnd_startP = _startEnd.dot(_startP);\n\n            var t = startEnd_startP / startEnd2;\n\n            if (clampToLine) {\n                t = MathUtils.clamp(t, 0, 1);\n            }\n\n            return t;\n        };\n\n        _proto.closestPointToPoint = function closestPointToPoint(point, clampToLine, target) {\n            var t = this.closestPointToPointParameter(point, clampToLine);\n\n            if (target === undefined) {\n                console.warn('THREE.Line3: .closestPointToPoint() target is now required');\n                target = new Vector3();\n            }\n\n            return this.delta(target).multiplyScalar(t).add(this.start);\n        };\n\n        _proto.applyMatrix4 = function applyMatrix4(matrix) {\n            this.start.applyMatrix4(matrix);\n            this.end.applyMatrix4(matrix);\n            return this;\n        };\n\n        _proto.equals = function equals(line) {\n            return line.start.equals(this.start) && line.end.equals(this.end);\n        };\n\n        _proto.clone = function clone() {\n            return new this.constructor().copy(this);\n        };\n\n        return Line3;\n    }();\n\n    function ImmediateRenderObject(material) {\n        Object3D.call(this);\n        this.material = material;\n\n        this.render = function()\n            /* renderCallback */\n            {};\n\n        this.hasPositions = false;\n        this.hasNormals = false;\n        this.hasColors = false;\n        this.hasUvs = false;\n        this.positionArray = null;\n        this.normalArray = null;\n        this.colorArray = null;\n        this.uvArray = null;\n        this.count = 0;\n    }\n\n    ImmediateRenderObject.prototype = Object.create(Object3D.prototype);\n    ImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n    ImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n    var _vector$9 = /*@__PURE__*/ new Vector3();\n\n    var SpotLightHelper = /*#__PURE__*/ function(_Object3D) {\n        _inheritsLoose(SpotLightHelper, _Object3D);\n\n        function SpotLightHelper(light, color) {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this.light = light;\n\n            _this.light.updateMatrixWorld();\n\n            _this.matrix = light.matrixWorld;\n            _this.matrixAutoUpdate = false;\n            _this.color = color;\n            var geometry = new BufferGeometry();\n            var positions = [0, 0, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, -1, 1];\n\n            for (var i = 0, j = 1, l = 32; i < l; i++, j++) {\n                var p1 = i / l * Math.PI * 2;\n                var p2 = j / l * Math.PI * 2;\n                positions.push(Math.cos(p1), Math.sin(p1), 1, Math.cos(p2), Math.sin(p2), 1);\n            }\n\n            geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n            var material = new LineBasicMaterial({\n                fog: false,\n                toneMapped: false\n            });\n            _this.cone = new LineSegments(geometry, material);\n\n            _this.add(_this.cone);\n\n            _this.update();\n\n            return _this;\n        }\n\n        var _proto = SpotLightHelper.prototype;\n\n        _proto.dispose = function dispose() {\n            this.cone.geometry.dispose();\n            this.cone.material.dispose();\n        };\n\n        _proto.update = function update() {\n            this.light.updateMatrixWorld();\n            var coneLength = this.light.distance ? this.light.distance : 1000;\n            var coneWidth = coneLength * Math.tan(this.light.angle);\n            this.cone.scale.set(coneWidth, coneWidth, coneLength);\n\n            _vector$9.setFromMatrixPosition(this.light.target.matrixWorld);\n\n            this.cone.lookAt(_vector$9);\n\n            if (this.color !== undefined) {\n                this.cone.material.color.set(this.color);\n            } else {\n                this.cone.material.color.copy(this.light.color);\n            }\n        };\n\n        return SpotLightHelper;\n    }(Object3D);\n\n    var _vector$a = /*@__PURE__*/ new Vector3();\n\n    var _boneMatrix = /*@__PURE__*/ new Matrix4();\n\n    var _matrixWorldInv = /*@__PURE__*/ new Matrix4();\n\n    var SkeletonHelper = /*#__PURE__*/ function(_LineSegments) {\n        _inheritsLoose(SkeletonHelper, _LineSegments);\n\n        function SkeletonHelper(object) {\n            var _this;\n\n            var bones = getBoneList(object);\n            var geometry = new BufferGeometry();\n            var vertices = [];\n            var colors = [];\n            var color1 = new Color(0, 0, 1);\n            var color2 = new Color(0, 1, 0);\n\n            for (var i = 0; i < bones.length; i++) {\n                var bone = bones[i];\n\n                if (bone.parent && bone.parent.isBone) {\n                    vertices.push(0, 0, 0);\n                    vertices.push(0, 0, 0);\n                    colors.push(color1.r, color1.g, color1.b);\n                    colors.push(color2.r, color2.g, color2.b);\n                }\n            }\n\n            geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n            geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n            var material = new LineBasicMaterial({\n                vertexColors: true,\n                depthTest: false,\n                depthWrite: false,\n                toneMapped: false,\n                transparent: true\n            });\n            _this = _LineSegments.call(this, geometry, material) || this;\n            _this.type = 'SkeletonHelper';\n            _this.isSkeletonHelper = true;\n            _this.root = object;\n            _this.bones = bones;\n            _this.matrix = object.matrixWorld;\n            _this.matrixAutoUpdate = false;\n            return _this;\n        }\n\n        var _proto = SkeletonHelper.prototype;\n\n        _proto.updateMatrixWorld = function updateMatrixWorld(force) {\n            var bones = this.bones;\n            var geometry = this.geometry;\n            var position = geometry.getAttribute('position');\n\n            _matrixWorldInv.copy(this.root.matrixWorld).invert();\n\n            for (var i = 0, j = 0; i < bones.length; i++) {\n                var bone = bones[i];\n\n                if (bone.parent && bone.parent.isBone) {\n                    _boneMatrix.multiplyMatrices(_matrixWorldInv, bone.matrixWorld);\n\n                    _vector$a.setFromMatrixPosition(_boneMatrix);\n\n                    position.setXYZ(j, _vector$a.x, _vector$a.y, _vector$a.z);\n\n                    _boneMatrix.multiplyMatrices(_matrixWorldInv, bone.parent.matrixWorld);\n\n                    _vector$a.setFromMatrixPosition(_boneMatrix);\n\n                    position.setXYZ(j + 1, _vector$a.x, _vector$a.y, _vector$a.z);\n                    j += 2;\n                }\n            }\n\n            geometry.getAttribute('position').needsUpdate = true;\n\n            _LineSegments.prototype.updateMatrixWorld.call(this, force);\n        };\n\n        return SkeletonHelper;\n    }(LineSegments);\n\n    function getBoneList(object) {\n        var boneList = [];\n\n        if (object && object.isBone) {\n            boneList.push(object);\n        }\n\n        for (var i = 0; i < object.children.length; i++) {\n            boneList.push.apply(boneList, getBoneList(object.children[i]));\n        }\n\n        return boneList;\n    }\n\n    var PointLightHelper = /*#__PURE__*/ function(_Mesh) {\n        _inheritsLoose(PointLightHelper, _Mesh);\n\n        function PointLightHelper(light, sphereSize, color) {\n            var _this;\n\n            var geometry = new SphereGeometry(sphereSize, 4, 2);\n            var material = new MeshBasicMaterial({\n                wireframe: true,\n                fog: false,\n                toneMapped: false\n            });\n            _this = _Mesh.call(this, geometry, material) || this;\n            _this.light = light;\n\n            _this.light.updateMatrixWorld();\n\n            _this.color = color;\n            _this.type = 'PointLightHelper';\n            _this.matrix = _this.light.matrixWorld;\n            _this.matrixAutoUpdate = false;\n\n            _this.update();\n            /*\n            // TODO: delete this comment?\n            const distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n            const distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n            this.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n            this.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n            const d = light.distance;\n            if ( d === 0.0 ) {\n            \tthis.lightDistance.visible = false;\n            } else {\n            \tthis.lightDistance.scale.set( d, d, d );\n            }\n            this.add( this.lightDistance );\n            */\n\n\n            return _this;\n        }\n\n        var _proto = PointLightHelper.prototype;\n\n        _proto.dispose = function dispose() {\n            this.geometry.dispose();\n            this.material.dispose();\n        };\n\n        _proto.update = function update() {\n            if (this.color !== undefined) {\n                this.material.color.set(this.color);\n            } else {\n                this.material.color.copy(this.light.color);\n            }\n            /*\n            const d = this.light.distance;\n            \tif ( d === 0.0 ) {\n            \t\tthis.lightDistance.visible = false;\n            \t} else {\n            \t\tthis.lightDistance.visible = true;\n            \tthis.lightDistance.scale.set( d, d, d );\n            \t}\n            */\n\n        };\n\n        return PointLightHelper;\n    }(Mesh);\n\n    var _vector$b = /*@__PURE__*/ new Vector3();\n\n    var _color1 = /*@__PURE__*/ new Color();\n\n    var _color2 = /*@__PURE__*/ new Color();\n\n    var HemisphereLightHelper = /*#__PURE__*/ function(_Object3D) {\n        _inheritsLoose(HemisphereLightHelper, _Object3D);\n\n        function HemisphereLightHelper(light, size, color) {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this.light = light;\n\n            _this.light.updateMatrixWorld();\n\n            _this.matrix = light.matrixWorld;\n            _this.matrixAutoUpdate = false;\n            _this.color = color;\n            var geometry = new OctahedronGeometry(size);\n            geometry.rotateY(Math.PI * 0.5);\n            _this.material = new MeshBasicMaterial({\n                wireframe: true,\n                fog: false,\n                toneMapped: false\n            });\n            if (_this.color === undefined) _this.material.vertexColors = true;\n            var position = geometry.getAttribute('position');\n            var colors = new Float32Array(position.count * 3);\n            geometry.setAttribute('color', new BufferAttribute(colors, 3));\n\n            _this.add(new Mesh(geometry, _this.material));\n\n            _this.update();\n\n            return _this;\n        }\n\n        var _proto = HemisphereLightHelper.prototype;\n\n        _proto.dispose = function dispose() {\n            this.children[0].geometry.dispose();\n            this.children[0].material.dispose();\n        };\n\n        _proto.update = function update() {\n            var mesh = this.children[0];\n\n            if (this.color !== undefined) {\n                this.material.color.set(this.color);\n            } else {\n                var colors = mesh.geometry.getAttribute('color');\n\n                _color1.copy(this.light.color);\n\n                _color2.copy(this.light.groundColor);\n\n                for (var i = 0, l = colors.count; i < l; i++) {\n                    var color = i < l / 2 ? _color1 : _color2;\n                    colors.setXYZ(i, color.r, color.g, color.b);\n                }\n\n                colors.needsUpdate = true;\n            }\n\n            mesh.lookAt(_vector$b.setFromMatrixPosition(this.light.matrixWorld).negate());\n        };\n\n        return HemisphereLightHelper;\n    }(Object3D);\n\n    var GridHelper = /*#__PURE__*/ function(_LineSegments) {\n        _inheritsLoose(GridHelper, _LineSegments);\n\n        function GridHelper(size, divisions, color1, color2) {\n            var _this;\n\n            if (size === void 0) {\n                size = 10;\n            }\n\n            if (divisions === void 0) {\n                divisions = 10;\n            }\n\n            if (color1 === void 0) {\n                color1 = 0x444444;\n            }\n\n            if (color2 === void 0) {\n                color2 = 0x888888;\n            }\n\n            color1 = new Color(color1);\n            color2 = new Color(color2);\n            var center = divisions / 2;\n            var step = size / divisions;\n            var halfSize = size / 2;\n            var vertices = [],\n                colors = [];\n\n            for (var i = 0, j = 0, k = -halfSize; i <= divisions; i++, k += step) {\n                vertices.push(-halfSize, 0, k, halfSize, 0, k);\n                vertices.push(k, 0, -halfSize, k, 0, halfSize);\n                var color = i === center ? color1 : color2;\n                color.toArray(colors, j);\n                j += 3;\n                color.toArray(colors, j);\n                j += 3;\n                color.toArray(colors, j);\n                j += 3;\n                color.toArray(colors, j);\n                j += 3;\n            }\n\n            var geometry = new BufferGeometry();\n            geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n            geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n            var material = new LineBasicMaterial({\n                vertexColors: true,\n                toneMapped: false\n            });\n            _this = _LineSegments.call(this, geometry, material) || this;\n            _this.type = 'GridHelper';\n            return _this;\n        }\n\n        return GridHelper;\n    }(LineSegments);\n\n    var PolarGridHelper = /*#__PURE__*/ function(_LineSegments) {\n        _inheritsLoose(PolarGridHelper, _LineSegments);\n\n        function PolarGridHelper(radius, radials, circles, divisions, color1, color2) {\n            var _this;\n\n            if (radius === void 0) {\n                radius = 10;\n            }\n\n            if (radials === void 0) {\n                radials = 16;\n            }\n\n            if (circles === void 0) {\n                circles = 8;\n            }\n\n            if (divisions === void 0) {\n                divisions = 64;\n            }\n\n            if (color1 === void 0) {\n                color1 = 0x444444;\n            }\n\n            if (color2 === void 0) {\n                color2 = 0x888888;\n            }\n\n            color1 = new Color(color1);\n            color2 = new Color(color2);\n            var vertices = [];\n            var colors = []; // create the radials\n\n            for (var i = 0; i <= radials; i++) {\n                var v = i / radials * (Math.PI * 2);\n                var x = Math.sin(v) * radius;\n                var z = Math.cos(v) * radius;\n                vertices.push(0, 0, 0);\n                vertices.push(x, 0, z);\n                var color = i & 1 ? color1 : color2;\n                colors.push(color.r, color.g, color.b);\n                colors.push(color.r, color.g, color.b);\n            } // create the circles\n\n\n            for (var _i = 0; _i <= circles; _i++) {\n                var _color = _i & 1 ? color1 : color2;\n\n                var r = radius - radius / circles * _i;\n\n                for (var j = 0; j < divisions; j++) {\n                    // first vertex\n                    var _v = j / divisions * (Math.PI * 2);\n\n                    var _x = Math.sin(_v) * r;\n\n                    var _z = Math.cos(_v) * r;\n\n                    vertices.push(_x, 0, _z);\n                    colors.push(_color.r, _color.g, _color.b); // second vertex\n\n                    _v = (j + 1) / divisions * (Math.PI * 2);\n                    _x = Math.sin(_v) * r;\n                    _z = Math.cos(_v) * r;\n                    vertices.push(_x, 0, _z);\n                    colors.push(_color.r, _color.g, _color.b);\n                }\n            }\n\n            var geometry = new BufferGeometry();\n            geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n            geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n            var material = new LineBasicMaterial({\n                vertexColors: true,\n                toneMapped: false\n            });\n            _this = _LineSegments.call(this, geometry, material) || this;\n            _this.type = 'PolarGridHelper';\n            return _this;\n        }\n\n        return PolarGridHelper;\n    }(LineSegments);\n\n    var _v1$6 = /*@__PURE__*/ new Vector3();\n\n    var _v2$3 = /*@__PURE__*/ new Vector3();\n\n    var _v3$1 = /*@__PURE__*/ new Vector3();\n\n    var DirectionalLightHelper = /*#__PURE__*/ function(_Object3D) {\n        _inheritsLoose(DirectionalLightHelper, _Object3D);\n\n        function DirectionalLightHelper(light, size, color) {\n            var _this;\n\n            _this = _Object3D.call(this) || this;\n            _this.light = light;\n\n            _this.light.updateMatrixWorld();\n\n            _this.matrix = light.matrixWorld;\n            _this.matrixAutoUpdate = false;\n            _this.color = color;\n            if (size === undefined) size = 1;\n            var geometry = new BufferGeometry();\n            geometry.setAttribute('position', new Float32BufferAttribute([-size, size, 0, size, size, 0, size, -size, 0, -size, -size, 0, -size, size, 0], 3));\n            var material = new LineBasicMaterial({\n                fog: false,\n                toneMapped: false\n            });\n            _this.lightPlane = new Line(geometry, material);\n\n            _this.add(_this.lightPlane);\n\n            geometry = new BufferGeometry();\n            geometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 0, 1], 3));\n            _this.targetLine = new Line(geometry, material);\n\n            _this.add(_this.targetLine);\n\n            _this.update();\n\n            return _this;\n        }\n\n        var _proto = DirectionalLightHelper.prototype;\n\n        _proto.dispose = function dispose() {\n            this.lightPlane.geometry.dispose();\n            this.lightPlane.material.dispose();\n            this.targetLine.geometry.dispose();\n            this.targetLine.material.dispose();\n        };\n\n        _proto.update = function update() {\n            _v1$6.setFromMatrixPosition(this.light.matrixWorld);\n\n            _v2$3.setFromMatrixPosition(this.light.target.matrixWorld);\n\n            _v3$1.subVectors(_v2$3, _v1$6);\n\n            this.lightPlane.lookAt(_v2$3);\n\n            if (this.color !== undefined) {\n                this.lightPlane.material.color.set(this.color);\n                this.targetLine.material.color.set(this.color);\n            } else {\n                this.lightPlane.material.color.copy(this.light.color);\n                this.targetLine.material.color.copy(this.light.color);\n            }\n\n            this.targetLine.lookAt(_v2$3);\n            this.targetLine.scale.z = _v3$1.length();\n        };\n\n        return DirectionalLightHelper;\n    }(Object3D);\n\n    var _vector$c = /*@__PURE__*/ new Vector3();\n\n    var _camera = /*@__PURE__*/ new Camera();\n    /**\n     *\t- shows frustum, line of sight and up of the camera\n     *\t- suitable for fast updates\n     * \t- based on frustum visualization in lightgl.js shadowmap example\n     *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n     */\n\n\n    var CameraHelper = /*#__PURE__*/ function(_LineSegments) {\n        _inheritsLoose(CameraHelper, _LineSegments);\n\n        function CameraHelper(camera) {\n            var _this;\n\n            var geometry = new BufferGeometry();\n            var material = new LineBasicMaterial({\n                color: 0xffffff,\n                vertexColors: true,\n                toneMapped: false\n            });\n            var vertices = [];\n            var colors = [];\n            var pointMap = {}; // colors\n\n            var colorFrustum = new Color(0xffaa00);\n            var colorCone = new Color(0xff0000);\n            var colorUp = new Color(0x00aaff);\n            var colorTarget = new Color(0xffffff);\n            var colorCross = new Color(0x333333); // near\n\n            addLine('n1', 'n2', colorFrustum);\n            addLine('n2', 'n4', colorFrustum);\n            addLine('n4', 'n3', colorFrustum);\n            addLine('n3', 'n1', colorFrustum); // far\n\n            addLine('f1', 'f2', colorFrustum);\n            addLine('f2', 'f4', colorFrustum);\n            addLine('f4', 'f3', colorFrustum);\n            addLine('f3', 'f1', colorFrustum); // sides\n\n            addLine('n1', 'f1', colorFrustum);\n            addLine('n2', 'f2', colorFrustum);\n            addLine('n3', 'f3', colorFrustum);\n            addLine('n4', 'f4', colorFrustum); // cone\n\n            addLine('p', 'n1', colorCone);\n            addLine('p', 'n2', colorCone);\n            addLine('p', 'n3', colorCone);\n            addLine('p', 'n4', colorCone); // up\n\n            addLine('u1', 'u2', colorUp);\n            addLine('u2', 'u3', colorUp);\n            addLine('u3', 'u1', colorUp); // target\n\n            addLine('c', 't', colorTarget);\n            addLine('p', 'c', colorCross); // cross\n\n            addLine('cn1', 'cn2', colorCross);\n            addLine('cn3', 'cn4', colorCross);\n            addLine('cf1', 'cf2', colorCross);\n            addLine('cf3', 'cf4', colorCross);\n\n            function addLine(a, b, color) {\n                addPoint(a, color);\n                addPoint(b, color);\n            }\n\n            function addPoint(id, color) {\n                vertices.push(0, 0, 0);\n                colors.push(color.r, color.g, color.b);\n\n                if (pointMap[id] === undefined) {\n                    pointMap[id] = [];\n                }\n\n                pointMap[id].push(vertices.length / 3 - 1);\n            }\n\n            geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n            geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n            _this = _LineSegments.call(this, geometry, material) || this;\n            _this.type = 'CameraHelper';\n            _this.camera = camera;\n            if (_this.camera.updateProjectionMatrix) _this.camera.updateProjectionMatrix();\n            _this.matrix = camera.matrixWorld;\n            _this.matrixAutoUpdate = false;\n            _this.pointMap = pointMap;\n\n            _this.update();\n\n            return _this;\n        }\n\n        var _proto = CameraHelper.prototype;\n\n        _proto.update = function update() {\n            var geometry = this.geometry;\n            var pointMap = this.pointMap;\n            var w = 1,\n                h = 1; // we need just camera projection matrix inverse\n            // world matrix must be identity\n\n            _camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse); // center / target\n\n\n            setPoint('c', pointMap, geometry, _camera, 0, 0, -1);\n            setPoint('t', pointMap, geometry, _camera, 0, 0, 1); // near\n\n            setPoint('n1', pointMap, geometry, _camera, -w, -h, -1);\n            setPoint('n2', pointMap, geometry, _camera, w, -h, -1);\n            setPoint('n3', pointMap, geometry, _camera, -w, h, -1);\n            setPoint('n4', pointMap, geometry, _camera, w, h, -1); // far\n\n            setPoint('f1', pointMap, geometry, _camera, -w, -h, 1);\n            setPoint('f2', pointMap, geometry, _camera, w, -h, 1);\n            setPoint('f3', pointMap, geometry, _camera, -w, h, 1);\n            setPoint('f4', pointMap, geometry, _camera, w, h, 1); // up\n\n            setPoint('u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, -1);\n            setPoint('u2', pointMap, geometry, _camera, -w * 0.7, h * 1.1, -1);\n            setPoint('u3', pointMap, geometry, _camera, 0, h * 2, -1); // cross\n\n            setPoint('cf1', pointMap, geometry, _camera, -w, 0, 1);\n            setPoint('cf2', pointMap, geometry, _camera, w, 0, 1);\n            setPoint('cf3', pointMap, geometry, _camera, 0, -h, 1);\n            setPoint('cf4', pointMap, geometry, _camera, 0, h, 1);\n            setPoint('cn1', pointMap, geometry, _camera, -w, 0, -1);\n            setPoint('cn2', pointMap, geometry, _camera, w, 0, -1);\n            setPoint('cn3', pointMap, geometry, _camera, 0, -h, -1);\n            setPoint('cn4', pointMap, geometry, _camera, 0, h, -1);\n            geometry.getAttribute('position').needsUpdate = true;\n        };\n\n        return CameraHelper;\n    }(LineSegments);\n\n    function setPoint(point, pointMap, geometry, camera, x, y, z) {\n        _vector$c.set(x, y, z).unproject(camera);\n\n        var points = pointMap[point];\n\n        if (points !== undefined) {\n            var position = geometry.getAttribute('position');\n\n            for (var i = 0, l = points.length; i < l; i++) {\n                position.setXYZ(points[i], _vector$c.x, _vector$c.y, _vector$c.z);\n            }\n        }\n    }\n\n    var _box$3 = /*@__PURE__*/ new Box3();\n\n    var BoxHelper = /*#__PURE__*/ function(_LineSegments) {\n        _inheritsLoose(BoxHelper, _LineSegments);\n\n        function BoxHelper(object, color) {\n            var _this;\n\n            if (color === void 0) {\n                color = 0xffff00;\n            }\n\n            var indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n            var positions = new Float32Array(8 * 3);\n            var geometry = new BufferGeometry();\n            geometry.setIndex(new BufferAttribute(indices, 1));\n            geometry.setAttribute('position', new BufferAttribute(positions, 3));\n            _this = _LineSegments.call(this, geometry, new LineBasicMaterial({\n                color: color,\n                toneMapped: false\n            })) || this;\n            _this.object = object;\n            _this.type = 'BoxHelper';\n            _this.matrixAutoUpdate = false;\n\n            _this.update();\n\n            return _this;\n        }\n\n        var _proto = BoxHelper.prototype;\n\n        _proto.update = function update(object) {\n            if (object !== undefined) {\n                console.warn('THREE.BoxHelper: .update() has no longer arguments.');\n            }\n\n            if (this.object !== undefined) {\n                _box$3.setFromObject(this.object);\n            }\n\n            if (_box$3.isEmpty()) return;\n            var min = _box$3.min;\n            var max = _box$3.max;\n            /*\n            \t5____4\n            1/___0/|\n            | 6__|_7\n            2/___3/\n            \t0: max.x, max.y, max.z\n            1: min.x, max.y, max.z\n            2: min.x, min.y, max.z\n            3: max.x, min.y, max.z\n            4: max.x, max.y, min.z\n            5: min.x, max.y, min.z\n            6: min.x, min.y, min.z\n            7: max.x, min.y, min.z\n            */\n\n            var position = this.geometry.attributes.position;\n            var array = position.array;\n            array[0] = max.x;\n            array[1] = max.y;\n            array[2] = max.z;\n            array[3] = min.x;\n            array[4] = max.y;\n            array[5] = max.z;\n            array[6] = min.x;\n            array[7] = min.y;\n            array[8] = max.z;\n            array[9] = max.x;\n            array[10] = min.y;\n            array[11] = max.z;\n            array[12] = max.x;\n            array[13] = max.y;\n            array[14] = min.z;\n            array[15] = min.x;\n            array[16] = max.y;\n            array[17] = min.z;\n            array[18] = min.x;\n            array[19] = min.y;\n            array[20] = min.z;\n            array[21] = max.x;\n            array[22] = min.y;\n            array[23] = min.z;\n            position.needsUpdate = true;\n            this.geometry.computeBoundingSphere();\n        };\n\n        _proto.setFromObject = function setFromObject(object) {\n            this.object = object;\n            this.update();\n            return this;\n        };\n\n        _proto.copy = function copy(source) {\n            LineSegments.prototype.copy.call(this, source);\n            this.object = source.object;\n            return this;\n        };\n\n        return BoxHelper;\n    }(LineSegments);\n\n    var Box3Helper = /*#__PURE__*/ function(_LineSegments) {\n        _inheritsLoose(Box3Helper, _LineSegments);\n\n        function Box3Helper(box, color) {\n            var _this;\n\n            if (color === void 0) {\n                color = 0xffff00;\n            }\n\n            var indices = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]);\n            var positions = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, -1, -1, 1, -1, -1, -1, -1, 1, -1, -1];\n            var geometry = new BufferGeometry();\n            geometry.setIndex(new BufferAttribute(indices, 1));\n            geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n            _this = _LineSegments.call(this, geometry, new LineBasicMaterial({\n                color: color,\n                toneMapped: false\n            })) || this;\n            _this.box = box;\n            _this.type = 'Box3Helper';\n\n            _this.geometry.computeBoundingSphere();\n\n            return _this;\n        }\n\n        var _proto = Box3Helper.prototype;\n\n        _proto.updateMatrixWorld = function updateMatrixWorld(force) {\n            var box = this.box;\n            if (box.isEmpty()) return;\n            box.getCenter(this.position);\n            box.getSize(this.scale);\n            this.scale.multiplyScalar(0.5);\n\n            _LineSegments.prototype.updateMatrixWorld.call(this, force);\n        };\n\n        return Box3Helper;\n    }(LineSegments);\n\n    var PlaneHelper = /*#__PURE__*/ function(_Line) {\n        _inheritsLoose(PlaneHelper, _Line);\n\n        function PlaneHelper(plane, size, hex) {\n            var _this;\n\n            if (size === void 0) {\n                size = 1;\n            }\n\n            if (hex === void 0) {\n                hex = 0xffff00;\n            }\n\n            var color = hex;\n            var positions = [1, -1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, 1, 1, -1, -1, 1, 1, -1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0];\n            var geometry = new BufferGeometry();\n            geometry.setAttribute('position', new Float32BufferAttribute(positions, 3));\n            geometry.computeBoundingSphere();\n            _this = _Line.call(this, geometry, new LineBasicMaterial({\n                color: color,\n                toneMapped: false\n            })) || this;\n            _this.type = 'PlaneHelper';\n            _this.plane = plane;\n            _this.size = size;\n            var positions2 = [1, 1, 1, -1, 1, 1, -1, -1, 1, 1, 1, 1, -1, -1, 1, 1, -1, 1];\n            var geometry2 = new BufferGeometry();\n            geometry2.setAttribute('position', new Float32BufferAttribute(positions2, 3));\n            geometry2.computeBoundingSphere();\n\n            _this.add(new Mesh(geometry2, new MeshBasicMaterial({\n                color: color,\n                opacity: 0.2,\n                transparent: true,\n                depthWrite: false,\n                toneMapped: false\n            })));\n\n            return _this;\n        }\n\n        var _proto = PlaneHelper.prototype;\n\n        _proto.updateMatrixWorld = function updateMatrixWorld(force) {\n            var scale = -this.plane.constant;\n            if (Math.abs(scale) < 1e-8) scale = 1e-8; // sign does not matter\n\n            this.scale.set(0.5 * this.size, 0.5 * this.size, scale);\n            this.children[0].material.side = scale < 0 ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n            this.lookAt(this.plane.normal);\n\n            _Line.prototype.updateMatrixWorld.call(this, force);\n        };\n\n        return PlaneHelper;\n    }(Line);\n\n    var _axis = /*@__PURE__*/ new Vector3();\n\n    var _lineGeometry, _coneGeometry;\n\n    var ArrowHelper = /*#__PURE__*/ function(_Object3D) {\n        _inheritsLoose(ArrowHelper, _Object3D);\n\n        // dir is assumed to be normalized\n        function ArrowHelper(dir, origin, length, color, headLength, headWidth) {\n            var _this;\n\n            if (dir === void 0) {\n                dir = new Vector3(0, 0, 1);\n            }\n\n            if (origin === void 0) {\n                origin = new Vector3(0, 0, 0);\n            }\n\n            if (length === void 0) {\n                length = 1;\n            }\n\n            if (color === void 0) {\n                color = 0xffff00;\n            }\n\n            if (headLength === void 0) {\n                headLength = length * 0.2;\n            }\n\n            if (headWidth === void 0) {\n                headWidth = headLength * 0.2;\n            }\n\n            _this = _Object3D.call(this) || this;\n            _this.type = 'ArrowHelper';\n\n            if (_lineGeometry === undefined) {\n                _lineGeometry = new BufferGeometry();\n\n                _lineGeometry.setAttribute('position', new Float32BufferAttribute([0, 0, 0, 0, 1, 0], 3));\n\n                _coneGeometry = new CylinderGeometry(0, 0.5, 1, 5, 1);\n\n                _coneGeometry.translate(0, -0.5, 0);\n            }\n\n            _this.position.copy(origin);\n\n            _this.line = new Line(_lineGeometry, new LineBasicMaterial({\n                color: color,\n                toneMapped: false\n            }));\n            _this.line.matrixAutoUpdate = false;\n\n            _this.add(_this.line);\n\n            _this.cone = new Mesh(_coneGeometry, new MeshBasicMaterial({\n                color: color,\n                toneMapped: false\n            }));\n            _this.cone.matrixAutoUpdate = false;\n\n            _this.add(_this.cone);\n\n            _this.setDirection(dir);\n\n            _this.setLength(length, headLength, headWidth);\n\n            return _this;\n        }\n\n        var _proto = ArrowHelper.prototype;\n\n        _proto.setDirection = function setDirection(dir) {\n            // dir is assumed to be normalized\n            if (dir.y > 0.99999) {\n                this.quaternion.set(0, 0, 0, 1);\n            } else if (dir.y < -0.99999) {\n                this.quaternion.set(1, 0, 0, 0);\n            } else {\n                _axis.set(dir.z, 0, -dir.x).normalize();\n\n                var radians = Math.acos(dir.y);\n                this.quaternion.setFromAxisAngle(_axis, radians);\n            }\n        };\n\n        _proto.setLength = function setLength(length, headLength, headWidth) {\n            if (headLength === void 0) {\n                headLength = length * 0.2;\n            }\n\n            if (headWidth === void 0) {\n                headWidth = headLength * 0.2;\n            }\n\n            this.line.scale.set(1, Math.max(0.0001, length - headLength), 1); // see #17458\n\n            this.line.updateMatrix();\n            this.cone.scale.set(headWidth, headLength, headWidth);\n            this.cone.position.y = length;\n            this.cone.updateMatrix();\n        };\n\n        _proto.setColor = function setColor(color) {\n            this.line.material.color.set(color);\n            this.cone.material.color.set(color);\n        };\n\n        _proto.copy = function copy(source) {\n            _Object3D.prototype.copy.call(this, source, false);\n\n            this.line.copy(source.line);\n            this.cone.copy(source.cone);\n            return this;\n        };\n\n        return ArrowHelper;\n    }(Object3D);\n\n    var AxesHelper = /*#__PURE__*/ function(_LineSegments) {\n        _inheritsLoose(AxesHelper, _LineSegments);\n\n        function AxesHelper(size) {\n            var _this;\n\n            if (size === void 0) {\n                size = 1;\n            }\n\n            var vertices = [0, 0, 0, size, 0, 0, 0, 0, 0, 0, size, 0, 0, 0, 0, 0, 0, size];\n            var colors = [1, 0, 0, 1, 0.6, 0, 0, 1, 0, 0.6, 1, 0, 0, 0, 1, 0, 0.6, 1];\n            var geometry = new BufferGeometry();\n            geometry.setAttribute('position', new Float32BufferAttribute(vertices, 3));\n            geometry.setAttribute('color', new Float32BufferAttribute(colors, 3));\n            var material = new LineBasicMaterial({\n                vertexColors: true,\n                toneMapped: false\n            });\n            _this = _LineSegments.call(this, geometry, material) || this;\n            _this.type = 'AxesHelper';\n            return _this;\n        }\n\n        return AxesHelper;\n    }(LineSegments);\n\n    var _floatView = new Float32Array(1);\n\n    var _int32View = new Int32Array(_floatView.buffer);\n\n    var DataUtils = {\n        // Converts float32 to float16 (stored as uint16 value).\n        toHalfFloat: function toHalfFloat(val) {\n            // Source: http://gamedev.stackexchange.com/questions/17326/conversion-of-a-number-from-single-precision-floating-point-representation-to-a/17410#17410\n\n            /* This method is faster than the OpenEXR implementation (very often\n             * used, eg. in Ogre), with the additional benefit of rounding, inspired\n             * by James Tursa?s half-precision code. */\n            _floatView[0] = val;\n            var x = _int32View[0];\n            var bits = x >> 16 & 0x8000;\n            /* Get the sign */\n\n            var m = x >> 12 & 0x07ff;\n            /* Keep one extra bit for rounding */\n\n            var e = x >> 23 & 0xff;\n            /* Using int is faster here */\n\n            /* If zero, or denormal, or exponent underflows too much for a denormal\n             * half, return signed zero. */\n\n            if (e < 103) return bits;\n            /* If NaN, return NaN. If Inf or exponent overflow, return Inf. */\n\n            if (e > 142) {\n                bits |= 0x7c00;\n                /* If exponent was 0xff and one mantissa bit was set, it means NaN,\n                 * not Inf, so make sure we set one mantissa bit too. */\n\n                bits |= (e == 255 ? 0 : 1) && x & 0x007fffff;\n                return bits;\n            }\n            /* If exponent underflows but not too much, return a denormal */\n\n\n            if (e < 113) {\n                m |= 0x0800;\n                /* Extra rounding may overflow and set mantissa to 0 and exponent\n                 * to 1, which is OK. */\n\n                bits |= (m >> 114 - e) + (m >> 113 - e & 1);\n                return bits;\n            }\n\n            bits |= e - 112 << 10 | m >> 1;\n            /* Extra rounding. An overflow will set mantissa to 0 and increment\n             * the exponent, which is OK. */\n\n            bits += m & 1;\n            return bits;\n        }\n    };\n\n    var _ENCODINGS;\n    var LOD_MIN = 4;\n    var LOD_MAX = 8;\n    var SIZE_MAX = Math.pow(2, LOD_MAX); // The standard deviations (radians) associated with the extra mips. These are\n    // chosen to approximate a Trowbridge-Reitz distribution function times the\n    // geometric shadowing function. These sigma values squared must match the\n    // variance #defines in cube_uv_reflection_fragment.glsl.js.\n\n    var EXTRA_LOD_SIGMA = [0.125, 0.215, 0.35, 0.446, 0.526, 0.582];\n    var TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length; // The maximum length of the blur for loop. Smaller sigmas will use fewer\n    // samples and exit early, but not recompile the shader.\n\n    var MAX_SAMPLES = 20;\n    var ENCODINGS = (_ENCODINGS = {}, _ENCODINGS[LinearEncoding] = 0, _ENCODINGS[sRGBEncoding] = 1, _ENCODINGS[RGBEEncoding] = 2, _ENCODINGS[RGBM7Encoding] = 3, _ENCODINGS[RGBM16Encoding] = 4, _ENCODINGS[RGBDEncoding] = 5, _ENCODINGS[GammaEncoding] = 6, _ENCODINGS);\n    var backgroundMaterial = new MeshBasicMaterial({\n        side: BackSide,\n        depthWrite: false,\n        depthTest: false\n    });\n    var backgroundBox = new Mesh(new BoxGeometry(), backgroundMaterial);\n\n    var _flatCamera = /*@__PURE__*/ new OrthographicCamera();\n\n    var _createPlanes2 = /*@__PURE__*/ _createPlanes(),\n        _lodPlanes = _createPlanes2._lodPlanes,\n        _sizeLods = _createPlanes2._sizeLods,\n        _sigmas = _createPlanes2._sigmas;\n\n    var _clearColor = /*@__PURE__*/ new Color();\n\n    var _oldTarget = null; // Golden Ratio\n\n    var PHI = (1 + Math.sqrt(5)) / 2;\n    var INV_PHI = 1 / PHI; // Vertices of a dodecahedron (except the opposites, which represent the\n    // same axis), used as axis directions evenly spread on a sphere.\n\n    var _axisDirections = [ /*@__PURE__*/ new Vector3(1, 1, 1), /*@__PURE__*/ new Vector3(-1, 1, 1), /*@__PURE__*/ new Vector3(1, 1, -1), /*@__PURE__*/ new Vector3(-1, 1, -1), /*@__PURE__*/ new Vector3(0, PHI, INV_PHI), /*@__PURE__*/ new Vector3(0, PHI, -INV_PHI), /*@__PURE__*/ new Vector3(INV_PHI, 0, PHI), /*@__PURE__*/ new Vector3(-INV_PHI, 0, PHI), /*@__PURE__*/ new Vector3(PHI, INV_PHI, 0), /*@__PURE__*/ new Vector3(-PHI, INV_PHI, 0)];\n    /**\n     * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n     * (PMREM) from a cubeMap environment texture. This allows different levels of\n     * blur to be quickly accessed based on material roughness. It is packed into a\n     * special CubeUV format that allows us to perform custom interpolation so that\n     * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n     * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n     * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n     * higher roughness levels. In this way we maintain resolution to smoothly\n     * interpolate diffuse lighting while limiting sampling computation.\n     */\n\n    function convertLinearToRGBE(color) {\n        var maxComponent = Math.max(color.r, color.g, color.b);\n        var fExp = Math.min(Math.max(Math.ceil(Math.log2(maxComponent)), -128.0), 127.0);\n        color.multiplyScalar(Math.pow(2.0, -fExp));\n        var alpha = (fExp + 128.0) / 255.0;\n        return alpha;\n    }\n\n    var PMREMGenerator = /*#__PURE__*/ function() {\n        function PMREMGenerator(renderer) {\n            this._renderer = renderer;\n            this._pingPongRenderTarget = null;\n            this._blurMaterial = _getBlurShader(MAX_SAMPLES);\n            this._equirectShader = null;\n            this._cubemapShader = null;\n\n            this._compileMaterial(this._blurMaterial);\n        }\n        /**\n         * Generates a PMREM from a supplied Scene, which can be faster than using an\n         * image if networking bandwidth is low. Optional sigma specifies a blur radius\n         * in radians to be applied to the scene before PMREM generation. Optional near\n         * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n         * is placed at the origin).\n         */\n\n\n        var _proto = PMREMGenerator.prototype;\n\n        _proto.fromScene = function fromScene(scene, sigma, near, far) {\n                if (sigma === void 0) {\n                    sigma = 0;\n                }\n\n                if (near === void 0) {\n                    near = 0.1;\n                }\n\n                if (far === void 0) {\n                    far = 100;\n                }\n\n                _oldTarget = this._renderer.getRenderTarget();\n\n                var cubeUVRenderTarget = this._allocateTargets();\n\n                this._sceneToCubeUV(scene, near, far, cubeUVRenderTarget);\n\n                if (sigma > 0) {\n                    this._blur(cubeUVRenderTarget, 0, 0, sigma);\n                }\n\n                this._applyPMREM(cubeUVRenderTarget);\n\n                this._cleanup(cubeUVRenderTarget);\n\n                return cubeUVRenderTarget;\n            }\n            /**\n             * Generates a PMREM from an equirectangular texture, which can be either LDR\n             * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n             * as this matches best with the 256 x 256 cubemap output.\n             */\n        ;\n\n        _proto.fromEquirectangular = function fromEquirectangular(equirectangular) {\n                return this._fromTexture(equirectangular);\n            }\n            /**\n             * Generates a PMREM from an cubemap texture, which can be either LDR\n             * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n             * as this matches best with the 256 x 256 cubemap output.\n             */\n        ;\n\n        _proto.fromCubemap = function fromCubemap(cubemap) {\n                return this._fromTexture(cubemap);\n            }\n            /**\n             * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n             * your texture's network fetch for increased concurrency.\n             */\n        ;\n\n        _proto.compileCubemapShader = function compileCubemapShader() {\n                if (this._cubemapShader === null) {\n                    this._cubemapShader = _getCubemapShader();\n\n                    this._compileMaterial(this._cubemapShader);\n                }\n            }\n            /**\n             * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n             * your texture's network fetch for increased concurrency.\n             */\n        ;\n\n        _proto.compileEquirectangularShader = function compileEquirectangularShader() {\n                if (this._equirectShader === null) {\n                    this._equirectShader = _getEquirectShader();\n\n                    this._compileMaterial(this._equirectShader);\n                }\n            }\n            /**\n             * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n             * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n             * one of them will cause any others to also become unusable.\n             */\n        ;\n\n        _proto.dispose = function dispose() {\n                this._blurMaterial.dispose();\n\n                if (this._cubemapShader !== null) this._cubemapShader.dispose();\n                if (this._equirectShader !== null) this._equirectShader.dispose();\n\n                for (var i = 0; i < _lodPlanes.length; i++) {\n                    _lodPlanes[i].dispose();\n                }\n            } // private interface\n        ;\n\n        _proto._cleanup = function _cleanup(outputTarget) {\n            this._pingPongRenderTarget.dispose();\n\n            this._renderer.setRenderTarget(_oldTarget);\n\n            outputTarget.scissorTest = false;\n\n            _setViewport(outputTarget, 0, 0, outputTarget.width, outputTarget.height);\n        };\n\n        _proto._fromTexture = function _fromTexture(texture) {\n            _oldTarget = this._renderer.getRenderTarget();\n\n            var cubeUVRenderTarget = this._allocateTargets(texture);\n\n            this._textureToCubeUV(texture, cubeUVRenderTarget);\n\n            this._applyPMREM(cubeUVRenderTarget);\n\n            this._cleanup(cubeUVRenderTarget);\n\n            return cubeUVRenderTarget;\n        };\n\n        _proto._allocateTargets = function _allocateTargets(texture) {\n            // warning: null texture is valid\n            var params = {\n                magFilter: NearestFilter,\n                minFilter: NearestFilter,\n                generateMipmaps: false,\n                type: UnsignedByteType,\n                format: RGBEFormat,\n                encoding: _isLDR(texture) ? texture.encoding : RGBEEncoding,\n                depthBuffer: false\n            };\n\n            var cubeUVRenderTarget = _createRenderTarget(params);\n\n            cubeUVRenderTarget.depthBuffer = texture ? false : true;\n            this._pingPongRenderTarget = _createRenderTarget(params);\n            return cubeUVRenderTarget;\n        };\n\n        _proto._compileMaterial = function _compileMaterial(material) {\n            var tmpMesh = new Mesh(_lodPlanes[0], material);\n\n            this._renderer.compile(tmpMesh, _flatCamera);\n        };\n\n        _proto._sceneToCubeUV = function _sceneToCubeUV(scene, near, far, cubeUVRenderTarget) {\n            var fov = 90;\n            var aspect = 1;\n            var cubeCamera = new PerspectiveCamera(fov, aspect, near, far);\n            var upSign = [1, -1, 1, 1, 1, 1];\n            var forwardSign = [1, 1, 1, -1, -1, -1];\n            var renderer = this._renderer;\n            var originalAutoClear = renderer.autoClear;\n            var outputEncoding = renderer.outputEncoding;\n            var toneMapping = renderer.toneMapping;\n            renderer.getClearColor(_clearColor);\n            renderer.toneMapping = NoToneMapping;\n            renderer.outputEncoding = LinearEncoding;\n            renderer.autoClear = false;\n            var useSolidColor = false;\n            var background = scene.background;\n\n            if (background) {\n                if (background.isColor) {\n                    backgroundMaterial.color.copy(background).convertSRGBToLinear();\n                    scene.background = null;\n                    var alpha = convertLinearToRGBE(backgroundMaterial.color);\n                    backgroundMaterial.opacity = alpha;\n                    useSolidColor = true;\n                }\n            } else {\n                backgroundMaterial.color.copy(_clearColor).convertSRGBToLinear();\n\n                var _alpha = convertLinearToRGBE(backgroundMaterial.color);\n\n                backgroundMaterial.opacity = _alpha;\n                useSolidColor = true;\n            }\n\n            for (var i = 0; i < 6; i++) {\n                var col = i % 3;\n\n                if (col == 0) {\n                    cubeCamera.up.set(0, upSign[i], 0);\n                    cubeCamera.lookAt(forwardSign[i], 0, 0);\n                } else if (col == 1) {\n                    cubeCamera.up.set(0, 0, upSign[i]);\n                    cubeCamera.lookAt(0, forwardSign[i], 0);\n                } else {\n                    cubeCamera.up.set(0, upSign[i], 0);\n                    cubeCamera.lookAt(0, 0, forwardSign[i]);\n                }\n\n                _setViewport(cubeUVRenderTarget, col * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX);\n\n                renderer.setRenderTarget(cubeUVRenderTarget);\n\n                if (useSolidColor) {\n                    renderer.render(backgroundBox, cubeCamera);\n                }\n\n                renderer.render(scene, cubeCamera);\n            }\n\n            renderer.toneMapping = toneMapping;\n            renderer.outputEncoding = outputEncoding;\n            renderer.autoClear = originalAutoClear;\n        };\n\n        _proto._textureToCubeUV = function _textureToCubeUV(texture, cubeUVRenderTarget) {\n            var renderer = this._renderer;\n\n            if (texture.isCubeTexture) {\n                if (this._cubemapShader == null) {\n                    this._cubemapShader = _getCubemapShader();\n                }\n            } else {\n                if (this._equirectShader == null) {\n                    this._equirectShader = _getEquirectShader();\n                }\n            }\n\n            var material = texture.isCubeTexture ? this._cubemapShader : this._equirectShader;\n            var mesh = new Mesh(_lodPlanes[0], material);\n            var uniforms = material.uniforms;\n            uniforms['envMap'].value = texture;\n\n            if (!texture.isCubeTexture) {\n                uniforms['texelSize'].value.set(1.0 / texture.image.width, 1.0 / texture.image.height);\n            }\n\n            uniforms['inputEncoding'].value = ENCODINGS[texture.encoding];\n            uniforms['outputEncoding'].value = ENCODINGS[cubeUVRenderTarget.texture.encoding];\n\n            _setViewport(cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX);\n\n            renderer.setRenderTarget(cubeUVRenderTarget);\n            renderer.render(mesh, _flatCamera);\n        };\n\n        _proto._applyPMREM = function _applyPMREM(cubeUVRenderTarget) {\n                var renderer = this._renderer;\n                var autoClear = renderer.autoClear;\n                renderer.autoClear = false;\n\n                for (var i = 1; i < TOTAL_LODS; i++) {\n                    var sigma = Math.sqrt(_sigmas[i] * _sigmas[i] - _sigmas[i - 1] * _sigmas[i - 1]);\n                    var poleAxis = _axisDirections[(i - 1) % _axisDirections.length];\n\n                    this._blur(cubeUVRenderTarget, i - 1, i, sigma, poleAxis);\n                }\n\n                renderer.autoClear = autoClear;\n            }\n            /**\n             * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n             * vertically and horizontally, but this breaks down on a cube. Here we apply\n             * the blur latitudinally (around the poles), and then longitudinally (towards\n             * the poles) to approximate the orthogonally-separable blur. It is least\n             * accurate at the poles, but still does a decent job.\n             */\n        ;\n\n        _proto._blur = function _blur(cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis) {\n            var pingPongRenderTarget = this._pingPongRenderTarget;\n\n            this._halfBlur(cubeUVRenderTarget, pingPongRenderTarget, lodIn, lodOut, sigma, 'latitudinal', poleAxis);\n\n            this._halfBlur(pingPongRenderTarget, cubeUVRenderTarget, lodOut, lodOut, sigma, 'longitudinal', poleAxis);\n        };\n\n        _proto._halfBlur = function _halfBlur(targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis) {\n            var renderer = this._renderer;\n            var blurMaterial = this._blurMaterial;\n\n            if (direction !== 'latitudinal' && direction !== 'longitudinal') {\n                console.error('blur direction must be either latitudinal or longitudinal!');\n            } // Number of standard deviations at which to cut off the discrete approximation.\n\n\n            var STANDARD_DEVIATIONS = 3;\n            var blurMesh = new Mesh(_lodPlanes[lodOut], blurMaterial);\n            var blurUniforms = blurMaterial.uniforms;\n            var pixels = _sizeLods[lodIn] - 1;\n            var radiansPerPixel = isFinite(sigmaRadians) ? Math.PI / (2 * pixels) : 2 * Math.PI / (2 * MAX_SAMPLES - 1);\n            var sigmaPixels = sigmaRadians / radiansPerPixel;\n            var samples = isFinite(sigmaRadians) ? 1 + Math.floor(STANDARD_DEVIATIONS * sigmaPixels) : MAX_SAMPLES;\n\n            if (samples > MAX_SAMPLES) {\n                console.warn(\"sigmaRadians, \" + sigmaRadians + \", is too large and will clip, as it requested \" + samples + \" samples when the maximum is set to \" + MAX_SAMPLES);\n            }\n\n            var weights = [];\n            var sum = 0;\n\n            for (var i = 0; i < MAX_SAMPLES; ++i) {\n                var _x = i / sigmaPixels;\n\n                var weight = Math.exp(-_x * _x / 2);\n                weights.push(weight);\n\n                if (i == 0) {\n                    sum += weight;\n                } else if (i < samples) {\n                    sum += 2 * weight;\n                }\n            }\n\n            for (var _i = 0; _i < weights.length; _i++) {\n                weights[_i] = weights[_i] / sum;\n            }\n\n            blurUniforms['envMap'].value = targetIn.texture;\n            blurUniforms['samples'].value = samples;\n            blurUniforms['weights'].value = weights;\n            blurUniforms['latitudinal'].value = direction === 'latitudinal';\n\n            if (poleAxis) {\n                blurUniforms['poleAxis'].value = poleAxis;\n            }\n\n            blurUniforms['dTheta'].value = radiansPerPixel;\n            blurUniforms['mipInt'].value = LOD_MAX - lodIn;\n            blurUniforms['inputEncoding'].value = ENCODINGS[targetIn.texture.encoding];\n            blurUniforms['outputEncoding'].value = ENCODINGS[targetIn.texture.encoding];\n            var outputSize = _sizeLods[lodOut];\n            var x = 3 * Math.max(0, SIZE_MAX - 2 * outputSize);\n            var y = (lodOut === 0 ? 0 : 2 * SIZE_MAX) + 2 * outputSize * (lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0);\n\n            _setViewport(targetOut, x, y, 3 * outputSize, 2 * outputSize);\n\n            renderer.setRenderTarget(targetOut);\n            renderer.render(blurMesh, _flatCamera);\n        };\n\n        return PMREMGenerator;\n    }();\n\n    function _isLDR(texture) {\n        if (texture === undefined || texture.type !== UnsignedByteType) return false;\n        return texture.encoding === LinearEncoding || texture.encoding === sRGBEncoding || texture.encoding === GammaEncoding;\n    }\n\n    function _createPlanes() {\n        var _lodPlanes = [];\n        var _sizeLods = [];\n        var _sigmas = [];\n        var lod = LOD_MAX;\n\n        for (var i = 0; i < TOTAL_LODS; i++) {\n            var sizeLod = Math.pow(2, lod);\n\n            _sizeLods.push(sizeLod);\n\n            var sigma = 1.0 / sizeLod;\n\n            if (i > LOD_MAX - LOD_MIN) {\n                sigma = EXTRA_LOD_SIGMA[i - LOD_MAX + LOD_MIN - 1];\n            } else if (i == 0) {\n                sigma = 0;\n            }\n\n            _sigmas.push(sigma);\n\n            var texelSize = 1.0 / (sizeLod - 1);\n            var min = -texelSize / 2;\n            var max = 1 + texelSize / 2;\n            var uv1 = [min, min, max, min, max, max, min, min, max, max, min, max];\n            var cubeFaces = 6;\n            var vertices = 6;\n            var positionSize = 3;\n            var uvSize = 2;\n            var faceIndexSize = 1;\n            var position = new Float32Array(positionSize * vertices * cubeFaces);\n            var uv = new Float32Array(uvSize * vertices * cubeFaces);\n            var faceIndex = new Float32Array(faceIndexSize * vertices * cubeFaces);\n\n            for (var face = 0; face < cubeFaces; face++) {\n                var x = face % 3 * 2 / 3 - 1;\n                var y = face > 2 ? 0 : -1;\n                var coordinates = [x, y, 0, x + 2 / 3, y, 0, x + 2 / 3, y + 1, 0, x, y, 0, x + 2 / 3, y + 1, 0, x, y + 1, 0];\n                position.set(coordinates, positionSize * vertices * face);\n                uv.set(uv1, uvSize * vertices * face);\n                var fill = [face, face, face, face, face, face];\n                faceIndex.set(fill, faceIndexSize * vertices * face);\n            }\n\n            var planes = new BufferGeometry();\n            planes.setAttribute('position', new BufferAttribute(position, positionSize));\n            planes.setAttribute('uv', new BufferAttribute(uv, uvSize));\n            planes.setAttribute('faceIndex', new BufferAttribute(faceIndex, faceIndexSize));\n\n            _lodPlanes.push(planes);\n\n            if (lod > LOD_MIN) {\n                lod--;\n            }\n        }\n\n        return {\n            _lodPlanes: _lodPlanes,\n            _sizeLods: _sizeLods,\n            _sigmas: _sigmas\n        };\n    }\n\n    function _createRenderTarget(params) {\n        var cubeUVRenderTarget = new WebGLRenderTarget(3 * SIZE_MAX, 3 * SIZE_MAX, params);\n        cubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n        cubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n        cubeUVRenderTarget.scissorTest = true;\n        return cubeUVRenderTarget;\n    }\n\n    function _setViewport(target, x, y, width, height) {\n        target.viewport.set(x, y, width, height);\n        target.scissor.set(x, y, width, height);\n    }\n\n    function _getBlurShader(maxSamples) {\n        var weights = new Float32Array(maxSamples);\n        var poleAxis = new Vector3(0, 1, 0);\n        var shaderMaterial = new RawShaderMaterial({\n            name: 'SphericalGaussianBlur',\n            defines: {\n                'n': maxSamples\n            },\n            uniforms: {\n                'envMap': {\n                    value: null\n                },\n                'samples': {\n                    value: 1\n                },\n                'weights': {\n                    value: weights\n                },\n                'latitudinal': {\n                    value: false\n                },\n                'dTheta': {\n                    value: 0\n                },\n                'mipInt': {\n                    value: 0\n                },\n                'poleAxis': {\n                    value: poleAxis\n                },\n                'inputEncoding': {\n                    value: ENCODINGS[LinearEncoding]\n                },\n                'outputEncoding': {\n                    value: ENCODINGS[LinearEncoding]\n                }\n            },\n            vertexShader: _getCommonVertexShader(),\n            fragmentShader:\n            /* glsl */\n                \"\\n\\n\\t\\t\\tprecision mediump float;\\n\\t\\t\\tprecision mediump int;\\n\\n\\t\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t\\tuniform sampler2D envMap;\\n\\t\\t\\tuniform int samples;\\n\\t\\t\\tuniform float weights[ n ];\\n\\t\\t\\tuniform bool latitudinal;\\n\\t\\t\\tuniform float dTheta;\\n\\t\\t\\tuniform float mipInt;\\n\\t\\t\\tuniform vec3 poleAxis;\\n\\n\\t\\t\\t\" + _getEncodings() + \"\\n\\n\\t\\t\\t#define ENVMAP_TYPE_CUBE_UV\\n\\t\\t\\t#include <cube_uv_reflection_fragment>\\n\\n\\t\\t\\tvec3 getSample( float theta, vec3 axis ) {\\n\\n\\t\\t\\t\\tfloat cosTheta = cos( theta );\\n\\t\\t\\t\\t// Rodrigues' axis-angle rotation\\n\\t\\t\\t\\tvec3 sampleDirection = vOutputDirection * cosTheta\\n\\t\\t\\t\\t\\t+ cross( axis, vOutputDirection ) * sin( theta )\\n\\t\\t\\t\\t\\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\\n\\n\\t\\t\\t\\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\\n\\n\\t\\t\\t\\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\\n\\n\\t\\t\\t\\t\\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\taxis = normalize( axis );\\n\\n\\t\\t\\t\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\t\\t\\t\\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\\n\\n\\t\\t\\t\\tfor ( int i = 1; i < n; i++ ) {\\n\\n\\t\\t\\t\\t\\tif ( i >= samples ) {\\n\\n\\t\\t\\t\\t\\t\\tbreak;\\n\\n\\t\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\t\\tfloat theta = dTheta * float( i );\\n\\t\\t\\t\\t\\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\\n\\t\\t\\t\\t\\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\\n\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tgl_FragColor = linearToOutputTexel( gl_FragColor );\\n\\n\\t\\t\\t}\\n\\t\\t\",\n            blending: NoBlending,\n            depthTest: false,\n            depthWrite: false\n        });\n        return shaderMaterial;\n    }\n\n    function _getEquirectShader() {\n        var texelSize = new Vector2(1, 1);\n        var shaderMaterial = new RawShaderMaterial({\n            name: 'EquirectangularToCubeUV',\n            uniforms: {\n                'envMap': {\n                    value: null\n                },\n                'texelSize': {\n                    value: texelSize\n                },\n                'inputEncoding': {\n                    value: ENCODINGS[LinearEncoding]\n                },\n                'outputEncoding': {\n                    value: ENCODINGS[LinearEncoding]\n                }\n            },\n            vertexShader: _getCommonVertexShader(),\n            fragmentShader:\n            /* glsl */\n                \"\\n\\n\\t\\t\\tprecision mediump float;\\n\\t\\t\\tprecision mediump int;\\n\\n\\t\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t\\tuniform sampler2D envMap;\\n\\t\\t\\tuniform vec2 texelSize;\\n\\n\\t\\t\\t\" + _getEncodings() + \"\\n\\n\\t\\t\\t#include <common>\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\n\\t\\t\\t\\tvec3 outputDirection = normalize( vOutputDirection );\\n\\t\\t\\t\\tvec2 uv = equirectUv( outputDirection );\\n\\n\\t\\t\\t\\tvec2 f = fract( uv / texelSize - 0.5 );\\n\\t\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\t\\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\t\\t\\t\\tuv.x += texelSize.x;\\n\\t\\t\\t\\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\t\\t\\t\\tuv.y += texelSize.y;\\n\\t\\t\\t\\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\t\\t\\t\\tuv.x -= texelSize.x;\\n\\t\\t\\t\\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\\n\\n\\t\\t\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\t\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\t\\t\\tgl_FragColor.rgb = mix( tm, bm, f.y );\\n\\n\\t\\t\\t\\tgl_FragColor = linearToOutputTexel( gl_FragColor );\\n\\n\\t\\t\\t}\\n\\t\\t\",\n            blending: NoBlending,\n            depthTest: false,\n            depthWrite: false\n        });\n        return shaderMaterial;\n    }\n\n    function _getCubemapShader() {\n        var shaderMaterial = new RawShaderMaterial({\n            name: 'CubemapToCubeUV',\n            uniforms: {\n                'envMap': {\n                    value: null\n                },\n                'inputEncoding': {\n                    value: ENCODINGS[LinearEncoding]\n                },\n                'outputEncoding': {\n                    value: ENCODINGS[LinearEncoding]\n                }\n            },\n            vertexShader: _getCommonVertexShader(),\n            fragmentShader:\n            /* glsl */\n                \"\\n\\n\\t\\t\\tprecision mediump float;\\n\\t\\t\\tprecision mediump int;\\n\\n\\t\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t\\tuniform samplerCube envMap;\\n\\n\\t\\t\\t\" + _getEncodings() + \"\\n\\n\\t\\t\\tvoid main() {\\n\\n\\t\\t\\t\\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\t\\t\\t\\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\\n\\t\\t\\t\\tgl_FragColor = linearToOutputTexel( gl_FragColor );\\n\\n\\t\\t\\t}\\n\\t\\t\",\n            blending: NoBlending,\n            depthTest: false,\n            depthWrite: false\n        });\n        return shaderMaterial;\n    }\n\n    function _getCommonVertexShader() {\n        return (\n            /* glsl */\n            \"\\n\\n\\t\\tprecision mediump float;\\n\\t\\tprecision mediump int;\\n\\n\\t\\tattribute vec3 position;\\n\\t\\tattribute vec2 uv;\\n\\t\\tattribute float faceIndex;\\n\\n\\t\\tvarying vec3 vOutputDirection;\\n\\n\\t\\t// RH coordinate system; PMREM face-indexing convention\\n\\t\\tvec3 getDirection( vec2 uv, float face ) {\\n\\n\\t\\t\\tuv = 2.0 * uv - 1.0;\\n\\n\\t\\t\\tvec3 direction = vec3( uv, 1.0 );\\n\\n\\t\\t\\tif ( face == 0.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.zyx; // ( 1, v, u ) pos x\\n\\n\\t\\t\\t} else if ( face == 1.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.xzy;\\n\\t\\t\\t\\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\\n\\n\\t\\t\\t} else if ( face == 2.0 ) {\\n\\n\\t\\t\\t\\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\\n\\n\\t\\t\\t} else if ( face == 3.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.zyx;\\n\\t\\t\\t\\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\\n\\n\\t\\t\\t} else if ( face == 4.0 ) {\\n\\n\\t\\t\\t\\tdirection = direction.xzy;\\n\\t\\t\\t\\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\\n\\n\\t\\t\\t} else if ( face == 5.0 ) {\\n\\n\\t\\t\\t\\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\\n\\n\\t\\t\\t}\\n\\n\\t\\t\\treturn direction;\\n\\n\\t\\t}\\n\\n\\t\\tvoid main() {\\n\\n\\t\\t\\tvOutputDirection = getDirection( uv, faceIndex );\\n\\t\\t\\tgl_Position = vec4( position, 1.0 );\\n\\n\\t\\t}\\n\\t\"\n        );\n    }\n\n    function _getEncodings() {\n        return (\n            /* glsl */\n            \"\\n\\n\\t\\tuniform int inputEncoding;\\n\\t\\tuniform int outputEncoding;\\n\\n\\t\\t#include <encodings_pars_fragment>\\n\\n\\t\\tvec4 inputTexelToLinear( vec4 value ) {\\n\\n\\t\\t\\tif ( inputEncoding == 0 ) {\\n\\n\\t\\t\\t\\treturn value;\\n\\n\\t\\t\\t} else if ( inputEncoding == 1 ) {\\n\\n\\t\\t\\t\\treturn sRGBToLinear( value );\\n\\n\\t\\t\\t} else if ( inputEncoding == 2 ) {\\n\\n\\t\\t\\t\\treturn RGBEToLinear( value );\\n\\n\\t\\t\\t} else if ( inputEncoding == 3 ) {\\n\\n\\t\\t\\t\\treturn RGBMToLinear( value, 7.0 );\\n\\n\\t\\t\\t} else if ( inputEncoding == 4 ) {\\n\\n\\t\\t\\t\\treturn RGBMToLinear( value, 16.0 );\\n\\n\\t\\t\\t} else if ( inputEncoding == 5 ) {\\n\\n\\t\\t\\t\\treturn RGBDToLinear( value, 256.0 );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\treturn GammaToLinear( value, 2.2 );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tvec4 linearToOutputTexel( vec4 value ) {\\n\\n\\t\\t\\tif ( outputEncoding == 0 ) {\\n\\n\\t\\t\\t\\treturn value;\\n\\n\\t\\t\\t} else if ( outputEncoding == 1 ) {\\n\\n\\t\\t\\t\\treturn LinearTosRGB( value );\\n\\n\\t\\t\\t} else if ( outputEncoding == 2 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBE( value );\\n\\n\\t\\t\\t} else if ( outputEncoding == 3 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBM( value, 7.0 );\\n\\n\\t\\t\\t} else if ( outputEncoding == 4 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBM( value, 16.0 );\\n\\n\\t\\t\\t} else if ( outputEncoding == 5 ) {\\n\\n\\t\\t\\t\\treturn LinearToRGBD( value, 256.0 );\\n\\n\\t\\t\\t} else {\\n\\n\\t\\t\\t\\treturn LinearToGamma( value, 2.2 );\\n\\n\\t\\t\\t}\\n\\n\\t\\t}\\n\\n\\t\\tvec4 envMapTexelToLinear( vec4 color ) {\\n\\n\\t\\t\\treturn inputTexelToLinear( color );\\n\\n\\t\\t}\\n\\t\"\n        );\n    }\n\n    var LineStrip = 0;\n    var LinePieces = 1;\n    var NoColors = 0;\n    var FaceColors = 1;\n    var VertexColors = 2;\n\n    function MeshFaceMaterial(materials) {\n        console.warn('THREE.MeshFaceMaterial has been removed. Use an Array instead.');\n        return materials;\n    }\n\n    function MultiMaterial(materials) {\n        if (materials === void 0) {\n            materials = [];\n        }\n\n        console.warn('THREE.MultiMaterial has been removed. Use an Array instead.');\n        materials.isMultiMaterial = true;\n        materials.materials = materials;\n\n        materials.clone = function() {\n            return materials.slice();\n        };\n\n        return materials;\n    }\n\n    function PointCloud(geometry, material) {\n        console.warn('THREE.PointCloud has been renamed to THREE.Points.');\n        return new Points(geometry, material);\n    }\n\n    function Particle(material) {\n        console.warn('THREE.Particle has been renamed to THREE.Sprite.');\n        return new Sprite(material);\n    }\n\n    function ParticleSystem(geometry, material) {\n        console.warn('THREE.ParticleSystem has been renamed to THREE.Points.');\n        return new Points(geometry, material);\n    }\n\n    function PointCloudMaterial(parameters) {\n        console.warn('THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.');\n        return new PointsMaterial(parameters);\n    }\n\n    function ParticleBasicMaterial(parameters) {\n        console.warn('THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.');\n        return new PointsMaterial(parameters);\n    }\n\n    function ParticleSystemMaterial(parameters) {\n        console.warn('THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.');\n        return new PointsMaterial(parameters);\n    }\n\n    function Vertex(x, y, z) {\n        console.warn('THREE.Vertex has been removed. Use THREE.Vector3 instead.');\n        return new Vector3(x, y, z);\n    } //\n\n    function DynamicBufferAttribute(array, itemSize) {\n        console.warn('THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.');\n        return new BufferAttribute(array, itemSize).setUsage(DynamicDrawUsage);\n    }\n\n    function Int8Attribute(array, itemSize) {\n        console.warn('THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.');\n        return new Int8BufferAttribute(array, itemSize);\n    }\n\n    function Uint8Attribute(array, itemSize) {\n        console.warn('THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.');\n        return new Uint8BufferAttribute(array, itemSize);\n    }\n\n    function Uint8ClampedAttribute(array, itemSize) {\n        console.warn('THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.');\n        return new Uint8ClampedBufferAttribute(array, itemSize);\n    }\n\n    function Int16Attribute(array, itemSize) {\n        console.warn('THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.');\n        return new Int16BufferAttribute(array, itemSize);\n    }\n\n    function Uint16Attribute(array, itemSize) {\n        console.warn('THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.');\n        return new Uint16BufferAttribute(array, itemSize);\n    }\n\n    function Int32Attribute(array, itemSize) {\n        console.warn('THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.');\n        return new Int32BufferAttribute(array, itemSize);\n    }\n\n    function Uint32Attribute(array, itemSize) {\n        console.warn('THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.');\n        return new Uint32BufferAttribute(array, itemSize);\n    }\n\n    function Float32Attribute(array, itemSize) {\n        console.warn('THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.');\n        return new Float32BufferAttribute(array, itemSize);\n    }\n\n    function Float64Attribute(array, itemSize) {\n        console.warn('THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.');\n        return new Float64BufferAttribute(array, itemSize);\n    } //\n\n    Curve.create = function(construct, getPoint) {\n        console.log('THREE.Curve.create() has been deprecated');\n        construct.prototype = Object.create(Curve.prototype);\n        construct.prototype.constructor = construct;\n        construct.prototype.getPoint = getPoint;\n        return construct;\n    }; //\n\n\n    Path.prototype.fromPoints = function(points) {\n        console.warn('THREE.Path: .fromPoints() has been renamed to .setFromPoints().');\n        return this.setFromPoints(points);\n    }; //\n\n\n    function AxisHelper(size) {\n        console.warn('THREE.AxisHelper has been renamed to THREE.AxesHelper.');\n        return new AxesHelper(size);\n    }\n\n    function BoundingBoxHelper(object, color) {\n        console.warn('THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.');\n        return new BoxHelper(object, color);\n    }\n\n    function EdgesHelper(object, hex) {\n        console.warn('THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.');\n        return new LineSegments(new EdgesGeometry(object.geometry), new LineBasicMaterial({\n            color: hex !== undefined ? hex : 0xffffff\n        }));\n    }\n\n    GridHelper.prototype.setColors = function() {\n        console.error('THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.');\n    };\n\n    SkeletonHelper.prototype.update = function() {\n        console.error('THREE.SkeletonHelper: update() no longer needs to be called.');\n    };\n\n    function WireframeHelper(object, hex) {\n        console.warn('THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.');\n        return new LineSegments(new WireframeGeometry(object.geometry), new LineBasicMaterial({\n            color: hex !== undefined ? hex : 0xffffff\n        }));\n    } //\n\n    Loader.prototype.extractUrlBase = function(url) {\n        console.warn('THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.');\n        return LoaderUtils.extractUrlBase(url);\n    };\n\n    Loader.Handlers = {\n        add: function add()\n            /* regex, loader */\n            {\n                console.error('THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.');\n            },\n        get: function get()\n            /* file */\n            {\n                console.error('THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.');\n            }\n    };\n\n    function XHRLoader(manager) {\n        console.warn('THREE.XHRLoader has been renamed to THREE.FileLoader.');\n        return new FileLoader(manager);\n    }\n\n    function BinaryTextureLoader(manager) {\n        console.warn('THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.');\n        return new DataTextureLoader(manager);\n    } //\n\n    Box2.prototype.center = function(optionalTarget) {\n        console.warn('THREE.Box2: .center() has been renamed to .getCenter().');\n        return this.getCenter(optionalTarget);\n    };\n\n    Box2.prototype.empty = function() {\n        console.warn('THREE.Box2: .empty() has been renamed to .isEmpty().');\n        return this.isEmpty();\n    };\n\n    Box2.prototype.isIntersectionBox = function(box) {\n        console.warn('THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().');\n        return this.intersectsBox(box);\n    };\n\n    Box2.prototype.size = function(optionalTarget) {\n        console.warn('THREE.Box2: .size() has been renamed to .getSize().');\n        return this.getSize(optionalTarget);\n    }; //\n\n\n    Box3.prototype.center = function(optionalTarget) {\n        console.warn('THREE.Box3: .center() has been renamed to .getCenter().');\n        return this.getCenter(optionalTarget);\n    };\n\n    Box3.prototype.empty = function() {\n        console.warn('THREE.Box3: .empty() has been renamed to .isEmpty().');\n        return this.isEmpty();\n    };\n\n    Box3.prototype.isIntersectionBox = function(box) {\n        console.warn('THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().');\n        return this.intersectsBox(box);\n    };\n\n    Box3.prototype.isIntersectionSphere = function(sphere) {\n        console.warn('THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().');\n        return this.intersectsSphere(sphere);\n    };\n\n    Box3.prototype.size = function(optionalTarget) {\n        console.warn('THREE.Box3: .size() has been renamed to .getSize().');\n        return this.getSize(optionalTarget);\n    }; //\n\n\n    Sphere.prototype.empty = function() {\n        console.warn('THREE.Sphere: .empty() has been renamed to .isEmpty().');\n        return this.isEmpty();\n    }; //\n\n\n    Frustum.prototype.setFromMatrix = function(m) {\n        console.warn('THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().');\n        return this.setFromProjectionMatrix(m);\n    }; //\n\n\n    Line3.prototype.center = function(optionalTarget) {\n        console.warn('THREE.Line3: .center() has been renamed to .getCenter().');\n        return this.getCenter(optionalTarget);\n    }; //\n\n\n    MathUtils.random16 = function() {\n        console.warn('THREE.Math: .random16() has been deprecated. Use Math.random() instead.');\n        return Math.random();\n    };\n\n    MathUtils.nearestPowerOfTwo = function(value) {\n        console.warn('THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().');\n        return MathUtils.floorPowerOfTwo(value);\n    };\n\n    MathUtils.nextPowerOfTwo = function(value) {\n        console.warn('THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().');\n        return MathUtils.ceilPowerOfTwo(value);\n    }; //\n\n\n    Matrix3.prototype.flattenToArrayOffset = function(array, offset) {\n        console.warn('THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.');\n        return this.toArray(array, offset);\n    };\n\n    Matrix3.prototype.multiplyVector3 = function(vector) {\n        console.warn('THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.');\n        return vector.applyMatrix3(this);\n    };\n\n    Matrix3.prototype.multiplyVector3Array = function()\n        /* a */\n        {\n            console.error('THREE.Matrix3: .multiplyVector3Array() has been removed.');\n        };\n\n    Matrix3.prototype.applyToBufferAttribute = function(attribute) {\n        console.warn('THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.');\n        return attribute.applyMatrix3(this);\n    };\n\n    Matrix3.prototype.applyToVector3Array = function()\n        /* array, offset, length */\n        {\n            console.error('THREE.Matrix3: .applyToVector3Array() has been removed.');\n        };\n\n    Matrix3.prototype.getInverse = function(matrix) {\n        console.warn('THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.');\n        return this.copy(matrix).invert();\n    }; //\n\n\n    Matrix4.prototype.extractPosition = function(m) {\n        console.warn('THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().');\n        return this.copyPosition(m);\n    };\n\n    Matrix4.prototype.flattenToArrayOffset = function(array, offset) {\n        console.warn('THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.');\n        return this.toArray(array, offset);\n    };\n\n    Matrix4.prototype.getPosition = function() {\n        console.warn('THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.');\n        return new Vector3().setFromMatrixColumn(this, 3);\n    };\n\n    Matrix4.prototype.setRotationFromQuaternion = function(q) {\n        console.warn('THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().');\n        return this.makeRotationFromQuaternion(q);\n    };\n\n    Matrix4.prototype.multiplyToArray = function() {\n        console.warn('THREE.Matrix4: .multiplyToArray() has been removed.');\n    };\n\n    Matrix4.prototype.multiplyVector3 = function(vector) {\n        console.warn('THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n        return vector.applyMatrix4(this);\n    };\n\n    Matrix4.prototype.multiplyVector4 = function(vector) {\n        console.warn('THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n        return vector.applyMatrix4(this);\n    };\n\n    Matrix4.prototype.multiplyVector3Array = function()\n        /* a */\n        {\n            console.error('THREE.Matrix4: .multiplyVector3Array() has been removed.');\n        };\n\n    Matrix4.prototype.rotateAxis = function(v) {\n        console.warn('THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.');\n        v.transformDirection(this);\n    };\n\n    Matrix4.prototype.crossVector = function(vector) {\n        console.warn('THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.');\n        return vector.applyMatrix4(this);\n    };\n\n    Matrix4.prototype.translate = function() {\n        console.error('THREE.Matrix4: .translate() has been removed.');\n    };\n\n    Matrix4.prototype.rotateX = function() {\n        console.error('THREE.Matrix4: .rotateX() has been removed.');\n    };\n\n    Matrix4.prototype.rotateY = function() {\n        console.error('THREE.Matrix4: .rotateY() has been removed.');\n    };\n\n    Matrix4.prototype.rotateZ = function() {\n        console.error('THREE.Matrix4: .rotateZ() has been removed.');\n    };\n\n    Matrix4.prototype.rotateByAxis = function() {\n        console.error('THREE.Matrix4: .rotateByAxis() has been removed.');\n    };\n\n    Matrix4.prototype.applyToBufferAttribute = function(attribute) {\n        console.warn('THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.');\n        return attribute.applyMatrix4(this);\n    };\n\n    Matrix4.prototype.applyToVector3Array = function()\n        /* array, offset, length */\n        {\n            console.error('THREE.Matrix4: .applyToVector3Array() has been removed.');\n        };\n\n    Matrix4.prototype.makeFrustum = function(left, right, bottom, top, near, far) {\n        console.warn('THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.');\n        return this.makePerspective(left, right, top, bottom, near, far);\n    };\n\n    Matrix4.prototype.getInverse = function(matrix) {\n        console.warn('THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.');\n        return this.copy(matrix).invert();\n    }; //\n\n\n    Plane.prototype.isIntersectionLine = function(line) {\n        console.warn('THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().');\n        return this.intersectsLine(line);\n    }; //\n\n\n    Quaternion.prototype.multiplyVector3 = function(vector) {\n        console.warn('THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.');\n        return vector.applyQuaternion(this);\n    };\n\n    Quaternion.prototype.inverse = function() {\n        console.warn('THREE.Quaternion: .inverse() has been renamed to invert().');\n        return this.invert();\n    }; //\n\n\n    Ray.prototype.isIntersectionBox = function(box) {\n        console.warn('THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().');\n        return this.intersectsBox(box);\n    };\n\n    Ray.prototype.isIntersectionPlane = function(plane) {\n        console.warn('THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().');\n        return this.intersectsPlane(plane);\n    };\n\n    Ray.prototype.isIntersectionSphere = function(sphere) {\n        console.warn('THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().');\n        return this.intersectsSphere(sphere);\n    }; //\n\n\n    Triangle.prototype.area = function() {\n        console.warn('THREE.Triangle: .area() has been renamed to .getArea().');\n        return this.getArea();\n    };\n\n    Triangle.prototype.barycoordFromPoint = function(point, target) {\n        console.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');\n        return this.getBarycoord(point, target);\n    };\n\n    Triangle.prototype.midpoint = function(target) {\n        console.warn('THREE.Triangle: .midpoint() has been renamed to .getMidpoint().');\n        return this.getMidpoint(target);\n    };\n\n    Triangle.prototypenormal = function(target) {\n        console.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');\n        return this.getNormal(target);\n    };\n\n    Triangle.prototype.plane = function(target) {\n        console.warn('THREE.Triangle: .plane() has been renamed to .getPlane().');\n        return this.getPlane(target);\n    };\n\n    Triangle.barycoordFromPoint = function(point, a, b, c, target) {\n        console.warn('THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().');\n        return Triangle.getBarycoord(point, a, b, c, target);\n    };\n\n    Triangle.normal = function(a, b, c, target) {\n        console.warn('THREE.Triangle: .normal() has been renamed to .getNormal().');\n        return Triangle.getNormal(a, b, c, target);\n    }; //\n\n\n    Shape.prototype.extractAllPoints = function(divisions) {\n        console.warn('THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.');\n        return this.extractPoints(divisions);\n    };\n\n    Shape.prototype.extrude = function(options) {\n        console.warn('THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.');\n        return new ExtrudeGeometry(this, options);\n    };\n\n    Shape.prototype.makeGeometry = function(options) {\n        console.warn('THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.');\n        return new ShapeGeometry(this, options);\n    }; //\n\n\n    Vector2.prototype.fromAttribute = function(attribute, index, offset) {\n        console.warn('THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().');\n        return this.fromBufferAttribute(attribute, index, offset);\n    };\n\n    Vector2.prototype.distanceToManhattan = function(v) {\n        console.warn('THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');\n        return this.manhattanDistanceTo(v);\n    };\n\n    Vector2.prototype.lengthManhattan = function() {\n        console.warn('THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().');\n        return this.manhattanLength();\n    }; //\n\n\n    Vector3.prototype.setEulerFromRotationMatrix = function() {\n        console.error('THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.');\n    };\n\n    Vector3.prototype.setEulerFromQuaternion = function() {\n        console.error('THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.');\n    };\n\n    Vector3.prototype.getPositionFromMatrix = function(m) {\n        console.warn('THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().');\n        return this.setFromMatrixPosition(m);\n    };\n\n    Vector3.prototype.getScaleFromMatrix = function(m) {\n        console.warn('THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().');\n        return this.setFromMatrixScale(m);\n    };\n\n    Vector3.prototype.getColumnFromMatrix = function(index, matrix) {\n        console.warn('THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().');\n        return this.setFromMatrixColumn(matrix, index);\n    };\n\n    Vector3.prototype.applyProjection = function(m) {\n        console.warn('THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.');\n        return this.applyMatrix4(m);\n    };\n\n    Vector3.prototype.fromAttribute = function(attribute, index, offset) {\n        console.warn('THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().');\n        return this.fromBufferAttribute(attribute, index, offset);\n    };\n\n    Vector3.prototype.distanceToManhattan = function(v) {\n        console.warn('THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().');\n        return this.manhattanDistanceTo(v);\n    };\n\n    Vector3.prototype.lengthManhattan = function() {\n        console.warn('THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().');\n        return this.manhattanLength();\n    }; //\n\n\n    Vector4.prototype.fromAttribute = function(attribute, index, offset) {\n        console.warn('THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().');\n        return this.fromBufferAttribute(attribute, index, offset);\n    };\n\n    Vector4.prototype.lengthManhattan = function() {\n        console.warn('THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().');\n        return this.manhattanLength();\n    }; //\n\n\n    Object3D.prototype.getChildByName = function(name) {\n        console.warn('THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().');\n        return this.getObjectByName(name);\n    };\n\n    Object3D.prototype.renderDepth = function() {\n        console.warn('THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.');\n    };\n\n    Object3D.prototype.translate = function(distance, axis) {\n        console.warn('THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.');\n        return this.translateOnAxis(axis, distance);\n    };\n\n    Object3D.prototype.getWorldRotation = function() {\n        console.error('THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.');\n    };\n\n    Object3D.prototype.applyMatrix = function(matrix) {\n        console.warn('THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().');\n        return this.applyMatrix4(matrix);\n    };\n\n    Object.defineProperties(Object3D.prototype, {\n        eulerOrder: {\n            get: function get() {\n                console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');\n                return this.rotation.order;\n            },\n            set: function set(value) {\n                console.warn('THREE.Object3D: .eulerOrder is now .rotation.order.');\n                this.rotation.order = value;\n            }\n        },\n        useQuaternion: {\n            get: function get() {\n                console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');\n            },\n            set: function set() {\n                console.warn('THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.');\n            }\n        }\n    });\n\n    Mesh.prototype.setDrawMode = function() {\n        console.error('THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.');\n    };\n\n    Object.defineProperties(Mesh.prototype, {\n        drawMode: {\n            get: function get() {\n                console.error('THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.');\n                return TrianglesDrawMode;\n            },\n            set: function set() {\n                console.error('THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.');\n            }\n        }\n    });\n    Object.defineProperties(LOD.prototype, {\n        objects: {\n            get: function get() {\n                console.warn('THREE.LOD: .objects has been renamed to .levels.');\n                return this.levels;\n            }\n        }\n    });\n    Object.defineProperty(Skeleton.prototype, 'useVertexTexture', {\n        get: function get() {\n            console.warn('THREE.Skeleton: useVertexTexture has been removed.');\n        },\n        set: function set() {\n            console.warn('THREE.Skeleton: useVertexTexture has been removed.');\n        }\n    });\n\n    SkinnedMesh.prototype.initBones = function() {\n        console.error('THREE.SkinnedMesh: initBones() has been removed.');\n    };\n\n    Object.defineProperty(Curve.prototype, '__arcLengthDivisions', {\n        get: function get() {\n            console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.');\n            return this.arcLengthDivisions;\n        },\n        set: function set(value) {\n            console.warn('THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.');\n            this.arcLengthDivisions = value;\n        }\n    }); //\n\n    PerspectiveCamera.prototype.setLens = function(focalLength, filmGauge) {\n        console.warn('THREE.PerspectiveCamera.setLens is deprecated. ' + 'Use .setFocalLength and .filmGauge for a photographic setup.');\n        if (filmGauge !== undefined) this.filmGauge = filmGauge;\n        this.setFocalLength(focalLength);\n    }; //\n\n\n    Object.defineProperties(Light.prototype, {\n        onlyShadow: {\n            set: function set() {\n                console.warn('THREE.Light: .onlyShadow has been removed.');\n            }\n        },\n        shadowCameraFov: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowCameraFov is now .shadow.camera.fov.');\n                this.shadow.camera.fov = value;\n            }\n        },\n        shadowCameraLeft: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowCameraLeft is now .shadow.camera.left.');\n                this.shadow.camera.left = value;\n            }\n        },\n        shadowCameraRight: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowCameraRight is now .shadow.camera.right.');\n                this.shadow.camera.right = value;\n            }\n        },\n        shadowCameraTop: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowCameraTop is now .shadow.camera.top.');\n                this.shadow.camera.top = value;\n            }\n        },\n        shadowCameraBottom: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.');\n                this.shadow.camera.bottom = value;\n            }\n        },\n        shadowCameraNear: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowCameraNear is now .shadow.camera.near.');\n                this.shadow.camera.near = value;\n            }\n        },\n        shadowCameraFar: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowCameraFar is now .shadow.camera.far.');\n                this.shadow.camera.far = value;\n            }\n        },\n        shadowCameraVisible: {\n            set: function set() {\n                console.warn('THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.');\n            }\n        },\n        shadowBias: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowBias is now .shadow.bias.');\n                this.shadow.bias = value;\n            }\n        },\n        shadowDarkness: {\n            set: function set() {\n                console.warn('THREE.Light: .shadowDarkness has been removed.');\n            }\n        },\n        shadowMapWidth: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.');\n                this.shadow.mapSize.width = value;\n            }\n        },\n        shadowMapHeight: {\n            set: function set(value) {\n                console.warn('THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.');\n                this.shadow.mapSize.height = value;\n            }\n        }\n    }); //\n\n    Object.defineProperties(BufferAttribute.prototype, {\n        length: {\n            get: function get() {\n                console.warn('THREE.BufferAttribute: .length has been deprecated. Use .count instead.');\n                return this.array.length;\n            }\n        },\n        dynamic: {\n            get: function get() {\n                console.warn('THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.');\n                return this.usage === DynamicDrawUsage;\n            },\n            set: function set()\n                /* value */\n                {\n                    console.warn('THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.');\n                    this.setUsage(DynamicDrawUsage);\n                }\n        }\n    });\n\n    BufferAttribute.prototype.setDynamic = function(value) {\n        console.warn('THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.');\n        this.setUsage(value === true ? DynamicDrawUsage : StaticDrawUsage);\n        return this;\n    };\n\n    BufferAttribute.prototype.copyIndicesArray = function()\n        /* indices */\n        {\n            console.error('THREE.BufferAttribute: .copyIndicesArray() has been removed.');\n        }, BufferAttribute.prototype.setArray = function()\n        /* array */\n        {\n            console.error('THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers');\n        }; //\n\n    BufferGeometry.prototype.addIndex = function(index) {\n        console.warn('THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().');\n        this.setIndex(index);\n    };\n\n    BufferGeometry.prototype.addAttribute = function(name, attribute) {\n        console.warn('THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().');\n\n        if (!(attribute && attribute.isBufferAttribute) && !(attribute && attribute.isInterleavedBufferAttribute)) {\n            console.warn('THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).');\n            return this.setAttribute(name, new BufferAttribute(arguments[1], arguments[2]));\n        }\n\n        if (name === 'index') {\n            console.warn('THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.');\n            this.setIndex(attribute);\n            return this;\n        }\n\n        return this.setAttribute(name, attribute);\n    };\n\n    BufferGeometry.prototype.addDrawCall = function(start, count, indexOffset) {\n        if (indexOffset !== undefined) {\n            console.warn('THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.');\n        }\n\n        console.warn('THREE.BufferGeometry: .addDrawCall() is now .addGroup().');\n        this.addGroup(start, count);\n    };\n\n    BufferGeometry.prototype.clearDrawCalls = function() {\n        console.warn('THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().');\n        this.clearGroups();\n    };\n\n    BufferGeometry.prototype.computeOffsets = function() {\n        console.warn('THREE.BufferGeometry: .computeOffsets() has been removed.');\n    };\n\n    BufferGeometry.prototype.removeAttribute = function(name) {\n        console.warn('THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().');\n        return this.deleteAttribute(name);\n    };\n\n    BufferGeometry.prototype.applyMatrix = function(matrix) {\n        console.warn('THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().');\n        return this.applyMatrix4(matrix);\n    };\n\n    Object.defineProperties(BufferGeometry.prototype, {\n        drawcalls: {\n            get: function get() {\n                console.error('THREE.BufferGeometry: .drawcalls has been renamed to .groups.');\n                return this.groups;\n            }\n        },\n        offsets: {\n            get: function get() {\n                console.warn('THREE.BufferGeometry: .offsets has been renamed to .groups.');\n                return this.groups;\n            }\n        }\n    });\n    Object.defineProperties(InstancedBufferGeometry.prototype, {\n        maxInstancedCount: {\n            get: function get() {\n                console.warn('THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.');\n                return this.instanceCount;\n            },\n            set: function set(value) {\n                console.warn('THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.');\n                this.instanceCount = value;\n            }\n        }\n    });\n    Object.defineProperties(Raycaster.prototype, {\n        linePrecision: {\n            get: function get() {\n                console.warn('THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.');\n                return this.params.Line.threshold;\n            },\n            set: function set(value) {\n                console.warn('THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.');\n                this.params.Line.threshold = value;\n            }\n        }\n    });\n    Object.defineProperties(InterleavedBuffer.prototype, {\n        dynamic: {\n            get: function get() {\n                console.warn('THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.');\n                return this.usage === DynamicDrawUsage;\n            },\n            set: function set(value) {\n                console.warn('THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.');\n                this.setUsage(value);\n            }\n        }\n    });\n\n    InterleavedBuffer.prototype.setDynamic = function(value) {\n        console.warn('THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.');\n        this.setUsage(value === true ? DynamicDrawUsage : StaticDrawUsage);\n        return this;\n    };\n\n    InterleavedBuffer.prototype.setArray = function()\n        /* array */\n        {\n            console.error('THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers');\n        }; //\n\n\n    ExtrudeGeometry.prototype.getArrays = function() {\n        console.error('THREE.ExtrudeGeometry: .getArrays() has been removed.');\n    };\n\n    ExtrudeGeometry.prototype.addShapeList = function() {\n        console.error('THREE.ExtrudeGeometry: .addShapeList() has been removed.');\n    };\n\n    ExtrudeGeometry.prototype.addShape = function() {\n        console.error('THREE.ExtrudeGeometry: .addShape() has been removed.');\n    }; //\n\n\n    Scene.prototype.dispose = function() {\n        console.error('THREE.Scene: .dispose() has been removed.');\n    }; //\n\n\n    Object.defineProperties(Uniform.prototype, {\n        dynamic: {\n            set: function set() {\n                console.warn('THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.');\n            }\n        },\n        onUpdate: {\n            value: function value() {\n                console.warn('THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.');\n                return this;\n            }\n        }\n    }); //\n\n    Object.defineProperties(Material.prototype, {\n        wrapAround: {\n            get: function get() {\n                console.warn('THREE.Material: .wrapAround has been removed.');\n            },\n            set: function set() {\n                console.warn('THREE.Material: .wrapAround has been removed.');\n            }\n        },\n        overdraw: {\n            get: function get() {\n                console.warn('THREE.Material: .overdraw has been removed.');\n            },\n            set: function set() {\n                console.warn('THREE.Material: .overdraw has been removed.');\n            }\n        },\n        wrapRGB: {\n            get: function get() {\n                console.warn('THREE.Material: .wrapRGB has been removed.');\n                return new Color();\n            }\n        },\n        shading: {\n            get: function get() {\n                console.error('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n            },\n            set: function set(value) {\n                console.warn('THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.');\n                this.flatShading = value === FlatShading;\n            }\n        },\n        stencilMask: {\n            get: function get() {\n                console.warn('THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.');\n                return this.stencilFuncMask;\n            },\n            set: function set(value) {\n                console.warn('THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.');\n                this.stencilFuncMask = value;\n            }\n        }\n    });\n    Object.defineProperties(MeshPhongMaterial.prototype, {\n        metal: {\n            get: function get() {\n                console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.');\n                return false;\n            },\n            set: function set() {\n                console.warn('THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead');\n            }\n        }\n    });\n    Object.defineProperties(MeshPhysicalMaterial.prototype, {\n        transparency: {\n            get: function get() {\n                console.warn('THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.');\n                return this.transmission;\n            },\n            set: function set(value) {\n                console.warn('THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.');\n                this.transmission = value;\n            }\n        }\n    });\n    Object.defineProperties(ShaderMaterial.prototype, {\n        derivatives: {\n            get: function get() {\n                console.warn('THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');\n                return this.extensions.derivatives;\n            },\n            set: function set(value) {\n                console.warn('THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.');\n                this.extensions.derivatives = value;\n            }\n        }\n    }); //\n\n    WebGLRenderer.prototype.clearTarget = function(renderTarget, color, depth, stencil) {\n        console.warn('THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.');\n        this.setRenderTarget(renderTarget);\n        this.clear(color, depth, stencil);\n    };\n\n    WebGLRenderer.prototype.animate = function(callback) {\n        console.warn('THREE.WebGLRenderer: .animate() is now .setAnimationLoop().');\n        this.setAnimationLoop(callback);\n    };\n\n    WebGLRenderer.prototype.getCurrentRenderTarget = function() {\n        console.warn('THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().');\n        return this.getRenderTarget();\n    };\n\n    WebGLRenderer.prototype.getMaxAnisotropy = function() {\n        console.warn('THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().');\n        return this.capabilities.getMaxAnisotropy();\n    };\n\n    WebGLRenderer.prototype.getPrecision = function() {\n        console.warn('THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.');\n        return this.capabilities.precision;\n    };\n\n    WebGLRenderer.prototype.resetGLState = function() {\n        console.warn('THREE.WebGLRenderer: .resetGLState() is now .state.reset().');\n        return this.state.reset();\n    };\n\n    WebGLRenderer.prototype.supportsFloatTextures = function() {\n        console.warn('THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).');\n        return this.extensions.get('OES_texture_float');\n    };\n\n    WebGLRenderer.prototype.supportsHalfFloatTextures = function() {\n        console.warn('THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).');\n        return this.extensions.get('OES_texture_half_float');\n    };\n\n    WebGLRenderer.prototype.supportsStandardDerivatives = function() {\n        console.warn('THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).');\n        return this.extensions.get('OES_standard_derivatives');\n    };\n\n    WebGLRenderer.prototype.supportsCompressedTextureS3TC = function() {\n        console.warn('THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).');\n        return this.extensions.get('WEBGL_compressed_texture_s3tc');\n    };\n\n    WebGLRenderer.prototype.supportsCompressedTexturePVRTC = function() {\n        console.warn('THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).');\n        return this.extensions.get('WEBGL_compressed_texture_pvrtc');\n    };\n\n    WebGLRenderer.prototype.supportsBlendMinMax = function() {\n        console.warn('THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).');\n        return this.extensions.get('EXT_blend_minmax');\n    };\n\n    WebGLRenderer.prototype.supportsVertexTextures = function() {\n        console.warn('THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.');\n        return this.capabilities.vertexTextures;\n    };\n\n    WebGLRenderer.prototype.supportsInstancedArrays = function() {\n        console.warn('THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).');\n        return this.extensions.get('ANGLE_instanced_arrays');\n    };\n\n    WebGLRenderer.prototype.enableScissorTest = function(boolean) {\n        console.warn('THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().');\n        this.setScissorTest(boolean);\n    };\n\n    WebGLRenderer.prototype.initMaterial = function() {\n        console.warn('THREE.WebGLRenderer: .initMaterial() has been removed.');\n    };\n\n    WebGLRenderer.prototype.addPrePlugin = function() {\n        console.warn('THREE.WebGLRenderer: .addPrePlugin() has been removed.');\n    };\n\n    WebGLRenderer.prototype.addPostPlugin = function() {\n        console.warn('THREE.WebGLRenderer: .addPostPlugin() has been removed.');\n    };\n\n    WebGLRenderer.prototype.updateShadowMap = function() {\n        console.warn('THREE.WebGLRenderer: .updateShadowMap() has been removed.');\n    };\n\n    WebGLRenderer.prototype.setFaceCulling = function() {\n        console.warn('THREE.WebGLRenderer: .setFaceCulling() has been removed.');\n    };\n\n    WebGLRenderer.prototype.allocTextureUnit = function() {\n        console.warn('THREE.WebGLRenderer: .allocTextureUnit() has been removed.');\n    };\n\n    WebGLRenderer.prototype.setTexture = function() {\n        console.warn('THREE.WebGLRenderer: .setTexture() has been removed.');\n    };\n\n    WebGLRenderer.prototype.setTexture2D = function() {\n        console.warn('THREE.WebGLRenderer: .setTexture2D() has been removed.');\n    };\n\n    WebGLRenderer.prototype.setTextureCube = function() {\n        console.warn('THREE.WebGLRenderer: .setTextureCube() has been removed.');\n    };\n\n    WebGLRenderer.prototype.getActiveMipMapLevel = function() {\n        console.warn('THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().');\n        return this.getActiveMipmapLevel();\n    };\n\n    Object.defineProperties(WebGLRenderer.prototype, {\n        shadowMapEnabled: {\n            get: function get() {\n                return this.shadowMap.enabled;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.');\n                this.shadowMap.enabled = value;\n            }\n        },\n        shadowMapType: {\n            get: function get() {\n                return this.shadowMap.type;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.');\n                this.shadowMap.type = value;\n            }\n        },\n        shadowMapCullFace: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');\n                return undefined;\n            },\n            set: function set()\n                /* value */\n                {\n                    console.warn('THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.');\n                }\n        },\n        context: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.');\n                return this.getContext();\n            }\n        },\n        vr: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .vr has been renamed to .xr');\n                return this.xr;\n            }\n        },\n        gammaInput: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.');\n                return false;\n            },\n            set: function set() {\n                console.warn('THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.');\n            }\n        },\n        gammaOutput: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.');\n                return false;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.');\n                this.outputEncoding = value === true ? sRGBEncoding : LinearEncoding;\n            }\n        },\n        toneMappingWhitePoint: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.');\n                return 1.0;\n            },\n            set: function set() {\n                console.warn('THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.');\n            }\n        }\n    });\n    Object.defineProperties(WebGLShadowMap.prototype, {\n        cullFace: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');\n                return undefined;\n            },\n            set: function set()\n                /* cullFace */\n                {\n                    console.warn('THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.');\n                }\n        },\n        renderReverseSided: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');\n                return undefined;\n            },\n            set: function set() {\n                console.warn('THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.');\n            }\n        },\n        renderSingleSided: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');\n                return undefined;\n            },\n            set: function set() {\n                console.warn('THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.');\n            }\n        }\n    });\n\n    function WebGLRenderTargetCube(width, height, options) {\n        console.warn('THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).');\n        return new WebGLCubeRenderTarget(width, options);\n    } //\n\n    Object.defineProperties(WebGLRenderTarget.prototype, {\n        wrapS: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');\n                return this.texture.wrapS;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.');\n                this.texture.wrapS = value;\n            }\n        },\n        wrapT: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');\n                return this.texture.wrapT;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.');\n                this.texture.wrapT = value;\n            }\n        },\n        magFilter: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');\n                return this.texture.magFilter;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.');\n                this.texture.magFilter = value;\n            }\n        },\n        minFilter: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');\n                return this.texture.minFilter;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.');\n                this.texture.minFilter = value;\n            }\n        },\n        anisotropy: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');\n                return this.texture.anisotropy;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.');\n                this.texture.anisotropy = value;\n            }\n        },\n        offset: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');\n                return this.texture.offset;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .offset is now .texture.offset.');\n                this.texture.offset = value;\n            }\n        },\n        repeat: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');\n                return this.texture.repeat;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .repeat is now .texture.repeat.');\n                this.texture.repeat = value;\n            }\n        },\n        format: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');\n                return this.texture.format;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .format is now .texture.format.');\n                this.texture.format = value;\n            }\n        },\n        type: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');\n                return this.texture.type;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .type is now .texture.type.');\n                this.texture.type = value;\n            }\n        },\n        generateMipmaps: {\n            get: function get() {\n                console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');\n                return this.texture.generateMipmaps;\n            },\n            set: function set(value) {\n                console.warn('THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.');\n                this.texture.generateMipmaps = value;\n            }\n        }\n    }); //\n\n    Object.defineProperties(Audio.prototype, {\n        load: {\n            value: function value(file) {\n                console.warn('THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.');\n                var scope = this;\n                var audioLoader = new AudioLoader();\n                audioLoader.load(file, function(buffer) {\n                    scope.setBuffer(buffer);\n                });\n                return this;\n            }\n        },\n        startTime: {\n            set: function set() {\n                console.warn('THREE.Audio: .startTime is now .play( delay ).');\n            }\n        }\n    });\n\n    AudioAnalyser.prototype.getData = function() {\n        console.warn('THREE.AudioAnalyser: .getData() is now .getFrequencyData().');\n        return this.getFrequencyData();\n    }; //\n\n\n    CubeCamera.prototype.updateCubeMap = function(renderer, scene) {\n        console.warn('THREE.CubeCamera: .updateCubeMap() is now .update().');\n        return this.update(renderer, scene);\n    };\n\n    CubeCamera.prototype.clear = function(renderer, color, depth, stencil) {\n        console.warn('THREE.CubeCamera: .clear() is now .renderTarget.clear().');\n        return this.renderTarget.clear(renderer, color, depth, stencil);\n    };\n\n    ImageUtils.crossOrigin = undefined;\n\n    ImageUtils.loadTexture = function(url, mapping, onLoad, onError) {\n        console.warn('THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.');\n        var loader = new TextureLoader();\n        loader.setCrossOrigin(this.crossOrigin);\n        var texture = loader.load(url, onLoad, undefined, onError);\n        if (mapping) texture.mapping = mapping;\n        return texture;\n    };\n\n    ImageUtils.loadTextureCube = function(urls, mapping, onLoad, onError) {\n        console.warn('THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.');\n        var loader = new CubeTextureLoader();\n        loader.setCrossOrigin(this.crossOrigin);\n        var texture = loader.load(urls, onLoad, undefined, onError);\n        if (mapping) texture.mapping = mapping;\n        return texture;\n    };\n\n    ImageUtils.loadCompressedTexture = function() {\n        console.error('THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.');\n    };\n\n    ImageUtils.loadCompressedTextureCube = function() {\n        console.error('THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.');\n    }; //\n\n\n    function CanvasRenderer() {\n        console.error('THREE.CanvasRenderer has been removed');\n    } //\n\n    function JSONLoader() {\n        console.error('THREE.JSONLoader has been removed.');\n    } //\n\n    var SceneUtils = {\n        createMultiMaterialObject: function createMultiMaterialObject()\n            /* geometry, materials */\n            {\n                console.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');\n            },\n        detach: function detach()\n            /* child, parent, scene */\n            {\n                console.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');\n            },\n        attach: function attach()\n            /* child, scene, parent */\n            {\n                console.error('THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js');\n            }\n    }; //\n\n    function LensFlare() {\n        console.error('THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js');\n    }\n\n    if (typeof __THREE_DEVTOOLS__ !== 'undefined') {\n        /* eslint-disable no-undef */\n        __THREE_DEVTOOLS__.dispatchEvent(new CustomEvent('register', {\n            detail: {\n                revision: REVISION\n            }\n        }));\n        /* eslint-enable no-undef */\n\n    }\n\n    if (typeof window !== 'undefined') {\n        if (window.__THREE__) {\n            console.warn('WARNING: Multiple instances of Three.js being imported.');\n        } else {\n            window.__THREE__ = REVISION;\n        }\n    }\n\n    exports.ACESFilmicToneMapping = ACESFilmicToneMapping;\n    exports.AddEquation = AddEquation;\n    exports.AddOperation = AddOperation;\n    exports.AdditiveAnimationBlendMode = AdditiveAnimationBlendMode;\n    exports.AdditiveBlending = AdditiveBlending;\n    exports.AlphaFormat = AlphaFormat;\n    exports.AlwaysDepth = AlwaysDepth;\n    exports.AlwaysStencilFunc = AlwaysStencilFunc;\n    exports.AmbientLight = AmbientLight;\n    exports.AmbientLightProbe = AmbientLightProbe;\n    exports.AnimationClip = AnimationClip;\n    exports.AnimationLoader = AnimationLoader;\n    exports.AnimationMixer = AnimationMixer;\n    exports.AnimationObjectGroup = AnimationObjectGroup;\n    exports.AnimationUtils = AnimationUtils;\n    exports.ArcCurve = ArcCurve;\n    exports.ArrayCamera = ArrayCamera;\n    exports.ArrowHelper = ArrowHelper;\n    exports.Audio = Audio;\n    exports.AudioAnalyser = AudioAnalyser;\n    exports.AudioContext = AudioContext;\n    exports.AudioListener = AudioListener;\n    exports.AudioLoader = AudioLoader;\n    exports.AxesHelper = AxesHelper;\n    exports.AxisHelper = AxisHelper;\n    exports.BackSide = BackSide;\n    exports.BasicDepthPacking = BasicDepthPacking;\n    exports.BasicShadowMap = BasicShadowMap;\n    exports.BinaryTextureLoader = BinaryTextureLoader;\n    exports.Bone = Bone;\n    exports.BooleanKeyframeTrack = BooleanKeyframeTrack;\n    exports.BoundingBoxHelper = BoundingBoxHelper;\n    exports.Box2 = Box2;\n    exports.Box3 = Box3;\n    exports.Box3Helper = Box3Helper;\n    exports.BoxBufferGeometry = BoxGeometry;\n    exports.BoxGeometry = BoxGeometry;\n    exports.BoxHelper = BoxHelper;\n    exports.BufferAttribute = BufferAttribute;\n    exports.BufferGeometry = BufferGeometry;\n    exports.BufferGeometryLoader = BufferGeometryLoader;\n    exports.ByteType = ByteType;\n    exports.Cache = Cache;\n    exports.Camera = Camera;\n    exports.CameraHelper = CameraHelper;\n    exports.CanvasRenderer = CanvasRenderer;\n    exports.CanvasTexture = CanvasTexture;\n    exports.CatmullRomCurve3 = CatmullRomCurve3;\n    exports.CineonToneMapping = CineonToneMapping;\n    exports.CircleBufferGeometry = CircleGeometry;\n    exports.CircleGeometry = CircleGeometry;\n    exports.ClampToEdgeWrapping = ClampToEdgeWrapping;\n    exports.Clock = Clock;\n    exports.Color = Color;\n    exports.ColorKeyframeTrack = ColorKeyframeTrack;\n    exports.CompressedTexture = CompressedTexture;\n    exports.CompressedTextureLoader = CompressedTextureLoader;\n    exports.ConeBufferGeometry = ConeGeometry;\n    exports.ConeGeometry = ConeGeometry;\n    exports.CubeCamera = CubeCamera;\n    exports.CubeReflectionMapping = CubeReflectionMapping;\n    exports.CubeRefractionMapping = CubeRefractionMapping;\n    exports.CubeTexture = CubeTexture;\n    exports.CubeTextureLoader = CubeTextureLoader;\n    exports.CubeUVReflectionMapping = CubeUVReflectionMapping;\n    exports.CubeUVRefractionMapping = CubeUVRefractionMapping;\n    exports.CubicBezierCurve = CubicBezierCurve;\n    exports.CubicBezierCurve3 = CubicBezierCurve3;\n    exports.CubicInterpolant = CubicInterpolant;\n    exports.CullFaceBack = CullFaceBack;\n    exports.CullFaceFront = CullFaceFront;\n    exports.CullFaceFrontBack = CullFaceFrontBack;\n    exports.CullFaceNone = CullFaceNone;\n    exports.Curve = Curve;\n    exports.CurvePath = CurvePath;\n    exports.CustomBlending = CustomBlending;\n    exports.CustomToneMapping = CustomToneMapping;\n    exports.CylinderBufferGeometry = CylinderGeometry;\n    exports.CylinderGeometry = CylinderGeometry;\n    exports.Cylindrical = Cylindrical;\n    exports.DataTexture = DataTexture;\n    exports.DataTexture2DArray = DataTexture2DArray;\n    exports.DataTexture3D = DataTexture3D;\n    exports.DataTextureLoader = DataTextureLoader;\n    exports.DataUtils = DataUtils;\n    exports.DecrementStencilOp = DecrementStencilOp;\n    exports.DecrementWrapStencilOp = DecrementWrapStencilOp;\n    exports.DefaultLoadingManager = DefaultLoadingManager;\n    exports.DepthFormat = DepthFormat;\n    exports.DepthStencilFormat = DepthStencilFormat;\n    exports.DepthTexture = DepthTexture;\n    exports.DirectionalLight = DirectionalLight;\n    exports.DirectionalLightHelper = DirectionalLightHelper;\n    exports.DiscreteInterpolant = DiscreteInterpolant;\n    exports.DodecahedronBufferGeometry = DodecahedronGeometry;\n    exports.DodecahedronGeometry = DodecahedronGeometry;\n    exports.DoubleSide = DoubleSide;\n    exports.DstAlphaFactor = DstAlphaFactor;\n    exports.DstColorFactor = DstColorFactor;\n    exports.DynamicBufferAttribute = DynamicBufferAttribute;\n    exports.DynamicCopyUsage = DynamicCopyUsage;\n    exports.DynamicDrawUsage = DynamicDrawUsage;\n    exports.DynamicReadUsage = DynamicReadUsage;\n    exports.EdgesGeometry = EdgesGeometry;\n    exports.EdgesHelper = EdgesHelper;\n    exports.EllipseCurve = EllipseCurve;\n    exports.EqualDepth = EqualDepth;\n    exports.EqualStencilFunc = EqualStencilFunc;\n    exports.EquirectangularReflectionMapping = EquirectangularReflectionMapping;\n    exports.EquirectangularRefractionMapping = EquirectangularRefractionMapping;\n    exports.Euler = Euler;\n    exports.EventDispatcher = EventDispatcher;\n    exports.ExtrudeBufferGeometry = ExtrudeGeometry;\n    exports.ExtrudeGeometry = ExtrudeGeometry;\n    exports.FaceColors = FaceColors;\n    exports.FileLoader = FileLoader;\n    exports.FlatShading = FlatShading;\n    exports.Float16BufferAttribute = Float16BufferAttribute;\n    exports.Float32Attribute = Float32Attribute;\n    exports.Float32BufferAttribute = Float32BufferAttribute;\n    exports.Float64Attribute = Float64Attribute;\n    exports.Float64BufferAttribute = Float64BufferAttribute;\n    exports.FloatType = FloatType;\n    exports.Fog = Fog;\n    exports.FogExp2 = FogExp2;\n    exports.Font = Font;\n    exports.FontLoader = FontLoader;\n    exports.FrontSide = FrontSide;\n    exports.Frustum = Frustum;\n    exports.GLBufferAttribute = GLBufferAttribute;\n    exports.GLSL1 = GLSL1;\n    exports.GLSL3 = GLSL3;\n    exports.GammaEncoding = GammaEncoding;\n    exports.GreaterDepth = GreaterDepth;\n    exports.GreaterEqualDepth = GreaterEqualDepth;\n    exports.GreaterEqualStencilFunc = GreaterEqualStencilFunc;\n    exports.GreaterStencilFunc = GreaterStencilFunc;\n    exports.GridHelper = GridHelper;\n    exports.Group = Group;\n    exports.HalfFloatType = HalfFloatType;\n    exports.HemisphereLight = HemisphereLight;\n    exports.HemisphereLightHelper = HemisphereLightHelper;\n    exports.HemisphereLightProbe = HemisphereLightProbe;\n    exports.IcosahedronBufferGeometry = IcosahedronGeometry;\n    exports.IcosahedronGeometry = IcosahedronGeometry;\n    exports.ImageBitmapLoader = ImageBitmapLoader;\n    exports.ImageLoader = ImageLoader;\n    exports.ImageUtils = ImageUtils;\n    exports.ImmediateRenderObject = ImmediateRenderObject;\n    exports.IncrementStencilOp = IncrementStencilOp;\n    exports.IncrementWrapStencilOp = IncrementWrapStencilOp;\n    exports.InstancedBufferAttribute = InstancedBufferAttribute;\n    exports.InstancedBufferGeometry = InstancedBufferGeometry;\n    exports.InstancedInterleavedBuffer = InstancedInterleavedBuffer;\n    exports.InstancedMesh = InstancedMesh;\n    exports.Int16Attribute = Int16Attribute;\n    exports.Int16BufferAttribute = Int16BufferAttribute;\n    exports.Int32Attribute = Int32Attribute;\n    exports.Int32BufferAttribute = Int32BufferAttribute;\n    exports.Int8Attribute = Int8Attribute;\n    exports.Int8BufferAttribute = Int8BufferAttribute;\n    exports.IntType = IntType;\n    exports.InterleavedBuffer = InterleavedBuffer;\n    exports.InterleavedBufferAttribute = InterleavedBufferAttribute;\n    exports.Interpolant = Interpolant;\n    exports.InterpolateDiscrete = InterpolateDiscrete;\n    exports.InterpolateLinear = InterpolateLinear;\n    exports.InterpolateSmooth = InterpolateSmooth;\n    exports.InvertStencilOp = InvertStencilOp;\n    exports.JSONLoader = JSONLoader;\n    exports.KeepStencilOp = KeepStencilOp;\n    exports.KeyframeTrack = KeyframeTrack;\n    exports.LOD = LOD;\n    exports.LatheBufferGeometry = LatheGeometry;\n    exports.LatheGeometry = LatheGeometry;\n    exports.Layers = Layers;\n    exports.LensFlare = LensFlare;\n    exports.LessDepth = LessDepth;\n    exports.LessEqualDepth = LessEqualDepth;\n    exports.LessEqualStencilFunc = LessEqualStencilFunc;\n    exports.LessStencilFunc = LessStencilFunc;\n    exports.Light = Light;\n    exports.LightProbe = LightProbe;\n    exports.Line = Line;\n    exports.Line3 = Line3;\n    exports.LineBasicMaterial = LineBasicMaterial;\n    exports.LineCurve = LineCurve;\n    exports.LineCurve3 = LineCurve3;\n    exports.LineDashedMaterial = LineDashedMaterial;\n    exports.LineLoop = LineLoop;\n    exports.LinePieces = LinePieces;\n    exports.LineSegments = LineSegments;\n    exports.LineStrip = LineStrip;\n    exports.LinearEncoding = LinearEncoding;\n    exports.LinearFilter = LinearFilter;\n    exports.LinearInterpolant = LinearInterpolant;\n    exports.LinearMipMapLinearFilter = LinearMipMapLinearFilter;\n    exports.LinearMipMapNearestFilter = LinearMipMapNearestFilter;\n    exports.LinearMipmapLinearFilter = LinearMipmapLinearFilter;\n    exports.LinearMipmapNearestFilter = LinearMipmapNearestFilter;\n    exports.LinearToneMapping = LinearToneMapping;\n    exports.Loader = Loader;\n    exports.LoaderUtils = LoaderUtils;\n    exports.LoadingManager = LoadingManager;\n    exports.LogLuvEncoding = LogLuvEncoding;\n    exports.LoopOnce = LoopOnce;\n    exports.LoopPingPong = LoopPingPong;\n    exports.LoopRepeat = LoopRepeat;\n    exports.LuminanceAlphaFormat = LuminanceAlphaFormat;\n    exports.LuminanceFormat = LuminanceFormat;\n    exports.MOUSE = MOUSE;\n    exports.Material = Material;\n    exports.MaterialLoader = MaterialLoader;\n    exports.Math = MathUtils;\n    exports.MathUtils = MathUtils;\n    exports.Matrix3 = Matrix3;\n    exports.Matrix4 = Matrix4;\n    exports.MaxEquation = MaxEquation;\n    exports.Mesh = Mesh;\n    exports.MeshBasicMaterial = MeshBasicMaterial;\n    exports.MeshDepthMaterial = MeshDepthMaterial;\n    exports.MeshDistanceMaterial = MeshDistanceMaterial;\n    exports.MeshFaceMaterial = MeshFaceMaterial;\n    exports.MeshLambertMaterial = MeshLambertMaterial;\n    exports.MeshMatcapMaterial = MeshMatcapMaterial;\n    exports.MeshNormalMaterial = MeshNormalMaterial;\n    exports.MeshPhongMaterial = MeshPhongMaterial;\n    exports.MeshPhysicalMaterial = MeshPhysicalMaterial;\n    exports.MeshStandardMaterial = MeshStandardMaterial;\n    exports.MeshToonMaterial = MeshToonMaterial;\n    exports.MinEquation = MinEquation;\n    exports.MirroredRepeatWrapping = MirroredRepeatWrapping;\n    exports.MixOperation = MixOperation;\n    exports.MultiMaterial = MultiMaterial;\n    exports.MultiplyBlending = MultiplyBlending;\n    exports.MultiplyOperation = MultiplyOperation;\n    exports.NearestFilter = NearestFilter;\n    exports.NearestMipMapLinearFilter = NearestMipMapLinearFilter;\n    exports.NearestMipMapNearestFilter = NearestMipMapNearestFilter;\n    exports.NearestMipmapLinearFilter = NearestMipmapLinearFilter;\n    exports.NearestMipmapNearestFilter = NearestMipmapNearestFilter;\n    exports.NeverDepth = NeverDepth;\n    exports.NeverStencilFunc = NeverStencilFunc;\n    exports.NoBlending = NoBlending;\n    exports.NoColors = NoColors;\n    exports.NoToneMapping = NoToneMapping;\n    exports.NormalAnimationBlendMode = NormalAnimationBlendMode;\n    exports.NormalBlending = NormalBlending;\n    exports.NotEqualDepth = NotEqualDepth;\n    exports.NotEqualStencilFunc = NotEqualStencilFunc;\n    exports.NumberKeyframeTrack = NumberKeyframeTrack;\n    exports.Object3D = Object3D;\n    exports.ObjectLoader = ObjectLoader;\n    exports.ObjectSpaceNormalMap = ObjectSpaceNormalMap;\n    exports.OctahedronBufferGeometry = OctahedronGeometry;\n    exports.OctahedronGeometry = OctahedronGeometry;\n    exports.OneFactor = OneFactor;\n    exports.OneMinusDstAlphaFactor = OneMinusDstAlphaFactor;\n    exports.OneMinusDstColorFactor = OneMinusDstColorFactor;\n    exports.OneMinusSrcAlphaFactor = OneMinusSrcAlphaFactor;\n    exports.OneMinusSrcColorFactor = OneMinusSrcColorFactor;\n    exports.OrthographicCamera = OrthographicCamera;\n    exports.PCFShadowMap = PCFShadowMap;\n    exports.PCFSoftShadowMap = PCFSoftShadowMap;\n    exports.PMREMGenerator = PMREMGenerator;\n    exports.ParametricBufferGeometry = ParametricGeometry;\n    exports.ParametricGeometry = ParametricGeometry;\n    exports.Particle = Particle;\n    exports.ParticleBasicMaterial = ParticleBasicMaterial;\n    exports.ParticleSystem = ParticleSystem;\n    exports.ParticleSystemMaterial = ParticleSystemMaterial;\n    exports.Path = Path;\n    exports.PerspectiveCamera = PerspectiveCamera;\n    exports.Plane = Plane;\n    exports.PlaneBufferGeometry = PlaneGeometry;\n    exports.PlaneGeometry = PlaneGeometry;\n    exports.PlaneHelper = PlaneHelper;\n    exports.PointCloud = PointCloud;\n    exports.PointCloudMaterial = PointCloudMaterial;\n    exports.PointLight = PointLight;\n    exports.PointLightHelper = PointLightHelper;\n    exports.Points = Points;\n    exports.PointsMaterial = PointsMaterial;\n    exports.PolarGridHelper = PolarGridHelper;\n    exports.PolyhedronBufferGeometry = PolyhedronGeometry;\n    exports.PolyhedronGeometry = PolyhedronGeometry;\n    exports.PositionalAudio = PositionalAudio;\n    exports.PropertyBinding = PropertyBinding;\n    exports.PropertyMixer = PropertyMixer;\n    exports.QuadraticBezierCurve = QuadraticBezierCurve;\n    exports.QuadraticBezierCurve3 = QuadraticBezierCurve3;\n    exports.Quaternion = Quaternion;\n    exports.QuaternionKeyframeTrack = QuaternionKeyframeTrack;\n    exports.QuaternionLinearInterpolant = QuaternionLinearInterpolant;\n    exports.REVISION = REVISION;\n    exports.RGBADepthPacking = RGBADepthPacking;\n    exports.RGBAFormat = RGBAFormat;\n    exports.RGBAIntegerFormat = RGBAIntegerFormat;\n    exports.RGBA_ASTC_10x10_Format = RGBA_ASTC_10x10_Format;\n    exports.RGBA_ASTC_10x5_Format = RGBA_ASTC_10x5_Format;\n    exports.RGBA_ASTC_10x6_Format = RGBA_ASTC_10x6_Format;\n    exports.RGBA_ASTC_10x8_Format = RGBA_ASTC_10x8_Format;\n    exports.RGBA_ASTC_12x10_Format = RGBA_ASTC_12x10_Format;\n    exports.RGBA_ASTC_12x12_Format = RGBA_ASTC_12x12_Format;\n    exports.RGBA_ASTC_4x4_Format = RGBA_ASTC_4x4_Format;\n    exports.RGBA_ASTC_5x4_Format = RGBA_ASTC_5x4_Format;\n    exports.RGBA_ASTC_5x5_Format = RGBA_ASTC_5x5_Format;\n    exports.RGBA_ASTC_6x5_Format = RGBA_ASTC_6x5_Format;\n    exports.RGBA_ASTC_6x6_Format = RGBA_ASTC_6x6_Format;\n    exports.RGBA_ASTC_8x5_Format = RGBA_ASTC_8x5_Format;\n    exports.RGBA_ASTC_8x6_Format = RGBA_ASTC_8x6_Format;\n    exports.RGBA_ASTC_8x8_Format = RGBA_ASTC_8x8_Format;\n    exports.RGBA_BPTC_Format = RGBA_BPTC_Format;\n    exports.RGBA_ETC2_EAC_Format = RGBA_ETC2_EAC_Format;\n    exports.RGBA_PVRTC_2BPPV1_Format = RGBA_PVRTC_2BPPV1_Format;\n    exports.RGBA_PVRTC_4BPPV1_Format = RGBA_PVRTC_4BPPV1_Format;\n    exports.RGBA_S3TC_DXT1_Format = RGBA_S3TC_DXT1_Format;\n    exports.RGBA_S3TC_DXT3_Format = RGBA_S3TC_DXT3_Format;\n    exports.RGBA_S3TC_DXT5_Format = RGBA_S3TC_DXT5_Format;\n    exports.RGBDEncoding = RGBDEncoding;\n    exports.RGBEEncoding = RGBEEncoding;\n    exports.RGBEFormat = RGBEFormat;\n    exports.RGBFormat = RGBFormat;\n    exports.RGBIntegerFormat = RGBIntegerFormat;\n    exports.RGBM16Encoding = RGBM16Encoding;\n    exports.RGBM7Encoding = RGBM7Encoding;\n    exports.RGB_ETC1_Format = RGB_ETC1_Format;\n    exports.RGB_ETC2_Format = RGB_ETC2_Format;\n    exports.RGB_PVRTC_2BPPV1_Format = RGB_PVRTC_2BPPV1_Format;\n    exports.RGB_PVRTC_4BPPV1_Format = RGB_PVRTC_4BPPV1_Format;\n    exports.RGB_S3TC_DXT1_Format = RGB_S3TC_DXT1_Format;\n    exports.RGFormat = RGFormat;\n    exports.RGIntegerFormat = RGIntegerFormat;\n    exports.RawShaderMaterial = RawShaderMaterial;\n    exports.Ray = Ray;\n    exports.Raycaster = Raycaster;\n    exports.RectAreaLight = RectAreaLight;\n    exports.RedFormat = RedFormat;\n    exports.RedIntegerFormat = RedIntegerFormat;\n    exports.ReinhardToneMapping = ReinhardToneMapping;\n    exports.RepeatWrapping = RepeatWrapping;\n    exports.ReplaceStencilOp = ReplaceStencilOp;\n    exports.ReverseSubtractEquation = ReverseSubtractEquation;\n    exports.RingBufferGeometry = RingGeometry;\n    exports.RingGeometry = RingGeometry;\n    exports.SRGB8_ALPHA8_ASTC_10x10_Format = SRGB8_ALPHA8_ASTC_10x10_Format;\n    exports.SRGB8_ALPHA8_ASTC_10x5_Format = SRGB8_ALPHA8_ASTC_10x5_Format;\n    exports.SRGB8_ALPHA8_ASTC_10x6_Format = SRGB8_ALPHA8_ASTC_10x6_Format;\n    exports.SRGB8_ALPHA8_ASTC_10x8_Format = SRGB8_ALPHA8_ASTC_10x8_Format;\n    exports.SRGB8_ALPHA8_ASTC_12x10_Format = SRGB8_ALPHA8_ASTC_12x10_Format;\n    exports.SRGB8_ALPHA8_ASTC_12x12_Format = SRGB8_ALPHA8_ASTC_12x12_Format;\n    exports.SRGB8_ALPHA8_ASTC_4x4_Format = SRGB8_ALPHA8_ASTC_4x4_Format;\n    exports.SRGB8_ALPHA8_ASTC_5x4_Format = SRGB8_ALPHA8_ASTC_5x4_Format;\n    exports.SRGB8_ALPHA8_ASTC_5x5_Format = SRGB8_ALPHA8_ASTC_5x5_Format;\n    exports.SRGB8_ALPHA8_ASTC_6x5_Format = SRGB8_ALPHA8_ASTC_6x5_Format;\n    exports.SRGB8_ALPHA8_ASTC_6x6_Format = SRGB8_ALPHA8_ASTC_6x6_Format;\n    exports.SRGB8_ALPHA8_ASTC_8x5_Format = SRGB8_ALPHA8_ASTC_8x5_Format;\n    exports.SRGB8_ALPHA8_ASTC_8x6_Format = SRGB8_ALPHA8_ASTC_8x6_Format;\n    exports.SRGB8_ALPHA8_ASTC_8x8_Format = SRGB8_ALPHA8_ASTC_8x8_Format;\n    exports.Scene = Scene;\n    exports.SceneUtils = SceneUtils;\n    exports.ShaderChunk = ShaderChunk;\n    exports.ShaderLib = ShaderLib;\n    exports.ShaderMaterial = ShaderMaterial;\n    exports.ShadowMaterial = ShadowMaterial;\n    exports.Shape = Shape;\n    exports.ShapeBufferGeometry = ShapeGeometry;\n    exports.ShapeGeometry = ShapeGeometry;\n    exports.ShapePath = ShapePath;\n    exports.ShapeUtils = ShapeUtils;\n    exports.ShortType = ShortType;\n    exports.Skeleton = Skeleton;\n    exports.SkeletonHelper = SkeletonHelper;\n    exports.SkinnedMesh = SkinnedMesh;\n    exports.SmoothShading = SmoothShading;\n    exports.Sphere = Sphere;\n    exports.SphereBufferGeometry = SphereGeometry;\n    exports.SphereGeometry = SphereGeometry;\n    exports.Spherical = Spherical;\n    exports.SphericalHarmonics3 = SphericalHarmonics3;\n    exports.SplineCurve = SplineCurve;\n    exports.SpotLight = SpotLight;\n    exports.SpotLightHelper = SpotLightHelper;\n    exports.Sprite = Sprite;\n    exports.SpriteMaterial = SpriteMaterial;\n    exports.SrcAlphaFactor = SrcAlphaFactor;\n    exports.SrcAlphaSaturateFactor = SrcAlphaSaturateFactor;\n    exports.SrcColorFactor = SrcColorFactor;\n    exports.StaticCopyUsage = StaticCopyUsage;\n    exports.StaticDrawUsage = StaticDrawUsage;\n    exports.StaticReadUsage = StaticReadUsage;\n    exports.StereoCamera = StereoCamera;\n    exports.StreamCopyUsage = StreamCopyUsage;\n    exports.StreamDrawUsage = StreamDrawUsage;\n    exports.StreamReadUsage = StreamReadUsage;\n    exports.StringKeyframeTrack = StringKeyframeTrack;\n    exports.SubtractEquation = SubtractEquation;\n    exports.SubtractiveBlending = SubtractiveBlending;\n    exports.TOUCH = TOUCH;\n    exports.TangentSpaceNormalMap = TangentSpaceNormalMap;\n    exports.TetrahedronBufferGeometry = TetrahedronGeometry;\n    exports.TetrahedronGeometry = TetrahedronGeometry;\n    exports.TextBufferGeometry = TextGeometry;\n    exports.TextGeometry = TextGeometry;\n    exports.Texture = Texture;\n    exports.TextureLoader = TextureLoader;\n    exports.TorusBufferGeometry = TorusGeometry;\n    exports.TorusGeometry = TorusGeometry;\n    exports.TorusKnotBufferGeometry = TorusKnotGeometry;\n    exports.TorusKnotGeometry = TorusKnotGeometry;\n    exports.Triangle = Triangle;\n    exports.TriangleFanDrawMode = TriangleFanDrawMode;\n    exports.TriangleStripDrawMode = TriangleStripDrawMode;\n    exports.TrianglesDrawMode = TrianglesDrawMode;\n    exports.TubeBufferGeometry = TubeGeometry;\n    exports.TubeGeometry = TubeGeometry;\n    exports.UVMapping = UVMapping;\n    exports.Uint16Attribute = Uint16Attribute;\n    exports.Uint16BufferAttribute = Uint16BufferAttribute;\n    exports.Uint32Attribute = Uint32Attribute;\n    exports.Uint32BufferAttribute = Uint32BufferAttribute;\n    exports.Uint8Attribute = Uint8Attribute;\n    exports.Uint8BufferAttribute = Uint8BufferAttribute;\n    exports.Uint8ClampedAttribute = Uint8ClampedAttribute;\n    exports.Uint8ClampedBufferAttribute = Uint8ClampedBufferAttribute;\n    exports.Uniform = Uniform;\n    exports.UniformsLib = UniformsLib;\n    exports.UniformsUtils = UniformsUtils;\n    exports.UnsignedByteType = UnsignedByteType;\n    exports.UnsignedInt248Type = UnsignedInt248Type;\n    exports.UnsignedIntType = UnsignedIntType;\n    exports.UnsignedShort4444Type = UnsignedShort4444Type;\n    exports.UnsignedShort5551Type = UnsignedShort5551Type;\n    exports.UnsignedShort565Type = UnsignedShort565Type;\n    exports.UnsignedShortType = UnsignedShortType;\n    exports.VSMShadowMap = VSMShadowMap;\n    exports.Vector2 = Vector2;\n    exports.Vector3 = Vector3;\n    exports.Vector4 = Vector4;\n    exports.VectorKeyframeTrack = VectorKeyframeTrack;\n    exports.Vertex = Vertex;\n    exports.VertexColors = VertexColors;\n    exports.VideoTexture = VideoTexture;\n    exports.WebGL1Renderer = WebGL1Renderer;\n    exports.WebGLCubeRenderTarget = WebGLCubeRenderTarget;\n    exports.WebGLMultisampleRenderTarget = WebGLMultisampleRenderTarget;\n    exports.WebGLRenderTarget = WebGLRenderTarget;\n    exports.WebGLRenderTargetCube = WebGLRenderTargetCube;\n    exports.WebGLRenderer = WebGLRenderer;\n    exports.WebGLUtils = WebGLUtils;\n    exports.WireframeGeometry = WireframeGeometry;\n    exports.WireframeHelper = WireframeHelper;\n    exports.WrapAroundEnding = WrapAroundEnding;\n    exports.XHRLoader = XHRLoader;\n    exports.ZeroCurvatureEnding = ZeroCurvatureEnding;\n    exports.ZeroFactor = ZeroFactor;\n    exports.ZeroSlopeEnding = ZeroSlopeEnding;\n    exports.ZeroStencilOp = ZeroStencilOp;\n    exports.sRGBEncoding = sRGBEncoding;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));"]}